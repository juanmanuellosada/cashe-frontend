const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BhMmwUhc.js","assets/DateRangePicker-581Jnx40.js","assets/Accounts-V13ftgKu.js","assets/SortDropdown-8-fXskt5.js","assets/Categories-CFFANx5P.js","assets/Expenses-C1ijGbC6.js","assets/MovementsList-BhyvU6zd.js","assets/Income-yceNiKwJ.js","assets/Transfers-BF5z0ELl.js","assets/Statistics-8jvpnf3M.js","assets/PieChart-ClTNeDjj.js","assets/CartesianGrid-BFys7xF_.js","assets/Comparador-DPqPPSjF.js","assets/CategorySummary-CGgA59nN.js"])))=>i.map(i=>d[i]);
var Vy=Object.defineProperty;var Yy=(t,e,r)=>e in t?Vy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ne=(t,e,r)=>Yy(t,typeof e!="symbol"?e+"":e,r);function Gy(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Ky(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dc={exports:{}},Aa={},Ac={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function Jy(){if(Cf)return Ee;Cf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function E(O,F,pe){this.props=O,this.context=F,this.refs=N,this.updater=pe||b}E.prototype.isReactComponent={},E.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function I(){}I.prototype=E.prototype;function R(O,F,pe){this.props=O,this.context=F,this.refs=N,this.updater=pe||b}var j=R.prototype=new I;j.constructor=R,_(j,E.prototype),j.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function G(O,F,pe){var fe,je={},Se=null,Pe=null;if(F!=null)for(fe in F.ref!==void 0&&(Pe=F.ref),F.key!==void 0&&(Se=""+F.key),F)D.call(F,fe)&&!A.hasOwnProperty(fe)&&(je[fe]=F[fe]);var Me=arguments.length-2;if(Me===1)je.children=pe;else if(1<Me){for(var Ae=Array(Me),rt=0;rt<Me;rt++)Ae[rt]=arguments[rt+2];je.children=Ae}if(O&&O.defaultProps)for(fe in Me=O.defaultProps,Me)je[fe]===void 0&&(je[fe]=Me[fe]);return{$$typeof:t,type:O,key:Se,ref:Pe,props:je,_owner:C.current}}function Q(O,F){return{$$typeof:t,type:O.type,key:F,ref:O.ref,props:O.props,_owner:O._owner}}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function Z(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return F[pe]})}var oe=/\/+/g;function me(O,F){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):F.toString(36)}function ie(O,F,pe,fe,je){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Se){case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=O,je=je(Pe),O=fe===""?"."+me(Pe,0):fe,T(je)?(pe="",O!=null&&(pe=O.replace(oe,"$&/")+"/"),ie(je,F,pe,"",function(rt){return rt})):je!=null&&(J(je)&&(je=Q(je,pe+(!je.key||Pe&&Pe.key===je.key?"":(""+je.key).replace(oe,"$&/")+"/")+O)),F.push(je)),1;if(Pe=0,fe=fe===""?".":fe+":",T(O))for(var Me=0;Me<O.length;Me++){Se=O[Me];var Ae=fe+me(Se,Me);Pe+=ie(Se,F,pe,Ae,je)}else if(Ae=w(O),typeof Ae=="function")for(O=Ae.call(O),Me=0;!(Se=O.next()).done;)Se=Se.value,Ae=fe+me(Se,Me++),Pe+=ie(Se,F,pe,Ae,je);else if(Se==="object")throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Pe}function ve(O,F,pe){if(O==null)return O;var fe=[],je=0;return ie(O,fe,"","",function(Se){return F.call(pe,Se,je++)}),fe}function ee(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var we={current:null},z={transition:null},W={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:z,ReactCurrentOwner:C};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:ve,forEach:function(O,F,pe){ve(O,function(){F.apply(this,arguments)},pe)},count:function(O){var F=0;return ve(O,function(){F++}),F},toArray:function(O){return ve(O,function(F){return F})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ee.Component=E,Ee.Fragment=r,Ee.Profiler=o,Ee.PureComponent=R,Ee.StrictMode=a,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ee.act=B,Ee.cloneElement=function(O,F,pe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var fe=_({},O.props),je=O.key,Se=O.ref,Pe=O._owner;if(F!=null){if(F.ref!==void 0&&(Se=F.ref,Pe=C.current),F.key!==void 0&&(je=""+F.key),O.type&&O.type.defaultProps)var Me=O.type.defaultProps;for(Ae in F)D.call(F,Ae)&&!A.hasOwnProperty(Ae)&&(fe[Ae]=F[Ae]===void 0&&Me!==void 0?Me[Ae]:F[Ae])}var Ae=arguments.length-2;if(Ae===1)fe.children=pe;else if(1<Ae){Me=Array(Ae);for(var rt=0;rt<Ae;rt++)Me[rt]=arguments[rt+2];fe.children=Me}return{$$typeof:t,type:O.type,key:je,ref:Se,props:fe,_owner:Pe}},Ee.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ee.createElement=G,Ee.createFactory=function(O){var F=G.bind(null,O);return F.type=O,F},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(O){return{$$typeof:h,render:O}},Ee.isValidElement=J,Ee.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ee}},Ee.memo=function(O,F){return{$$typeof:p,type:O,compare:F===void 0?null:F}},Ee.startTransition=function(O){var F=z.transition;z.transition={};try{O()}finally{z.transition=F}},Ee.unstable_act=B,Ee.useCallback=function(O,F){return we.current.useCallback(O,F)},Ee.useContext=function(O){return we.current.useContext(O)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(O){return we.current.useDeferredValue(O)},Ee.useEffect=function(O,F){return we.current.useEffect(O,F)},Ee.useId=function(){return we.current.useId()},Ee.useImperativeHandle=function(O,F,pe){return we.current.useImperativeHandle(O,F,pe)},Ee.useInsertionEffect=function(O,F){return we.current.useInsertionEffect(O,F)},Ee.useLayoutEffect=function(O,F){return we.current.useLayoutEffect(O,F)},Ee.useMemo=function(O,F){return we.current.useMemo(O,F)},Ee.useReducer=function(O,F,pe){return we.current.useReducer(O,F,pe)},Ee.useRef=function(O){return we.current.useRef(O)},Ee.useState=function(O){return we.current.useState(O)},Ee.useSyncExternalStore=function(O,F,pe){return we.current.useSyncExternalStore(O,F,pe)},Ee.useTransition=function(){return we.current.useTransition()},Ee.version="18.3.1",Ee}var Nf;function Cu(){return Nf||(Nf=1,Ac.exports=Jy()),Ac.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function Qy(){if(Tf)return Aa;Tf=1;var t=Cu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var y,v={},w=null,b=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(b=f.ref);for(y in f)a.call(f,y)&&!l.hasOwnProperty(y)&&(v[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)v[y]===void 0&&(v[y]=f[y]);return{$$typeof:e,type:h,key:w,ref:b,props:v,_owner:o.current}}return Aa.Fragment=r,Aa.jsx=u,Aa.jsxs=u,Aa}var Of;function Xy(){return Of||(Of=1,Dc.exports=Qy()),Dc.exports}var c=Xy(),k=Cu();const re=Ky(k),Zy=Gy({__proto__:null,default:re},[k]);var _i={},Lc={exports:{}},At={},$c={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function ev(){return Pf||(Pf=1,(function(t){function e(z,W){var B=z.length;z.push(W);e:for(;0<B;){var O=B-1>>>1,F=z[O];if(0<o(F,W))z[O]=W,z[B]=F,B=O;else break e}}function r(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var W=z[0],B=z.pop();if(B!==W){z[0]=B;e:for(var O=0,F=z.length,pe=F>>>1;O<pe;){var fe=2*(O+1)-1,je=z[fe],Se=fe+1,Pe=z[Se];if(0>o(je,B))Se<F&&0>o(Pe,je)?(z[O]=Pe,z[Se]=B,O=Se):(z[O]=je,z[fe]=B,O=fe);else if(Se<F&&0>o(Pe,B))z[O]=Pe,z[Se]=B,O=Se;else break e}}return W}function o(z,W){var B=z.sortIndex-W.sortIndex;return B!==0?B:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,v=null,w=3,b=!1,_=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var W=r(p);W!==null;){if(W.callback===null)a(p);else if(W.startTime<=z)a(p),W.sortIndex=W.expirationTime,e(f,W);else break;W=r(p)}}function T(z){if(N=!1,j(z),!_)if(r(f)!==null)_=!0,ee(D);else{var W=r(p);W!==null&&we(T,W.startTime-z)}}function D(z,W){_=!1,N&&(N=!1,I(G),G=-1),b=!0;var B=w;try{for(j(W),v=r(f);v!==null&&(!(v.expirationTime>W)||z&&!Z());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var F=O(v.expirationTime<=W);W=t.unstable_now(),typeof F=="function"?v.callback=F:v===r(f)&&a(f),j(W)}else a(f);v=r(f)}if(v!==null)var pe=!0;else{var fe=r(p);fe!==null&&we(T,fe.startTime-W),pe=!1}return pe}finally{v=null,w=B,b=!1}}var C=!1,A=null,G=-1,Q=5,J=-1;function Z(){return!(t.unstable_now()-J<Q)}function oe(){if(A!==null){var z=t.unstable_now();J=z;var W=!0;try{W=A(!0,z)}finally{W?me():(C=!1,A=null)}}else C=!1}var me;if(typeof R=="function")me=function(){R(oe)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ve=ie.port2;ie.port1.onmessage=oe,me=function(){ve.postMessage(null)}}else me=function(){E(oe,0)};function ee(z){A=z,C||(C=!0,me())}function we(z,W){G=E(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||b||(_=!0,ee(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var B=w;w=W;try{return z()}finally{w=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=w;w=z;try{return W()}finally{w=B}},t.unstable_scheduleCallback=function(z,W,B){var O=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?O+B:O):B=O,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,z={id:y++,callback:W,priorityLevel:z,startTime:B,expirationTime:F,sortIndex:-1},B>O?(z.sortIndex=B,e(p,z),r(f)===null&&z===r(p)&&(N?(I(G),G=-1):N=!0,we(T,B-O))):(z.sortIndex=F,e(f,z),_||b||(_=!0,ee(D))),z},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(z){var W=w;return function(){var B=w;w=W;try{return z.apply(this,arguments)}finally{w=B}}}})(Wc)),Wc}var Mf;function tv(){return Mf||(Mf=1,$c.exports=ev()),$c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function rv(){if(Rf)return At;Rf=1;var t=Cu(),e=tv();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)a.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return f.call(v,n)?!0:f.call(y,n)?!1:p.test(n)?v[n]=!0:(y[n]=!0,!1)}function b(n,s,i,d){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _(n,s,i,d){if(s===null||typeof s>"u"||b(n,s,i,d))return!0;if(d)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(n,s,i,d,m,g,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=i,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=x}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new N(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(I,R);E[s]=new N(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(I,R);E[s]=new N(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(I,R);E[s]=new N(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,s,i,d){var m=E.hasOwnProperty(s)?E[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,i,m,d)&&(i=null),d||m===null?w(s)&&(i===null?n.removeAttribute(s):n.setAttribute(s,""+i)):m.mustUseProperty?n[m.propertyName]=i===null?m.type===3?!1:"":i:(s=m.attributeName,d=m.attributeNamespace,i===null?n.removeAttribute(s):(m=m.type,i=m===3||m===4&&i===!0?"":""+i,d?n.setAttributeNS(d,s,i):n.setAttribute(s,i))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),z=Symbol.iterator;function W(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var B=Object.assign,O;function F(n){if(O===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+n}var pe=!1;function fe(n,s){if(!n||pe)return"";pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var d=U}Reflect.construct(n,[],s)}else{try{s.call()}catch(U){d=U}n.call(s.prototype)}else{try{throw Error()}catch(U){d=U}n()}}catch(U){if(U&&d&&typeof U.stack=="string"){for(var m=U.stack.split(`
`),g=d.stack.split(`
`),x=m.length-1,S=g.length-1;1<=x&&0<=S&&m[x]!==g[S];)S--;for(;1<=x&&0<=S;x--,S--)if(m[x]!==g[S]){if(x!==1||S!==1)do if(x--,S--,0>S||m[x]!==g[S]){var P=`
`+m[x].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=x&&0<=S);break}}}finally{pe=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?F(n):""}function je(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function Se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case C:return"Portal";case Q:return"Profiler";case G:return"StrictMode";case me:return"Suspense";case ie:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z:return(n.displayName||"Context")+".Consumer";case J:return(n._context.displayName||"Context")+".Provider";case oe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ve:return s=n.displayName||null,s!==null?s:Se(n.type)||"Memo";case ee:s=n._payload,n=n._init;try{return Se(n(s))}catch{}}return null}function Pe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(s);case 8:return s===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ae(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(n){var s=Ae(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var m=i.get,g=i.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,g.call(this,x)}}),Object.defineProperty(n,s,{enumerable:i.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Yr(n){n._valueTracker||(n._valueTracker=rt(n))}function X(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),d="";return n&&(d=Ae(n)?n.checked?"true":"false":n.value),n=d,n!==i?(s.setValue(n),!0):!1}function Ue(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bt(n,s){var i=s.checked;return B({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function Tr(n,s){var i=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;i=Me(s.value!=null?s.value:i),n._wrapperState={initialChecked:d,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function io(n,s){s=s.checked,s!=null&&j(n,"checked",s,!1)}function Ys(n,s){io(n,s);var i=Me(s.value),d=s.type;if(i!=null)d==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Gs(n,s.type,i):s.hasOwnProperty("defaultValue")&&Gs(n,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function lo(n,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,i||s===n.value||(n.value=s),n.defaultValue=s}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function Gs(n,s,i){(s!=="number"||Ue(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var kn=Array.isArray;function Gr(n,s,i,d){if(n=n.options,s){s={};for(var m=0;m<i.length;m++)s["$"+i[m]]=!0;for(i=0;i<n.length;i++)m=s.hasOwnProperty("$"+n[i].value),n[i].selected!==m&&(n[i].selected=m),m&&d&&(n[i].defaultSelected=!0)}else{for(i=""+Me(i),s=null,m=0;m<n.length;m++){if(n[m].value===i){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function Ks(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return B({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Js(n,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(r(92));if(kn(i)){if(1<i.length)throw Error(r(93));i=i[0]}s=i}s==null&&(s=""),i=s}n._wrapperState={initialValue:Me(i)}}function Zn(n,s){var i=Me(s.value),d=Me(s.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),s.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),d!=null&&(n.defaultValue=""+d)}function es(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function co(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qs(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?co(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ts,uo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,d,m){MSApp.execUnsafeLocalFunction(function(){return n(s,i,d,m)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ts.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function _n(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qi=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(n){Qi.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),jn[s]=jn[n]})});function ho(n,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||jn.hasOwnProperty(n)&&jn[n]?(""+s).trim():s+"px"}function fo(n,s){n=n.style;for(var i in s)if(s.hasOwnProperty(i)){var d=i.indexOf("--")===0,m=ho(i,s[i],d);i==="float"&&(i="cssFloat"),d?n.setProperty(i,m):n[i]=m}}var Xi=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(n,s){if(s){if(Xi[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function rs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=null;function ns(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _e=null,Ce=null,de=null;function Oe(n){if(n=ba(n)){if(typeof _e!="function")throw Error(r(280));var s=n.stateNode;s&&(s=$o(s),_e(n.stateNode,n.type,s))}}function kt(n){Ce?de?de.push(n):de=[n]:Ce=n}function Ne(){if(Ce){var n=Ce,s=de;if(de=Ce=null,Oe(n),s)for(n=0;n<s.length;n++)Oe(s[n])}}function mo(n,s){return n(s)}function po(){}var ea=!1;function ss(n,s,i){if(ea)return n(s,i);ea=!0;try{return mo(n,s,i)}finally{ea=!1,(Ce!==null||de!==null)&&(po(),Ne())}}function Or(n,s){var i=n.stateNode;if(i===null)return null;var d=$o(i);if(d===null)return null;i=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(r(231,s,typeof i));return i}var Zi=!1;if(h)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Zi=!1}function Xp(n,s,i,d,m,g,x,S,P){var U=Array.prototype.slice.call(arguments,3);try{s.apply(i,U)}catch(V){this.onError(V)}}var ra=!1,go=null,yo=!1,el=null,Zp={onError:function(n){ra=!0,go=n}};function eg(n,s,i,d,m,g,x,S,P){ra=!1,go=null,Xp.apply(Zp,arguments)}function tg(n,s,i,d,m,g,x,S,P){if(eg.apply(this,arguments),ra){if(ra){var U=go;ra=!1,go=null}else throw Error(r(198));yo||(yo=!0,el=U)}}function Sn(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function Ku(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Ju(n){if(Sn(n)!==n)throw Error(r(188))}function rg(n){var s=n.alternate;if(!s){if(s=Sn(n),s===null)throw Error(r(188));return s!==n?null:n}for(var i=n,d=s;;){var m=i.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){i=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===i)return Ju(m),n;if(g===d)return Ju(m),s;g=g.sibling}throw Error(r(188))}if(i.return!==d.return)i=m,d=g;else{for(var x=!1,S=m.child;S;){if(S===i){x=!0,i=m,d=g;break}if(S===d){x=!0,d=m,i=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===i){x=!0,i=g,d=m;break}if(S===d){x=!0,d=g,i=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(i.alternate!==d)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?n:s}function Qu(n){return n=rg(n),n!==null?Xu(n):null}function Xu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Xu(n);if(s!==null)return s;n=n.sibling}return null}var Zu=e.unstable_scheduleCallback,ed=e.unstable_cancelCallback,ng=e.unstable_shouldYield,sg=e.unstable_requestPaint,nt=e.unstable_now,ag=e.unstable_getCurrentPriorityLevel,tl=e.unstable_ImmediatePriority,td=e.unstable_UserBlockingPriority,vo=e.unstable_NormalPriority,og=e.unstable_LowPriority,rd=e.unstable_IdlePriority,wo=null,yr=null;function ig(n){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(wo,n,void 0,(n.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:ug,lg=Math.log,cg=Math.LN2;function ug(n){return n>>>=0,n===0?32:31-(lg(n)/cg|0)|0}var xo=64,bo=4194304;function na(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ko(n,s){var i=n.pendingLanes;if(i===0)return 0;var d=0,m=n.suspendedLanes,g=n.pingedLanes,x=i&268435455;if(x!==0){var S=x&~m;S!==0?d=na(S):(g&=x,g!==0&&(d=na(g)))}else x=i&~m,x!==0?d=na(x):g!==0&&(d=na(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,g=s&-s,m>=g||m===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=i&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)i=31-ar(s),m=1<<i,d|=n[i],s&=~m;return d}function dg(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(n,s){for(var i=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,g=n.pendingLanes;0<g;){var x=31-ar(g),S=1<<x,P=m[x];P===-1?((S&i)===0||(S&d)!==0)&&(m[x]=dg(S,s)):P<=s&&(n.expiredLanes|=S),g&=~S}}function rl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function nd(){var n=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),n}function nl(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function sa(n,s,i){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-ar(s),n[s]=i}function fg(n,s){var i=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<i;){var m=31-ar(i),g=1<<m;s[m]=0,d[m]=-1,n[m]=-1,i&=~g}}function sl(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var d=31-ar(i),m=1<<d;m&s|n[d]&s&&(n[d]|=s),i&=~m}}var Le=0;function sd(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ad,al,od,id,ld,ol=!1,_o=[],Kr=null,Jr=null,Qr=null,aa=new Map,oa=new Map,Xr=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(n,s){switch(n){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":aa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(s.pointerId)}}function ia(n,s,i,d,m,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:i,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},s!==null&&(s=ba(s),s!==null&&al(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function pg(n,s,i,d,m){switch(s){case"focusin":return Kr=ia(Kr,n,s,i,d,m),!0;case"dragenter":return Jr=ia(Jr,n,s,i,d,m),!0;case"mouseover":return Qr=ia(Qr,n,s,i,d,m),!0;case"pointerover":var g=m.pointerId;return aa.set(g,ia(aa.get(g)||null,n,s,i,d,m)),!0;case"gotpointercapture":return g=m.pointerId,oa.set(g,ia(oa.get(g)||null,n,s,i,d,m)),!0}return!1}function ud(n){var s=En(n.target);if(s!==null){var i=Sn(s);if(i!==null){if(s=i.tag,s===13){if(s=Ku(i),s!==null){n.blockedOn=s,ld(n.priority,function(){od(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jo(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=ll(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var d=new i.constructor(i.type,i);Zs=d,i.target.dispatchEvent(d),Zs=null}else return s=ba(i),s!==null&&al(s),n.blockedOn=i,!1;s.shift()}return!0}function dd(n,s,i){jo(n)&&i.delete(s)}function gg(){ol=!1,Kr!==null&&jo(Kr)&&(Kr=null),Jr!==null&&jo(Jr)&&(Jr=null),Qr!==null&&jo(Qr)&&(Qr=null),aa.forEach(dd),oa.forEach(dd)}function la(n,s){n.blockedOn===s&&(n.blockedOn=null,ol||(ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gg)))}function ca(n){function s(m){return la(m,n)}if(0<_o.length){la(_o[0],n);for(var i=1;i<_o.length;i++){var d=_o[i];d.blockedOn===n&&(d.blockedOn=null)}}for(Kr!==null&&la(Kr,n),Jr!==null&&la(Jr,n),Qr!==null&&la(Qr,n),aa.forEach(s),oa.forEach(s),i=0;i<Xr.length;i++)d=Xr[i],d.blockedOn===n&&(d.blockedOn=null);for(;0<Xr.length&&(i=Xr[0],i.blockedOn===null);)ud(i),i.blockedOn===null&&Xr.shift()}var as=T.ReactCurrentBatchConfig,So=!0;function yg(n,s,i,d){var m=Le,g=as.transition;as.transition=null;try{Le=1,il(n,s,i,d)}finally{Le=m,as.transition=g}}function vg(n,s,i,d){var m=Le,g=as.transition;as.transition=null;try{Le=4,il(n,s,i,d)}finally{Le=m,as.transition=g}}function il(n,s,i,d){if(So){var m=ll(n,s,i,d);if(m===null)Sl(n,s,d,Eo,i),cd(n,d);else if(pg(m,n,s,i,d))d.stopPropagation();else if(cd(n,d),s&4&&-1<mg.indexOf(n)){for(;m!==null;){var g=ba(m);if(g!==null&&ad(g),g=ll(n,s,i,d),g===null&&Sl(n,s,d,Eo,i),g===m)break;m=g}m!==null&&d.stopPropagation()}else Sl(n,s,d,null,i)}}var Eo=null;function ll(n,s,i,d){if(Eo=null,n=ns(d),n=En(n),n!==null)if(s=Sn(n),s===null)n=null;else if(i=s.tag,i===13){if(n=Ku(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Eo=n,null}function hd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case tl:return 1;case td:return 4;case vo:case og:return 16;case rd:return 536870912;default:return 16}default:return 16}}var Zr=null,cl=null,Co=null;function fd(){if(Co)return Co;var n,s=cl,i=s.length,d,m="value"in Zr?Zr.value:Zr.textContent,g=m.length;for(n=0;n<i&&s[n]===m[n];n++);var x=i-n;for(d=1;d<=x&&s[i-d]===m[g-d];d++);return Co=m.slice(n,1<d?1-d:void 0)}function No(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function To(){return!0}function md(){return!1}function Lt(n){function s(i,d,m,g,x){this._reactName=i,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(i=n[S],this[S]=i?i(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?To:md,this.isPropagationStopped=md,this}return B(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Lt(os),ua=B({},os,{view:0,detail:0}),wg=Lt(ua),dl,hl,da,Oo=B({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==da&&(da&&n.type==="mousemove"?(dl=n.screenX-da.screenX,hl=n.screenY-da.screenY):hl=dl=0,da=n),dl)},movementY:function(n){return"movementY"in n?n.movementY:hl}}),pd=Lt(Oo),xg=B({},Oo,{dataTransfer:0}),bg=Lt(xg),kg=B({},ua,{relatedTarget:0}),fl=Lt(kg),_g=B({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),jg=Lt(_g),Sg=B({},os,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Eg=Lt(Sg),Cg=B({},os,{data:0}),gd=Lt(Cg),Ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Og[n])?!!s[n]:!1}function ml(){return Pg}var Mg=B({},ua,{key:function(n){if(n.key){var s=Ng[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=No(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tg[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(n){return n.type==="keypress"?No(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?No(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rg=Lt(Mg),Ig=B({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=Lt(Ig),Dg=B({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Ag=Lt(Dg),Lg=B({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=Lt(Lg),Wg=B({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Lt(Wg),Bg=[9,13,27,32],pl=h&&"CompositionEvent"in window,ha=null;h&&"documentMode"in document&&(ha=document.documentMode);var zg=h&&"TextEvent"in window&&!ha,vd=h&&(!pl||ha&&8<ha&&11>=ha),wd=" ",xd=!1;function bd(n,s){switch(n){case"keyup":return Bg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var is=!1;function Fg(n,s){switch(n){case"compositionend":return kd(s);case"keypress":return s.which!==32?null:(xd=!0,wd);case"textInput":return n=s.data,n===wd&&xd?null:n;default:return null}}function qg(n,s){if(is)return n==="compositionend"||!pl&&bd(n,s)?(n=fd(),Co=cl=Zr=null,is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vd&&s.locale!=="ko"?null:s.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Hg[n.type]:s==="textarea"}function jd(n,s,i,d){kt(d),s=Do(s,"onChange"),0<s.length&&(i=new ul("onChange","change",null,i,d),n.push({event:i,listeners:s}))}var fa=null,ma=null;function Vg(n){zd(n,0)}function Po(n){var s=hs(n);if(X(s))return n}function Yg(n,s){if(n==="change")return s}var Sd=!1;if(h){var gl;if(h){var yl="oninput"in document;if(!yl){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),yl=typeof Ed.oninput=="function"}gl=yl}else gl=!1;Sd=gl&&(!document.documentMode||9<document.documentMode)}function Cd(){fa&&(fa.detachEvent("onpropertychange",Nd),ma=fa=null)}function Nd(n){if(n.propertyName==="value"&&Po(ma)){var s=[];jd(s,ma,n,ns(n)),ss(Vg,s)}}function Gg(n,s,i){n==="focusin"?(Cd(),fa=s,ma=i,fa.attachEvent("onpropertychange",Nd)):n==="focusout"&&Cd()}function Kg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Po(ma)}function Jg(n,s){if(n==="click")return Po(s)}function Qg(n,s){if(n==="input"||n==="change")return Po(s)}function Xg(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var or=typeof Object.is=="function"?Object.is:Xg;function pa(n,s){if(or(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),d=Object.keys(s);if(i.length!==d.length)return!1;for(d=0;d<i.length;d++){var m=i[d];if(!f.call(s,m)||!or(n[m],s[m]))return!1}return!0}function Td(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Od(n,s){var i=Td(n);n=0;for(var d;i;){if(i.nodeType===3){if(d=n+i.textContent.length,n<=s&&d>=s)return{node:i,offset:s-n};n=d}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Td(i)}}function Pd(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Pd(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Md(){for(var n=window,s=Ue();s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=Ue(n.document)}return s}function vl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Zg(n){var s=Md(),i=n.focusedElem,d=n.selectionRange;if(s!==i&&i&&i.ownerDocument&&Pd(i.ownerDocument.documentElement,i)){if(d!==null&&vl(i)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(n,i.value.length);else if(n=(s=i.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var m=i.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!n.extend&&g>d&&(m=d,d=g,g=m),m=Od(i,g);var x=Od(i,d);m&&x&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),n.addRange(s)))}}for(s=[],n=i;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)n=s[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ey=h&&"documentMode"in document&&11>=document.documentMode,ls=null,wl=null,ga=null,xl=!1;function Rd(n,s,i){var d=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xl||ls==null||ls!==Ue(d)||(d=ls,"selectionStart"in d&&vl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ga&&pa(ga,d)||(ga=d,d=Do(wl,"onSelect"),0<d.length&&(s=new ul("onSelect","select",null,s,i),n.push({event:s,listeners:d}),s.target=ls)))}function Mo(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var cs={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},bl={},Id={};h&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ro(n){if(bl[n])return bl[n];if(!cs[n])return n;var s=cs[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in Id)return bl[n]=s[i];return n}var Dd=Ro("animationend"),Ad=Ro("animationiteration"),Ld=Ro("animationstart"),$d=Ro("transitionend"),Wd=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(n,s){Wd.set(n,s),l(s,[n])}for(var kl=0;kl<Ud.length;kl++){var _l=Ud[kl],ty=_l.toLowerCase(),ry=_l[0].toUpperCase()+_l.slice(1);en(ty,"on"+ry)}en(Dd,"onAnimationEnd"),en(Ad,"onAnimationIteration"),en(Ld,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en($d,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function Bd(n,s,i){var d=n.type||"unknown-event";n.currentTarget=i,tg(d,s,void 0,n),n.currentTarget=null}function zd(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var d=n[i],m=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var x=d.length-1;0<=x;x--){var S=d[x],P=S.instance,U=S.currentTarget;if(S=S.listener,P!==g&&m.isPropagationStopped())break e;Bd(m,S,U),g=P}else for(x=0;x<d.length;x++){if(S=d[x],P=S.instance,U=S.currentTarget,S=S.listener,P!==g&&m.isPropagationStopped())break e;Bd(m,S,U),g=P}}}if(yo)throw n=el,yo=!1,el=null,n}function Fe(n,s){var i=s[Pl];i===void 0&&(i=s[Pl]=new Set);var d=n+"__bubble";i.has(d)||(Fd(s,n,2,!1),i.add(d))}function jl(n,s,i){var d=0;s&&(d|=4),Fd(i,n,d,s)}var Io="_reactListening"+Math.random().toString(36).slice(2);function va(n){if(!n[Io]){n[Io]=!0,a.forEach(function(i){i!=="selectionchange"&&(ny.has(i)||jl(i,!1,n),jl(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Io]||(s[Io]=!0,jl("selectionchange",!1,s))}}function Fd(n,s,i,d){switch(hd(s)){case 1:var m=yg;break;case 4:m=vg;break;default:m=il}i=m.bind(null,s,i,n),m=void 0,!Zi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(s,i,{capture:!0,passive:m}):n.addEventListener(s,i,!0):m!==void 0?n.addEventListener(s,i,{passive:m}):n.addEventListener(s,i,!1)}function Sl(n,s,i,d,m){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var S=d.stateNode.containerInfo;if(S===m||S.nodeType===8&&S.parentNode===m)break;if(x===4)for(x=d.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;x=x.return}for(;S!==null;){if(x=En(S),x===null)return;if(P=x.tag,P===5||P===6){d=g=x;continue e}S=S.parentNode}}d=d.return}ss(function(){var U=g,V=ns(i),Y=[];e:{var q=Wd.get(n);if(q!==void 0){var te=ul,ae=n;switch(n){case"keypress":if(No(i)===0)break e;case"keydown":case"keyup":te=Rg;break;case"focusin":ae="focus",te=fl;break;case"focusout":ae="blur",te=fl;break;case"beforeblur":case"afterblur":te=fl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ag;break;case Dd:case Ad:case Ld:te=jg;break;case $d:te=$g;break;case"scroll":te=wg;break;case"wheel":te=Ug;break;case"copy":case"cut":case"paste":te=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=yd}var le=(s&4)!==0,st=!le&&n==="scroll",L=le?q!==null?q+"Capture":null:q;le=[];for(var M=U,$;M!==null;){$=M;var K=$.stateNode;if($.tag===5&&K!==null&&($=K,L!==null&&(K=Or(M,L),K!=null&&le.push(wa(M,K,$)))),st)break;M=M.return}0<le.length&&(q=new te(q,ae,null,i,V),Y.push({event:q,listeners:le}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",q&&i!==Zs&&(ae=i.relatedTarget||i.fromElement)&&(En(ae)||ae[Pr]))break e;if((te||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,te?(ae=i.relatedTarget||i.toElement,te=U,ae=ae?En(ae):null,ae!==null&&(st=Sn(ae),ae!==st||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(te=null,ae=U),te!==ae)){if(le=pd,K="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(le=yd,K="onPointerLeave",L="onPointerEnter",M="pointer"),st=te==null?q:hs(te),$=ae==null?q:hs(ae),q=new le(K,M+"leave",te,i,V),q.target=st,q.relatedTarget=$,K=null,En(V)===U&&(le=new le(L,M+"enter",ae,i,V),le.target=$,le.relatedTarget=st,K=le),st=K,te&&ae)t:{for(le=te,L=ae,M=0,$=le;$;$=us($))M++;for($=0,K=L;K;K=us(K))$++;for(;0<M-$;)le=us(le),M--;for(;0<$-M;)L=us(L),$--;for(;M--;){if(le===L||L!==null&&le===L.alternate)break t;le=us(le),L=us(L)}le=null}else le=null;te!==null&&qd(Y,q,te,le,!1),ae!==null&&st!==null&&qd(Y,st,ae,le,!0)}}e:{if(q=U?hs(U):window,te=q.nodeName&&q.nodeName.toLowerCase(),te==="select"||te==="input"&&q.type==="file")var ce=Yg;else if(_d(q))if(Sd)ce=Qg;else{ce=Kg;var ge=Gg}else(te=q.nodeName)&&te.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ce=Jg);if(ce&&(ce=ce(n,U))){jd(Y,ce,i,V);break e}ge&&ge(n,q,U),n==="focusout"&&(ge=q._wrapperState)&&ge.controlled&&q.type==="number"&&Gs(q,"number",q.value)}switch(ge=U?hs(U):window,n){case"focusin":(_d(ge)||ge.contentEditable==="true")&&(ls=ge,wl=U,ga=null);break;case"focusout":ga=wl=ls=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Rd(Y,i,V);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":Rd(Y,i,V)}var ye;if(pl)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else is?bd(n,i)&&(ke="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(vd&&i.locale!=="ko"&&(is||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&is&&(ye=fd()):(Zr=V,cl="value"in Zr?Zr.value:Zr.textContent,is=!0)),ge=Do(U,ke),0<ge.length&&(ke=new gd(ke,n,null,i,V),Y.push({event:ke,listeners:ge}),ye?ke.data=ye:(ye=kd(i),ye!==null&&(ke.data=ye)))),(ye=zg?Fg(n,i):qg(n,i))&&(U=Do(U,"onBeforeInput"),0<U.length&&(V=new gd("onBeforeInput","beforeinput",null,i,V),Y.push({event:V,listeners:U}),V.data=ye))}zd(Y,s)})}function wa(n,s,i){return{instance:n,listener:s,currentTarget:i}}function Do(n,s){for(var i=s+"Capture",d=[];n!==null;){var m=n,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=Or(n,i),g!=null&&d.unshift(wa(n,g,m)),g=Or(n,s),g!=null&&d.push(wa(n,g,m))),n=n.return}return d}function us(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qd(n,s,i,d,m){for(var g=s._reactName,x=[];i!==null&&i!==d;){var S=i,P=S.alternate,U=S.stateNode;if(P!==null&&P===d)break;S.tag===5&&U!==null&&(S=U,m?(P=Or(i,g),P!=null&&x.unshift(wa(i,P,S))):m||(P=Or(i,g),P!=null&&x.push(wa(i,P,S)))),i=i.return}x.length!==0&&n.push({event:s,listeners:x})}var sy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function Hd(n){return(typeof n=="string"?n:""+n).replace(sy,`
`).replace(ay,"")}function Ao(n,s,i){if(s=Hd(s),Hd(n)!==s&&i)throw Error(r(425))}function Lo(){}var El=null,Cl=null;function Nl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(n){return Vd.resolve(null).then(n).catch(ly)}:Tl;function ly(n){setTimeout(function(){throw n})}function Ol(n,s){var i=s,d=0;do{var m=i.nextSibling;if(n.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"){if(d===0){n.removeChild(m),ca(s);return}d--}else i!=="$"&&i!=="$?"&&i!=="$!"||d++;i=m}while(i);ca(s)}function tn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Yd(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return n;s--}else i==="/$"&&s++}n=n.previousSibling}return null}var ds=Math.random().toString(36).slice(2),vr="__reactFiber$"+ds,xa="__reactProps$"+ds,Pr="__reactContainer$"+ds,Pl="__reactEvents$"+ds,cy="__reactListeners$"+ds,uy="__reactHandles$"+ds;function En(n){var s=n[vr];if(s)return s;for(var i=n.parentNode;i;){if(s=i[Pr]||i[vr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=Yd(n);n!==null;){if(i=n[vr])return i;n=Yd(n)}return s}n=i,i=n.parentNode}return null}function ba(n){return n=n[vr]||n[Pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function hs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function $o(n){return n[xa]||null}var Ml=[],fs=-1;function rn(n){return{current:n}}function qe(n){0>fs||(n.current=Ml[fs],Ml[fs]=null,fs--)}function Be(n,s){fs++,Ml[fs]=n.current,n.current=s}var nn={},_t=rn(nn),Pt=rn(!1),Cn=nn;function ms(n,s){var i=n.type.contextTypes;if(!i)return nn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in i)m[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=m),m}function Mt(n){return n=n.childContextTypes,n!=null}function Wo(){qe(Pt),qe(_t)}function Gd(n,s,i){if(_t.current!==nn)throw Error(r(168));Be(_t,s),Be(Pt,i)}function Kd(n,s,i){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return i;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(r(108,Pe(n)||"Unknown",m));return B({},i,d)}function Uo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||nn,Cn=_t.current,Be(_t,n),Be(Pt,Pt.current),!0}function Jd(n,s,i){var d=n.stateNode;if(!d)throw Error(r(169));i?(n=Kd(n,s,Cn),d.__reactInternalMemoizedMergedChildContext=n,qe(Pt),qe(_t),Be(_t,n)):qe(Pt),Be(Pt,i)}var Mr=null,Bo=!1,Rl=!1;function Qd(n){Mr===null?Mr=[n]:Mr.push(n)}function dy(n){Bo=!0,Qd(n)}function sn(){if(!Rl&&Mr!==null){Rl=!0;var n=0,s=Le;try{var i=Mr;for(Le=1;n<i.length;n++){var d=i[n];do d=d(!0);while(d!==null)}Mr=null,Bo=!1}catch(m){throw Mr!==null&&(Mr=Mr.slice(n+1)),Zu(tl,sn),m}finally{Le=s,Rl=!1}}return null}var ps=[],gs=0,zo=null,Fo=0,Qt=[],Xt=0,Nn=null,Rr=1,Ir="";function Tn(n,s){ps[gs++]=Fo,ps[gs++]=zo,zo=n,Fo=s}function Xd(n,s,i){Qt[Xt++]=Rr,Qt[Xt++]=Ir,Qt[Xt++]=Nn,Nn=n;var d=Rr;n=Ir;var m=32-ar(d)-1;d&=~(1<<m),i+=1;var g=32-ar(s)+m;if(30<g){var x=m-m%5;g=(d&(1<<x)-1).toString(32),d>>=x,m-=x,Rr=1<<32-ar(s)+m|i<<m|d,Ir=g+n}else Rr=1<<g|i<<m|d,Ir=n}function Il(n){n.return!==null&&(Tn(n,1),Xd(n,1,0))}function Dl(n){for(;n===zo;)zo=ps[--gs],ps[gs]=null,Fo=ps[--gs],ps[gs]=null;for(;n===Nn;)Nn=Qt[--Xt],Qt[Xt]=null,Ir=Qt[--Xt],Qt[Xt]=null,Rr=Qt[--Xt],Qt[Xt]=null}var $t=null,Wt=null,He=!1,ir=null;function Zd(n,s){var i=rr(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=n,s=n.deletions,s===null?(n.deletions=[i],n.flags|=16):s.push(i)}function eh(n,s){switch(n.tag){case 5:var i=n.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,$t=n,Wt=tn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,$t=n,Wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=Nn!==null?{id:Rr,overflow:Ir}:null,n.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=rr(18,null,null,0),i.stateNode=s,i.return=n,n.child=i,$t=n,Wt=null,!0):!1;default:return!1}}function Al(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ll(n){if(He){var s=Wt;if(s){var i=s;if(!eh(n,s)){if(Al(n))throw Error(r(418));s=tn(i.nextSibling);var d=$t;s&&eh(n,s)?Zd(d,i):(n.flags=n.flags&-4097|2,He=!1,$t=n)}}else{if(Al(n))throw Error(r(418));n.flags=n.flags&-4097|2,He=!1,$t=n}}}function th(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$t=n}function qo(n){if(n!==$t)return!1;if(!He)return th(n),He=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Nl(n.type,n.memoizedProps)),s&&(s=Wt)){if(Al(n))throw rh(),Error(r(418));for(;s;)Zd(n,s),s=tn(s.nextSibling)}if(th(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(s===0){Wt=tn(n.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}n=n.nextSibling}Wt=null}}else Wt=$t?tn(n.stateNode.nextSibling):null;return!0}function rh(){for(var n=Wt;n;)n=tn(n.nextSibling)}function ys(){Wt=$t=null,He=!1}function $l(n){ir===null?ir=[n]:ir.push(n)}var hy=T.ReactCurrentBatchConfig;function ka(n,s,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var d=i.stateNode}if(!d)throw Error(r(147,n));var m=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(x){var S=m.refs;x===null?delete S[g]:S[g]=x},s._stringRef=g,s)}if(typeof n!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,n))}return n}function Ho(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function nh(n){var s=n._init;return s(n._payload)}function sh(n){function s(L,M){if(n){var $=L.deletions;$===null?(L.deletions=[M],L.flags|=16):$.push(M)}}function i(L,M){if(!n)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function d(L,M){for(L=new Map;M!==null;)M.key!==null?L.set(M.key,M):L.set(M.index,M),M=M.sibling;return L}function m(L,M){return L=fn(L,M),L.index=0,L.sibling=null,L}function g(L,M,$){return L.index=$,n?($=L.alternate,$!==null?($=$.index,$<M?(L.flags|=2,M):$):(L.flags|=2,M)):(L.flags|=1048576,M)}function x(L){return n&&L.alternate===null&&(L.flags|=2),L}function S(L,M,$,K){return M===null||M.tag!==6?(M=Tc($,L.mode,K),M.return=L,M):(M=m(M,$),M.return=L,M)}function P(L,M,$,K){var ce=$.type;return ce===A?V(L,M,$.props.children,K,$.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&nh(ce)===M.type)?(K=m(M,$.props),K.ref=ka(L,M,$),K.return=L,K):(K=pi($.type,$.key,$.props,null,L.mode,K),K.ref=ka(L,M,$),K.return=L,K)}function U(L,M,$,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=Oc($,L.mode,K),M.return=L,M):(M=m(M,$.children||[]),M.return=L,M)}function V(L,M,$,K,ce){return M===null||M.tag!==7?(M=Ln($,L.mode,K,ce),M.return=L,M):(M=m(M,$),M.return=L,M)}function Y(L,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Tc(""+M,L.mode,$),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return $=pi(M.type,M.key,M.props,null,L.mode,$),$.ref=ka(L,null,M),$.return=L,$;case C:return M=Oc(M,L.mode,$),M.return=L,M;case ee:var K=M._init;return Y(L,K(M._payload),$)}if(kn(M)||W(M))return M=Ln(M,L.mode,$,null),M.return=L,M;Ho(L,M)}return null}function q(L,M,$,K){var ce=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ce!==null?null:S(L,M,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return $.key===ce?P(L,M,$,K):null;case C:return $.key===ce?U(L,M,$,K):null;case ee:return ce=$._init,q(L,M,ce($._payload),K)}if(kn($)||W($))return ce!==null?null:V(L,M,$,K,null);Ho(L,$)}return null}function te(L,M,$,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get($)||null,S(M,L,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return L=L.get(K.key===null?$:K.key)||null,P(M,L,K,ce);case C:return L=L.get(K.key===null?$:K.key)||null,U(M,L,K,ce);case ee:var ge=K._init;return te(L,M,$,ge(K._payload),ce)}if(kn(K)||W(K))return L=L.get($)||null,V(M,L,K,ce,null);Ho(M,K)}return null}function ae(L,M,$,K){for(var ce=null,ge=null,ye=M,ke=M=0,pt=null;ye!==null&&ke<$.length;ke++){ye.index>ke?(pt=ye,ye=null):pt=ye.sibling;var Ie=q(L,ye,$[ke],K);if(Ie===null){ye===null&&(ye=pt);break}n&&ye&&Ie.alternate===null&&s(L,ye),M=g(Ie,M,ke),ge===null?ce=Ie:ge.sibling=Ie,ge=Ie,ye=pt}if(ke===$.length)return i(L,ye),He&&Tn(L,ke),ce;if(ye===null){for(;ke<$.length;ke++)ye=Y(L,$[ke],K),ye!==null&&(M=g(ye,M,ke),ge===null?ce=ye:ge.sibling=ye,ge=ye);return He&&Tn(L,ke),ce}for(ye=d(L,ye);ke<$.length;ke++)pt=te(ye,L,ke,$[ke],K),pt!==null&&(n&&pt.alternate!==null&&ye.delete(pt.key===null?ke:pt.key),M=g(pt,M,ke),ge===null?ce=pt:ge.sibling=pt,ge=pt);return n&&ye.forEach(function(mn){return s(L,mn)}),He&&Tn(L,ke),ce}function le(L,M,$,K){var ce=W($);if(typeof ce!="function")throw Error(r(150));if($=ce.call($),$==null)throw Error(r(151));for(var ge=ce=null,ye=M,ke=M=0,pt=null,Ie=$.next();ye!==null&&!Ie.done;ke++,Ie=$.next()){ye.index>ke?(pt=ye,ye=null):pt=ye.sibling;var mn=q(L,ye,Ie.value,K);if(mn===null){ye===null&&(ye=pt);break}n&&ye&&mn.alternate===null&&s(L,ye),M=g(mn,M,ke),ge===null?ce=mn:ge.sibling=mn,ge=mn,ye=pt}if(Ie.done)return i(L,ye),He&&Tn(L,ke),ce;if(ye===null){for(;!Ie.done;ke++,Ie=$.next())Ie=Y(L,Ie.value,K),Ie!==null&&(M=g(Ie,M,ke),ge===null?ce=Ie:ge.sibling=Ie,ge=Ie);return He&&Tn(L,ke),ce}for(ye=d(L,ye);!Ie.done;ke++,Ie=$.next())Ie=te(ye,L,ke,Ie.value,K),Ie!==null&&(n&&Ie.alternate!==null&&ye.delete(Ie.key===null?ke:Ie.key),M=g(Ie,M,ke),ge===null?ce=Ie:ge.sibling=Ie,ge=Ie);return n&&ye.forEach(function(Hy){return s(L,Hy)}),He&&Tn(L,ke),ce}function st(L,M,$,K){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case D:e:{for(var ce=$.key,ge=M;ge!==null;){if(ge.key===ce){if(ce=$.type,ce===A){if(ge.tag===7){i(L,ge.sibling),M=m(ge,$.props.children),M.return=L,L=M;break e}}else if(ge.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&nh(ce)===ge.type){i(L,ge.sibling),M=m(ge,$.props),M.ref=ka(L,ge,$),M.return=L,L=M;break e}i(L,ge);break}else s(L,ge);ge=ge.sibling}$.type===A?(M=Ln($.props.children,L.mode,K,$.key),M.return=L,L=M):(K=pi($.type,$.key,$.props,null,L.mode,K),K.ref=ka(L,M,$),K.return=L,L=K)}return x(L);case C:e:{for(ge=$.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){i(L,M.sibling),M=m(M,$.children||[]),M.return=L,L=M;break e}else{i(L,M);break}else s(L,M);M=M.sibling}M=Oc($,L.mode,K),M.return=L,L=M}return x(L);case ee:return ge=$._init,st(L,M,ge($._payload),K)}if(kn($))return ae(L,M,$,K);if(W($))return le(L,M,$,K);Ho(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,M!==null&&M.tag===6?(i(L,M.sibling),M=m(M,$),M.return=L,L=M):(i(L,M),M=Tc($,L.mode,K),M.return=L,L=M),x(L)):i(L,M)}return st}var vs=sh(!0),ah=sh(!1),Vo=rn(null),Yo=null,ws=null,Wl=null;function Ul(){Wl=ws=Yo=null}function Bl(n){var s=Vo.current;qe(Vo),n._currentValue=s}function zl(n,s,i){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===i)break;n=n.return}}function xs(n,s){Yo=n,Wl=ws=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Rt=!0),n.firstContext=null)}function Zt(n){var s=n._currentValue;if(Wl!==n)if(n={context:n,memoizedValue:s,next:null},ws===null){if(Yo===null)throw Error(r(308));ws=n,Yo.dependencies={lanes:0,firstContext:n}}else ws=ws.next=n;return s}var On=null;function Fl(n){On===null?On=[n]:On.push(n)}function oh(n,s,i,d){var m=s.interleaved;return m===null?(i.next=i,Fl(s)):(i.next=m.next,m.next=i),s.interleaved=i,Dr(n,d)}function Dr(n,s){n.lanes|=s;var i=n.alternate;for(i!==null&&(i.lanes|=s),i=n,n=n.return;n!==null;)n.childLanes|=s,i=n.alternate,i!==null&&(i.childLanes|=s),i=n,n=n.return;return i.tag===3?i.stateNode:null}var an=!1;function ql(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ih(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function on(n,s,i){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,Dr(n,i)}return m=d.interleaved,m===null?(s.next=s,Fl(d)):(s.next=m.next,m.next=s),d.interleaved=s,Dr(n,i)}function Go(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,i|=d,s.lanes=i,sl(n,i)}}function lh(n,s){var i=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,i===d)){var m=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?m=g=x:g=g.next=x,i=i.next}while(i!==null);g===null?m=g=s:g=g.next=s}else m=g=s;i={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}function Ko(n,s,i,d){var m=n.updateQueue;an=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var P=S,U=P.next;P.next=null,x===null?g=U:x.next=U,x=P;var V=n.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==x&&(S===null?V.firstBaseUpdate=U:S.next=U,V.lastBaseUpdate=P))}if(g!==null){var Y=m.baseState;x=0,V=U=P=null,S=g;do{var q=S.lane,te=S.eventTime;if((d&q)===q){V!==null&&(V=V.next={eventTime:te,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=n,le=S;switch(q=s,te=i,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(te,Y,q);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,q=typeof ae=="function"?ae.call(te,Y,q):ae,q==null)break e;Y=B({},Y,q);break e;case 2:an=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,q=m.effects,q===null?m.effects=[S]:q.push(S))}else te={eventTime:te,lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(U=V=te,P=Y):V=V.next=te,x|=q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;q=S,S=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);if(V===null&&(P=Y),m.baseState=P,m.firstBaseUpdate=U,m.lastBaseUpdate=V,s=m.shared.interleaved,s!==null){m=s;do x|=m.lane,m=m.next;while(m!==s)}else g===null&&(m.shared.lanes=0);Rn|=x,n.lanes=x,n.memoizedState=Y}}function ch(n,s,i){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],m=d.callback;if(m!==null){if(d.callback=null,d=i,typeof m!="function")throw Error(r(191,m));m.call(d)}}}var _a={},wr=rn(_a),ja=rn(_a),Sa=rn(_a);function Pn(n){if(n===_a)throw Error(r(174));return n}function Hl(n,s){switch(Be(Sa,s),Be(ja,n),Be(wr,_a),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Qs(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Qs(s,n)}qe(wr),Be(wr,s)}function bs(){qe(wr),qe(ja),qe(Sa)}function uh(n){Pn(Sa.current);var s=Pn(wr.current),i=Qs(s,n.type);s!==i&&(Be(ja,n),Be(wr,i))}function Vl(n){ja.current===n&&(qe(wr),qe(ja))}var Ye=rn(0);function Jo(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yl=[];function Gl(){for(var n=0;n<Yl.length;n++)Yl[n]._workInProgressVersionPrimary=null;Yl.length=0}var Qo=T.ReactCurrentDispatcher,Kl=T.ReactCurrentBatchConfig,Mn=0,Ge=null,ut=null,ft=null,Xo=!1,Ea=!1,Ca=0,fy=0;function jt(){throw Error(r(321))}function Jl(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!or(n[i],s[i]))return!1;return!0}function Ql(n,s,i,d,m,g){if(Mn=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qo.current=n===null||n.memoizedState===null?yy:vy,n=i(d,m),Ea){g=0;do{if(Ea=!1,Ca=0,25<=g)throw Error(r(301));g+=1,ft=ut=null,s.updateQueue=null,Qo.current=wy,n=i(d,m)}while(Ea)}if(Qo.current=ti,s=ut!==null&&ut.next!==null,Mn=0,ft=ut=Ge=null,Xo=!1,s)throw Error(r(300));return n}function Xl(){var n=Ca!==0;return Ca=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=n:ft=ft.next=n,ft}function er(){if(ut===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var s=ft===null?Ge.memoizedState:ft.next;if(s!==null)ft=s,ut=n;else{if(n===null)throw Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?Ge.memoizedState=ft=n:ft=ft.next=n}return ft}function Na(n,s){return typeof s=="function"?s(n):s}function Zl(n){var s=er(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var d=ut,m=d.baseQueue,g=i.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}d.baseQueue=m=g,i.pending=null}if(m!==null){g=m.next,d=d.baseState;var S=x=null,P=null,U=g;do{var V=U.lane;if((Mn&V)===V)P!==null&&(P=P.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),d=U.hasEagerState?U.eagerState:n(d,U.action);else{var Y={lane:V,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};P===null?(S=P=Y,x=d):P=P.next=Y,Ge.lanes|=V,Rn|=V}U=U.next}while(U!==null&&U!==g);P===null?x=d:P.next=S,or(d,s.memoizedState)||(Rt=!0),s.memoizedState=d,s.baseState=x,s.baseQueue=P,i.lastRenderedState=d}if(n=i.interleaved,n!==null){m=n;do g=m.lane,Ge.lanes|=g,Rn|=g,m=m.next;while(m!==n)}else m===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function ec(n){var s=er(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var d=i.dispatch,m=i.pending,g=s.memoizedState;if(m!==null){i.pending=null;var x=m=m.next;do g=n(g,x.action),x=x.next;while(x!==m);or(g,s.memoizedState)||(Rt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,d]}function dh(){}function hh(n,s){var i=Ge,d=er(),m=s(),g=!or(d.memoizedState,m);if(g&&(d.memoizedState=m,Rt=!0),d=d.queue,tc(ph.bind(null,i,d,n),[n]),d.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(i.flags|=2048,Ta(9,mh.bind(null,i,d,m,s),void 0,null),mt===null)throw Error(r(349));(Mn&30)!==0||fh(i,s,m)}return m}function fh(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function mh(n,s,i,d){s.value=i,s.getSnapshot=d,gh(s)&&yh(n)}function ph(n,s,i){return i(function(){gh(s)&&yh(n)})}function gh(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!or(n,i)}catch{return!0}}function yh(n){var s=Dr(n,1);s!==null&&dr(s,n,1,-1)}function vh(n){var s=xr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},s.queue=n,n=n.dispatch=gy.bind(null,Ge,n),[s.memoizedState,n]}function Ta(n,s,i,d){return n={tag:n,create:s,destroy:i,deps:d,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=n.next=n):(i=s.lastEffect,i===null?s.lastEffect=n.next=n:(d=i.next,i.next=n,n.next=d,s.lastEffect=n)),n}function wh(){return er().memoizedState}function Zo(n,s,i,d){var m=xr();Ge.flags|=n,m.memoizedState=Ta(1|s,i,void 0,d===void 0?null:d)}function ei(n,s,i,d){var m=er();d=d===void 0?null:d;var g=void 0;if(ut!==null){var x=ut.memoizedState;if(g=x.destroy,d!==null&&Jl(d,x.deps)){m.memoizedState=Ta(s,i,g,d);return}}Ge.flags|=n,m.memoizedState=Ta(1|s,i,g,d)}function xh(n,s){return Zo(8390656,8,n,s)}function tc(n,s){return ei(2048,8,n,s)}function bh(n,s){return ei(4,2,n,s)}function kh(n,s){return ei(4,4,n,s)}function _h(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jh(n,s,i){return i=i!=null?i.concat([n]):null,ei(4,4,_h.bind(null,s,n),i)}function rc(){}function Sh(n,s){var i=er();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Jl(s,d[1])?d[0]:(i.memoizedState=[n,s],n)}function Eh(n,s){var i=er();s=s===void 0?null:s;var d=i.memoizedState;return d!==null&&s!==null&&Jl(s,d[1])?d[0]:(n=n(),i.memoizedState=[n,s],n)}function Ch(n,s,i){return(Mn&21)===0?(n.baseState&&(n.baseState=!1,Rt=!0),n.memoizedState=i):(or(i,s)||(i=nd(),Ge.lanes|=i,Rn|=i,n.baseState=!0),s)}function my(n,s){var i=Le;Le=i!==0&&4>i?i:4,n(!0);var d=Kl.transition;Kl.transition={};try{n(!1),s()}finally{Le=i,Kl.transition=d}}function Nh(){return er().memoizedState}function py(n,s,i){var d=dn(n);if(i={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null},Th(n))Oh(s,i);else if(i=oh(n,s,i,d),i!==null){var m=Tt();dr(i,n,d,m),Ph(i,s,d)}}function gy(n,s,i){var d=dn(n),m={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null};if(Th(n))Oh(s,m);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,S=g(x,i);if(m.hasEagerState=!0,m.eagerState=S,or(S,x)){var P=s.interleaved;P===null?(m.next=m,Fl(s)):(m.next=P.next,P.next=m),s.interleaved=m;return}}catch{}finally{}i=oh(n,s,m,d),i!==null&&(m=Tt(),dr(i,n,d,m),Ph(i,s,d))}}function Th(n){var s=n.alternate;return n===Ge||s!==null&&s===Ge}function Oh(n,s){Ea=Xo=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function Ph(n,s,i){if((i&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,i|=d,s.lanes=i,sl(n,i)}}var ti={readContext:Zt,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},yy={readContext:Zt,useCallback:function(n,s){return xr().memoizedState=[n,s===void 0?null:s],n},useContext:Zt,useEffect:xh,useImperativeHandle:function(n,s,i){return i=i!=null?i.concat([n]):null,Zo(4194308,4,_h.bind(null,s,n),i)},useLayoutEffect:function(n,s){return Zo(4194308,4,n,s)},useInsertionEffect:function(n,s){return Zo(4,2,n,s)},useMemo:function(n,s){var i=xr();return s=s===void 0?null:s,n=n(),i.memoizedState=[n,s],n},useReducer:function(n,s,i){var d=xr();return s=i!==void 0?i(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=py.bind(null,Ge,n),[d.memoizedState,n]},useRef:function(n){var s=xr();return n={current:n},s.memoizedState=n},useState:vh,useDebugValue:rc,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=vh(!1),s=n[0];return n=my.bind(null,n[1]),xr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,i){var d=Ge,m=xr();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=s(),mt===null)throw Error(r(349));(Mn&30)!==0||fh(d,s,i)}m.memoizedState=i;var g={value:i,getSnapshot:s};return m.queue=g,xh(ph.bind(null,d,g,n),[n]),d.flags|=2048,Ta(9,mh.bind(null,d,g,i,s),void 0,null),i},useId:function(){var n=xr(),s=mt.identifierPrefix;if(He){var i=Ir,d=Rr;i=(d&~(1<<32-ar(d)-1)).toString(32)+i,s=":"+s+"R"+i,i=Ca++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=fy++,s=":"+s+"r"+i.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},vy={readContext:Zt,useCallback:Sh,useContext:Zt,useEffect:tc,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:kh,useMemo:Eh,useReducer:Zl,useRef:wh,useState:function(){return Zl(Na)},useDebugValue:rc,useDeferredValue:function(n){var s=er();return Ch(s,ut.memoizedState,n)},useTransition:function(){var n=Zl(Na)[0],s=er().memoizedState;return[n,s]},useMutableSource:dh,useSyncExternalStore:hh,useId:Nh,unstable_isNewReconciler:!1},wy={readContext:Zt,useCallback:Sh,useContext:Zt,useEffect:tc,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:kh,useMemo:Eh,useReducer:ec,useRef:wh,useState:function(){return ec(Na)},useDebugValue:rc,useDeferredValue:function(n){var s=er();return ut===null?s.memoizedState=n:Ch(s,ut.memoizedState,n)},useTransition:function(){var n=ec(Na)[0],s=er().memoizedState;return[n,s]},useMutableSource:dh,useSyncExternalStore:hh,useId:Nh,unstable_isNewReconciler:!1};function lr(n,s){if(n&&n.defaultProps){s=B({},s),n=n.defaultProps;for(var i in n)s[i]===void 0&&(s[i]=n[i]);return s}return s}function nc(n,s,i,d){s=n.memoizedState,i=i(d,s),i=i==null?s:B({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var ri={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,s,i){n=n._reactInternals;var d=Tt(),m=dn(n),g=Ar(d,m);g.payload=s,i!=null&&(g.callback=i),s=on(n,g,m),s!==null&&(dr(s,n,m,d),Go(s,n,m))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var d=Tt(),m=dn(n),g=Ar(d,m);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=on(n,g,m),s!==null&&(dr(s,n,m,d),Go(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=Tt(),d=dn(n),m=Ar(i,d);m.tag=2,s!=null&&(m.callback=s),s=on(n,m,d),s!==null&&(dr(s,n,d,i),Go(s,n,d))}};function Mh(n,s,i,d,m,g,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,x):s.prototype&&s.prototype.isPureReactComponent?!pa(i,d)||!pa(m,g):!0}function Rh(n,s,i){var d=!1,m=nn,g=s.contextType;return typeof g=="object"&&g!==null?g=Zt(g):(m=Mt(s)?Cn:_t.current,d=s.contextTypes,g=(d=d!=null)?ms(n,m):nn),s=new s(i,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ri,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=g),s}function Ih(n,s,i,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,d),s.state!==n&&ri.enqueueReplaceState(s,s.state,null)}function sc(n,s,i,d){var m=n.stateNode;m.props=i,m.state=n.memoizedState,m.refs={},ql(n);var g=s.contextType;typeof g=="object"&&g!==null?m.context=Zt(g):(g=Mt(s)?Cn:_t.current,m.context=ms(n,g)),m.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(nc(n,s,g,i),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&ri.enqueueReplaceState(m,m.state,null),Ko(n,i,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function ks(n,s){try{var i="",d=s;do i+=je(d),d=d.return;while(d);var m=i}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:m,digest:null}}function ac(n,s,i){return{value:n,source:null,stack:i??null,digest:s??null}}function oc(n,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var xy=typeof WeakMap=="function"?WeakMap:Map;function Dh(n,s,i){i=Ar(-1,i),i.tag=3,i.payload={element:null};var d=s.value;return i.callback=function(){ci||(ci=!0,bc=d),oc(n,s)},i}function Ah(n,s,i){i=Ar(-1,i),i.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;i.payload=function(){return d(m)},i.callback=function(){oc(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){oc(n,s),typeof d!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),i}function Lh(n,s,i){var d=n.pingCache;if(d===null){d=n.pingCache=new xy;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(i)||(m.add(i),n=Iy.bind(null,n,s,i),s.then(n,n))}function $h(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Wh(n,s,i,d,m){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Ar(-1,1),s.tag=2,on(i,s,1))),i.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var by=T.ReactCurrentOwner,Rt=!1;function Nt(n,s,i,d){s.child=n===null?ah(s,null,i,d):vs(s,n.child,i,d)}function Uh(n,s,i,d,m){i=i.render;var g=s.ref;return xs(s,m),d=Ql(n,s,i,d,g,m),i=Xl(),n!==null&&!Rt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,Lr(n,s,m)):(He&&i&&Il(s),s.flags|=1,Nt(n,s,d,m),s.child)}function Bh(n,s,i,d,m){if(n===null){var g=i.type;return typeof g=="function"&&!Nc(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,zh(n,s,g,d,m)):(n=pi(i.type,null,d,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&m)===0){var x=g.memoizedProps;if(i=i.compare,i=i!==null?i:pa,i(x,d)&&n.ref===s.ref)return Lr(n,s,m)}return s.flags|=1,n=fn(g,d),n.ref=s.ref,n.return=s,s.child=n}function zh(n,s,i,d,m){if(n!==null){var g=n.memoizedProps;if(pa(g,d)&&n.ref===s.ref)if(Rt=!1,s.pendingProps=d=g,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Rt=!0);else return s.lanes=n.lanes,Lr(n,s,m)}return ic(n,s,i,d,m)}function Fh(n,s,i){var d=s.pendingProps,m=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(js,Ut),Ut|=i;else{if((i&1073741824)===0)return n=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Be(js,Ut),Ut|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:i,Be(js,Ut),Ut|=d}else g!==null?(d=g.baseLanes|i,s.memoizedState=null):d=i,Be(js,Ut),Ut|=d;return Nt(n,s,m,i),s.child}function qh(n,s){var i=s.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function ic(n,s,i,d,m){var g=Mt(i)?Cn:_t.current;return g=ms(s,g),xs(s,m),i=Ql(n,s,i,d,g,m),d=Xl(),n!==null&&!Rt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,Lr(n,s,m)):(He&&d&&Il(s),s.flags|=1,Nt(n,s,i,m),s.child)}function Hh(n,s,i,d,m){if(Mt(i)){var g=!0;Uo(s)}else g=!1;if(xs(s,m),s.stateNode===null)si(n,s),Rh(s,i,d),sc(s,i,d,m),d=!0;else if(n===null){var x=s.stateNode,S=s.memoizedProps;x.props=S;var P=x.context,U=i.contextType;typeof U=="object"&&U!==null?U=Zt(U):(U=Mt(i)?Cn:_t.current,U=ms(s,U));var V=i.getDerivedStateFromProps,Y=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==d||P!==U)&&Ih(s,x,d,U),an=!1;var q=s.memoizedState;x.state=q,Ko(s,d,x,m),P=s.memoizedState,S!==d||q!==P||Pt.current||an?(typeof V=="function"&&(nc(s,i,V,d),P=s.memoizedState),(S=an||Mh(s,i,S,d,q,P,U))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),x.props=d,x.state=P,x.context=U,d=S):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{x=s.stateNode,ih(n,s),S=s.memoizedProps,U=s.type===s.elementType?S:lr(s.type,S),x.props=U,Y=s.pendingProps,q=x.context,P=i.contextType,typeof P=="object"&&P!==null?P=Zt(P):(P=Mt(i)?Cn:_t.current,P=ms(s,P));var te=i.getDerivedStateFromProps;(V=typeof te=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==Y||q!==P)&&Ih(s,x,d,P),an=!1,q=s.memoizedState,x.state=q,Ko(s,d,x,m);var ae=s.memoizedState;S!==Y||q!==ae||Pt.current||an?(typeof te=="function"&&(nc(s,i,te,d),ae=s.memoizedState),(U=an||Mh(s,i,U,d,q,ae,P)||!1)?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ae,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ae,P)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ae),x.props=d,x.state=ae,x.context=P,d=U):(typeof x.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),d=!1)}return lc(n,s,i,d,g,m)}function lc(n,s,i,d,m,g){qh(n,s);var x=(s.flags&128)!==0;if(!d&&!x)return m&&Jd(s,i,!1),Lr(n,s,g);d=s.stateNode,by.current=s;var S=x&&typeof i.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&x?(s.child=vs(s,n.child,null,g),s.child=vs(s,null,S,g)):Nt(n,s,S,g),s.memoizedState=d.state,m&&Jd(s,i,!0),s.child}function Vh(n){var s=n.stateNode;s.pendingContext?Gd(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Gd(n,s.context,!1),Hl(n,s.containerInfo)}function Yh(n,s,i,d,m){return ys(),$l(m),s.flags|=256,Nt(n,s,i,d),s.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Gh(n,s,i){var d=s.pendingProps,m=Ye.current,g=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=n!==null&&n.memoizedState===null?!1:(m&2)!==0),S?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Be(Ye,m&1),n===null)return Ll(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=d.children,n=d.fallback,g?(d=s.mode,g=s.child,x={mode:"hidden",children:x},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=gi(x,d,0,null),n=Ln(n,d,i,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=uc(i),s.memoizedState=cc,n):dc(s,x));if(m=n.memoizedState,m!==null&&(S=m.dehydrated,S!==null))return ky(n,s,x,d,S,m,i);if(g){g=d.fallback,x=s.mode,m=n.child,S=m.sibling;var P={mode:"hidden",children:d.children};return(x&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=fn(m,P),d.subtreeFlags=m.subtreeFlags&14680064),S!==null?g=fn(S,g):(g=Ln(g,x,i,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,x=n.child.memoizedState,x=x===null?uc(i):{baseLanes:x.baseLanes|i,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=n.childLanes&~i,s.memoizedState=cc,d}return g=n.child,n=g.sibling,d=fn(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=i),d.return=s,d.sibling=null,n!==null&&(i=s.deletions,i===null?(s.deletions=[n],s.flags|=16):i.push(n)),s.child=d,s.memoizedState=null,d}function dc(n,s){return s=gi({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function ni(n,s,i,d){return d!==null&&$l(d),vs(s,n.child,null,i),n=dc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ky(n,s,i,d,m,g,x){if(i)return s.flags&256?(s.flags&=-257,d=ac(Error(r(422))),ni(n,s,x,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,m=s.mode,d=gi({mode:"visible",children:d.children},m,0,null),g=Ln(g,m,x,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&vs(s,n.child,null,x),s.child.memoizedState=uc(x),s.memoizedState=cc,g);if((s.mode&1)===0)return ni(n,s,x,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var S=d.dgst;return d=S,g=Error(r(419)),d=ac(g,d,void 0),ni(n,s,x,d)}if(S=(x&n.childLanes)!==0,Rt||S){if(d=mt,d!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|x))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,Dr(n,m),dr(d,n,m,-1))}return Cc(),d=ac(Error(r(421))),ni(n,s,x,d)}return m.data==="$?"?(s.flags|=128,s.child=n.child,s=Dy.bind(null,n),m._reactRetry=s,null):(n=g.treeContext,Wt=tn(m.nextSibling),$t=s,He=!0,ir=null,n!==null&&(Qt[Xt++]=Rr,Qt[Xt++]=Ir,Qt[Xt++]=Nn,Rr=n.id,Ir=n.overflow,Nn=s),s=dc(s,d.children),s.flags|=4096,s)}function Kh(n,s,i){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),zl(n.return,s,i)}function hc(n,s,i,d,m){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:i,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=i,g.tailMode=m)}function Jh(n,s,i){var d=s.pendingProps,m=d.revealOrder,g=d.tail;if(Nt(n,s,d.children,i),d=Ye.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kh(n,i,s);else if(n.tag===19)Kh(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Be(Ye,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(i=s.child,m=null;i!==null;)n=i.alternate,n!==null&&Jo(n)===null&&(m=i),i=i.sibling;i=m,i===null?(m=s.child,s.child=null):(m=i.sibling,i.sibling=null),hc(s,!1,m,i,g);break;case"backwards":for(i=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Jo(n)===null){s.child=m;break}n=m.sibling,m.sibling=i,i=m,m=n}hc(s,!0,i,null,g);break;case"together":hc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function si(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Lr(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Rn|=s.lanes,(i&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,i=fn(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=fn(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function _y(n,s,i){switch(s.tag){case 3:Vh(s),ys();break;case 5:uh(s);break;case 1:Mt(s.type)&&Uo(s);break;case 4:Hl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Be(Vo,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Be(Ye,Ye.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?Gh(n,s,i):(Be(Ye,Ye.current&1),n=Lr(n,s,i),n!==null?n.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(d=(i&s.childLanes)!==0,(n.flags&128)!==0){if(d)return Jh(n,s,i);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Be(Ye,Ye.current),d)break;return null;case 22:case 23:return s.lanes=0,Fh(n,s,i)}return Lr(n,s,i)}var Qh,fc,Xh,Zh;Qh=function(n,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},fc=function(){},Xh=function(n,s,i,d){var m=n.memoizedProps;if(m!==d){n=s.stateNode,Pn(wr.current);var g=null;switch(i){case"input":m=bt(n,m),d=bt(n,d),g=[];break;case"select":m=B({},m,{value:void 0}),d=B({},d,{value:void 0}),g=[];break;case"textarea":m=Ks(n,m),d=Ks(n,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Lo)}Xs(i,d);var x;i=null;for(U in m)if(!d.hasOwnProperty(U)&&m.hasOwnProperty(U)&&m[U]!=null)if(U==="style"){var S=m[U];for(x in S)S.hasOwnProperty(x)&&(i||(i={}),i[x]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?g||(g=[]):(g=g||[]).push(U,null));for(U in d){var P=d[U];if(S=m!=null?m[U]:void 0,d.hasOwnProperty(U)&&P!==S&&(P!=null||S!=null))if(U==="style")if(S){for(x in S)!S.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(i||(i={}),i[x]="");for(x in P)P.hasOwnProperty(x)&&S[x]!==P[x]&&(i||(i={}),i[x]=P[x])}else i||(g||(g=[]),g.push(U,i)),i=P;else U==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(g=g||[]).push(U,P)):U==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(U,""+P):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(P!=null&&U==="onScroll"&&Fe("scroll",n),g||S===P||(g=[])):(g=g||[]).push(U,P))}i&&(g=g||[]).push("style",i);var U=g;(s.updateQueue=U)&&(s.flags|=4)}},Zh=function(n,s,i,d){i!==d&&(s.flags|=4)};function Oa(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function St(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,d=0;if(s)for(var m=n.child;m!==null;)i|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)i|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=i,s}function jy(n,s,i){var d=s.pendingProps;switch(Dl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return Mt(s.type)&&Wo(),St(s),null;case 3:return d=s.stateNode,bs(),qe(Pt),qe(_t),Gl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(qo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ir!==null&&(jc(ir),ir=null))),fc(n,s),St(s),null;case 5:Vl(s);var m=Pn(Sa.current);if(i=s.type,n!==null&&s.stateNode!=null)Xh(n,s,i,d,m),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return St(s),null}if(n=Pn(wr.current),qo(s)){d=s.stateNode,i=s.type;var g=s.memoizedProps;switch(d[vr]=s,d[xa]=g,n=(s.mode&1)!==0,i){case"dialog":Fe("cancel",d),Fe("close",d);break;case"iframe":case"object":case"embed":Fe("load",d);break;case"video":case"audio":for(m=0;m<ya.length;m++)Fe(ya[m],d);break;case"source":Fe("error",d);break;case"img":case"image":case"link":Fe("error",d),Fe("load",d);break;case"details":Fe("toggle",d);break;case"input":Tr(d,g),Fe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Fe("invalid",d);break;case"textarea":Js(d,g),Fe("invalid",d)}Xs(i,g),m=null;for(var x in g)if(g.hasOwnProperty(x)){var S=g[x];x==="children"?typeof S=="string"?d.textContent!==S&&(g.suppressHydrationWarning!==!0&&Ao(d.textContent,S,n),m=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Ao(d.textContent,S,n),m=["children",""+S]):o.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Fe("scroll",d)}switch(i){case"input":Yr(d),lo(d,g,!0);break;case"textarea":Yr(d),es(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Lo)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=co(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=x.createElement(i,{is:d.is}):(n=x.createElement(i),i==="select"&&(x=n,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):n=x.createElementNS(n,i),n[vr]=s,n[xa]=d,Qh(n,s,!1,!1),s.stateNode=n;e:{switch(x=rs(i,d),i){case"dialog":Fe("cancel",n),Fe("close",n),m=d;break;case"iframe":case"object":case"embed":Fe("load",n),m=d;break;case"video":case"audio":for(m=0;m<ya.length;m++)Fe(ya[m],n);m=d;break;case"source":Fe("error",n),m=d;break;case"img":case"image":case"link":Fe("error",n),Fe("load",n),m=d;break;case"details":Fe("toggle",n),m=d;break;case"input":Tr(n,d),m=bt(n,d),Fe("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=B({},d,{value:void 0}),Fe("invalid",n);break;case"textarea":Js(n,d),m=Ks(n,d),Fe("invalid",n);break;default:m=d}Xs(i,m),S=m;for(g in S)if(S.hasOwnProperty(g)){var P=S[g];g==="style"?fo(n,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&uo(n,P)):g==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&_n(n,P):typeof P=="number"&&_n(n,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Fe("scroll",n):P!=null&&j(n,g,P,x))}switch(i){case"input":Yr(n),lo(n,d,!1);break;case"textarea":Yr(n),es(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Me(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?Gr(n,!!d.multiple,g,!1):d.defaultValue!=null&&Gr(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Lo)}switch(i){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return St(s),null;case 6:if(n&&s.stateNode!=null)Zh(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Pn(Sa.current),Pn(wr.current),qo(s)){if(d=s.stateNode,i=s.memoizedProps,d[vr]=s,(g=d.nodeValue!==i)&&(n=$t,n!==null))switch(n.tag){case 3:Ao(d.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ao(d.nodeValue,i,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(i.nodeType===9?i:i.ownerDocument).createTextNode(d),d[vr]=s,s.stateNode=d}return St(s),null;case 13:if(qe(Ye),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&Wt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)rh(),ys(),s.flags|=98560,g=!1;else if(g=qo(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[vr]=s}else ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),g=!1}else ir!==null&&(jc(ir),ir=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Ye.current&1)!==0?dt===0&&(dt=3):Cc())),s.updateQueue!==null&&(s.flags|=4),St(s),null);case 4:return bs(),fc(n,s),n===null&&va(s.stateNode.containerInfo),St(s),null;case 10:return Bl(s.type._context),St(s),null;case 17:return Mt(s.type)&&Wo(),St(s),null;case 19:if(qe(Ye),g=s.memoizedState,g===null)return St(s),null;if(d=(s.flags&128)!==0,x=g.rendering,x===null)if(d)Oa(g,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=Jo(n),x!==null){for(s.flags|=128,Oa(g,!1),d=x.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=i,i=s.child;i!==null;)g=i,n=d,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,n=x.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return Be(Ye,Ye.current&1|2),s.child}n=n.sibling}g.tail!==null&&nt()>Ss&&(s.flags|=128,d=!0,Oa(g,!1),s.lanes=4194304)}else{if(!d)if(n=Jo(x),n!==null){if(s.flags|=128,d=!0,i=n.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Oa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!He)return St(s),null}else 2*nt()-g.renderingStartTime>Ss&&i!==1073741824&&(s.flags|=128,d=!0,Oa(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(i=g.last,i!==null?i.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=nt(),s.sibling=null,i=Ye.current,Be(Ye,d?i&1|2:i&1),s):(St(s),null);case 22:case 23:return Ec(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ut&1073741824)!==0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Sy(n,s){switch(Dl(s),s.tag){case 1:return Mt(s.type)&&Wo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return bs(),qe(Pt),qe(_t),Gl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Vl(s),null;case 13:if(qe(Ye),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ys()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return qe(Ye),null;case 4:return bs(),null;case 10:return Bl(s.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var ai=!1,Et=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,se=null;function _s(n,s){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(d){Ze(n,s,d)}else i.current=null}function mc(n,s,i){try{i()}catch(d){Ze(n,s,d)}}var ef=!1;function Cy(n,s){if(El=So,n=Md(),vl(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var d=i.getSelection&&i.getSelection();if(d&&d.rangeCount!==0){i=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var x=0,S=-1,P=-1,U=0,V=0,Y=n,q=null;t:for(;;){for(var te;Y!==i||m!==0&&Y.nodeType!==3||(S=x+m),Y!==g||d!==0&&Y.nodeType!==3||(P=x+d),Y.nodeType===3&&(x+=Y.nodeValue.length),(te=Y.firstChild)!==null;)q=Y,Y=te;for(;;){if(Y===n)break t;if(q===i&&++U===m&&(S=x),q===g&&++V===d&&(P=x),(te=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=te}i=S===-1||P===-1?null:{start:S,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cl={focusedElem:n,selectionRange:i},So=!1,se=s;se!==null;)if(s=se,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,se=n;else for(;se!==null;){s=se;try{var ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,st=ae.memoizedState,L=s.stateNode,M=L.getSnapshotBeforeUpdate(s.elementType===s.type?le:lr(s.type,le),st);L.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Ze(s,s.return,K)}if(n=s.sibling,n!==null){n.return=s.return,se=n;break}se=s.return}return ae=ef,ef=!1,ae}function Pa(n,s,i){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var g=m.destroy;m.destroy=void 0,g!==void 0&&mc(s,i,g)}m=m.next}while(m!==d)}}function oi(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var d=i.create;i.destroy=d()}i=i.next}while(i!==s)}}function pc(n){var s=n.ref;if(s!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof s=="function"?s(n):s.current=n}}function tf(n){var s=n.alternate;s!==null&&(n.alternate=null,tf(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[vr],delete s[xa],delete s[Pl],delete s[cy],delete s[uy])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rf(n){return n.tag===5||n.tag===3||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gc(n,s,i){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(n,s):i.insertBefore(n,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(n,i)):(s=i,s.appendChild(n)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Lo));else if(d!==4&&(n=n.child,n!==null))for(gc(n,s,i),n=n.sibling;n!==null;)gc(n,s,i),n=n.sibling}function yc(n,s,i){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(yc(n,s,i),n=n.sibling;n!==null;)yc(n,s,i),n=n.sibling}var yt=null,cr=!1;function ln(n,s,i){for(i=i.child;i!==null;)sf(n,s,i),i=i.sibling}function sf(n,s,i){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(wo,i)}catch{}switch(i.tag){case 5:Et||_s(i,s);case 6:var d=yt,m=cr;yt=null,ln(n,s,i),yt=d,cr=m,yt!==null&&(cr?(n=yt,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):yt.removeChild(i.stateNode));break;case 18:yt!==null&&(cr?(n=yt,i=i.stateNode,n.nodeType===8?Ol(n.parentNode,i):n.nodeType===1&&Ol(n,i),ca(n)):Ol(yt,i.stateNode));break;case 4:d=yt,m=cr,yt=i.stateNode.containerInfo,cr=!0,ln(n,s,i),yt=d,cr=m;break;case 0:case 11:case 14:case 15:if(!Et&&(d=i.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&mc(i,s,x),m=m.next}while(m!==d)}ln(n,s,i);break;case 1:if(!Et&&(_s(i,s),d=i.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=i.memoizedProps,d.state=i.memoizedState,d.componentWillUnmount()}catch(S){Ze(i,s,S)}ln(n,s,i);break;case 21:ln(n,s,i);break;case 22:i.mode&1?(Et=(d=Et)||i.memoizedState!==null,ln(n,s,i),Et=d):ln(n,s,i);break;default:ln(n,s,i)}}function af(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new Ey),s.forEach(function(d){var m=Ay.bind(null,n,d);i.has(d)||(i.add(d),d.then(m,m))})}}function ur(n,s){var i=s.deletions;if(i!==null)for(var d=0;d<i.length;d++){var m=i[d];try{var g=n,x=s,S=x;e:for(;S!==null;){switch(S.tag){case 5:yt=S.stateNode,cr=!1;break e;case 3:yt=S.stateNode.containerInfo,cr=!0;break e;case 4:yt=S.stateNode.containerInfo,cr=!0;break e}S=S.return}if(yt===null)throw Error(r(160));sf(g,x,m),yt=null,cr=!1;var P=m.alternate;P!==null&&(P.return=null),m.return=null}catch(U){Ze(m,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)of(s,n),s=s.sibling}function of(n,s){var i=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ur(s,n),br(n),d&4){try{Pa(3,n,n.return),oi(3,n)}catch(le){Ze(n,n.return,le)}try{Pa(5,n,n.return)}catch(le){Ze(n,n.return,le)}}break;case 1:ur(s,n),br(n),d&512&&i!==null&&_s(i,i.return);break;case 5:if(ur(s,n),br(n),d&512&&i!==null&&_s(i,i.return),n.flags&32){var m=n.stateNode;try{_n(m,"")}catch(le){Ze(n,n.return,le)}}if(d&4&&(m=n.stateNode,m!=null)){var g=n.memoizedProps,x=i!==null?i.memoizedProps:g,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&io(m,g),rs(S,x);var U=rs(S,g);for(x=0;x<P.length;x+=2){var V=P[x],Y=P[x+1];V==="style"?fo(m,Y):V==="dangerouslySetInnerHTML"?uo(m,Y):V==="children"?_n(m,Y):j(m,V,Y,U)}switch(S){case"input":Ys(m,g);break;case"textarea":Zn(m,g);break;case"select":var q=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var te=g.value;te!=null?Gr(m,!!g.multiple,te,!1):q!==!!g.multiple&&(g.defaultValue!=null?Gr(m,!!g.multiple,g.defaultValue,!0):Gr(m,!!g.multiple,g.multiple?[]:"",!1))}m[xa]=g}catch(le){Ze(n,n.return,le)}}break;case 6:if(ur(s,n),br(n),d&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,g=n.memoizedProps;try{m.nodeValue=g}catch(le){Ze(n,n.return,le)}}break;case 3:if(ur(s,n),br(n),d&4&&i!==null&&i.memoizedState.isDehydrated)try{ca(s.containerInfo)}catch(le){Ze(n,n.return,le)}break;case 4:ur(s,n),br(n);break;case 13:ur(s,n),br(n),m=n.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(xc=nt())),d&4&&af(n);break;case 22:if(V=i!==null&&i.memoizedState!==null,n.mode&1?(Et=(U=Et)||V,ur(s,n),Et=U):ur(s,n),br(n),d&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!V&&(n.mode&1)!==0)for(se=n,V=n.child;V!==null;){for(Y=se=V;se!==null;){switch(q=se,te=q.child,q.tag){case 0:case 11:case 14:case 15:Pa(4,q,q.return);break;case 1:_s(q,q.return);var ae=q.stateNode;if(typeof ae.componentWillUnmount=="function"){d=q,i=q.return;try{s=d,ae.props=s.memoizedProps,ae.state=s.memoizedState,ae.componentWillUnmount()}catch(le){Ze(d,i,le)}}break;case 5:_s(q,q.return);break;case 22:if(q.memoizedState!==null){uf(Y);continue}}te!==null?(te.return=q,se=te):uf(Y)}V=V.sibling}e:for(V=null,Y=n;;){if(Y.tag===5){if(V===null){V=Y;try{m=Y.stateNode,U?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=ho("display",x))}catch(le){Ze(n,n.return,le)}}}else if(Y.tag===6){if(V===null)try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(le){Ze(n,n.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;V===Y&&(V=null),Y=Y.return}V===Y&&(V=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:ur(s,n),br(n),d&4&&af(n);break;case 21:break;default:ur(s,n),br(n)}}function br(n){var s=n.flags;if(s&2){try{e:{for(var i=n.return;i!==null;){if(rf(i)){var d=i;break e}i=i.return}throw Error(r(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(_n(m,""),d.flags&=-33);var g=nf(n);yc(n,g,m);break;case 3:case 4:var x=d.stateNode.containerInfo,S=nf(n);gc(n,S,x);break;default:throw Error(r(161))}}catch(P){Ze(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ny(n,s,i){se=n,lf(n)}function lf(n,s,i){for(var d=(n.mode&1)!==0;se!==null;){var m=se,g=m.child;if(m.tag===22&&d){var x=m.memoizedState!==null||ai;if(!x){var S=m.alternate,P=S!==null&&S.memoizedState!==null||Et;S=ai;var U=Et;if(ai=x,(Et=P)&&!U)for(se=m;se!==null;)x=se,P=x.child,x.tag===22&&x.memoizedState!==null?df(m):P!==null?(P.return=x,se=P):df(m);for(;g!==null;)se=g,lf(g),g=g.sibling;se=m,ai=S,Et=U}cf(n)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,se=g):cf(n)}}function cf(n){for(;se!==null;){var s=se;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Et||oi(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Et)if(i===null)d.componentDidMount();else{var m=s.elementType===s.type?i.memoizedProps:lr(s.type,i.memoizedProps);d.componentDidUpdate(m,i.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&ch(s,g,d);break;case 3:var x=s.updateQueue;if(x!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}ch(s,x,i)}break;case 5:var S=s.stateNode;if(i===null&&s.flags&4){i=S;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var V=U.memoizedState;if(V!==null){var Y=V.dehydrated;Y!==null&&ca(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Et||s.flags&512&&pc(s)}catch(q){Ze(s,s.return,q)}}if(s===n){se=null;break}if(i=s.sibling,i!==null){i.return=s.return,se=i;break}se=s.return}}function uf(n){for(;se!==null;){var s=se;if(s===n){se=null;break}var i=s.sibling;if(i!==null){i.return=s.return,se=i;break}se=s.return}}function df(n){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{oi(4,s)}catch(P){Ze(s,i,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(P){Ze(s,m,P)}}var g=s.return;try{pc(s)}catch(P){Ze(s,g,P)}break;case 5:var x=s.return;try{pc(s)}catch(P){Ze(s,x,P)}}}catch(P){Ze(s,s.return,P)}if(s===n){se=null;break}var S=s.sibling;if(S!==null){S.return=s.return,se=S;break}se=s.return}}var Ty=Math.ceil,ii=T.ReactCurrentDispatcher,vc=T.ReactCurrentOwner,tr=T.ReactCurrentBatchConfig,Re=0,mt=null,it=null,vt=0,Ut=0,js=rn(0),dt=0,Ma=null,Rn=0,li=0,wc=0,Ra=null,It=null,xc=0,Ss=1/0,$r=null,ci=!1,bc=null,cn=null,ui=!1,un=null,di=0,Ia=0,kc=null,hi=-1,fi=0;function Tt(){return(Re&6)!==0?nt():hi!==-1?hi:hi=nt()}function dn(n){return(n.mode&1)===0?1:(Re&2)!==0&&vt!==0?vt&-vt:hy.transition!==null?(fi===0&&(fi=nd()),fi):(n=Le,n!==0||(n=window.event,n=n===void 0?16:hd(n.type)),n)}function dr(n,s,i,d){if(50<Ia)throw Ia=0,kc=null,Error(r(185));sa(n,i,d),((Re&2)===0||n!==mt)&&(n===mt&&((Re&2)===0&&(li|=i),dt===4&&hn(n,vt)),Dt(n,d),i===1&&Re===0&&(s.mode&1)===0&&(Ss=nt()+500,Bo&&sn()))}function Dt(n,s){var i=n.callbackNode;hg(n,s);var d=ko(n,n===mt?vt:0);if(d===0)i!==null&&ed(i),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(i!=null&&ed(i),s===1)n.tag===0?dy(ff.bind(null,n)):Qd(ff.bind(null,n)),iy(function(){(Re&6)===0&&sn()}),i=null;else{switch(sd(d)){case 1:i=tl;break;case 4:i=td;break;case 16:i=vo;break;case 536870912:i=rd;break;default:i=vo}i=bf(i,hf.bind(null,n))}n.callbackPriority=s,n.callbackNode=i}}function hf(n,s){if(hi=-1,fi=0,(Re&6)!==0)throw Error(r(327));var i=n.callbackNode;if(Es()&&n.callbackNode!==i)return null;var d=ko(n,n===mt?vt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=mi(n,d);else{s=d;var m=Re;Re|=2;var g=pf();(mt!==n||vt!==s)&&($r=null,Ss=nt()+500,Dn(n,s));do try{My();break}catch(S){mf(n,S)}while(!0);Ul(),ii.current=g,Re=m,it!==null?s=0:(mt=null,vt=0,s=dt)}if(s!==0){if(s===2&&(m=rl(n),m!==0&&(d=m,s=_c(n,m))),s===1)throw i=Ma,Dn(n,0),hn(n,d),Dt(n,nt()),i;if(s===6)hn(n,d);else{if(m=n.current.alternate,(d&30)===0&&!Oy(m)&&(s=mi(n,d),s===2&&(g=rl(n),g!==0&&(d=g,s=_c(n,g))),s===1))throw i=Ma,Dn(n,0),hn(n,d),Dt(n,nt()),i;switch(n.finishedWork=m,n.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:An(n,It,$r);break;case 3:if(hn(n,d),(d&130023424)===d&&(s=xc+500-nt(),10<s)){if(ko(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Tt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Tl(An.bind(null,n,It,$r),s);break}An(n,It,$r);break;case 4:if(hn(n,d),(d&4194240)===d)break;for(s=n.eventTimes,m=-1;0<d;){var x=31-ar(d);g=1<<x,x=s[x],x>m&&(m=x),d&=~g}if(d=m,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ty(d/1960))-d,10<d){n.timeoutHandle=Tl(An.bind(null,n,It,$r),d);break}An(n,It,$r);break;case 5:An(n,It,$r);break;default:throw Error(r(329))}}}return Dt(n,nt()),n.callbackNode===i?hf.bind(null,n):null}function _c(n,s){var i=Ra;return n.current.memoizedState.isDehydrated&&(Dn(n,s).flags|=256),n=mi(n,s),n!==2&&(s=It,It=i,s!==null&&jc(s)),n}function jc(n){It===null?It=n:It.push.apply(It,n)}function Oy(n){for(var s=n;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var d=0;d<i.length;d++){var m=i[d],g=m.getSnapshot;m=m.value;try{if(!or(g(),m))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hn(n,s){for(s&=~wc,s&=~li,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var i=31-ar(s),d=1<<i;n[i]=-1,s&=~d}}function ff(n){if((Re&6)!==0)throw Error(r(327));Es();var s=ko(n,0);if((s&1)===0)return Dt(n,nt()),null;var i=mi(n,s);if(n.tag!==0&&i===2){var d=rl(n);d!==0&&(s=d,i=_c(n,d))}if(i===1)throw i=Ma,Dn(n,0),hn(n,s),Dt(n,nt()),i;if(i===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,An(n,It,$r),Dt(n,nt()),null}function Sc(n,s){var i=Re;Re|=1;try{return n(s)}finally{Re=i,Re===0&&(Ss=nt()+500,Bo&&sn())}}function In(n){un!==null&&un.tag===0&&(Re&6)===0&&Es();var s=Re;Re|=1;var i=tr.transition,d=Le;try{if(tr.transition=null,Le=1,n)return n()}finally{Le=d,tr.transition=i,Re=s,(Re&6)===0&&sn()}}function Ec(){Ut=js.current,qe(js)}function Dn(n,s){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,oy(i)),it!==null)for(i=it.return;i!==null;){var d=i;switch(Dl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Wo();break;case 3:bs(),qe(Pt),qe(_t),Gl();break;case 5:Vl(d);break;case 4:bs();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:Bl(d.type._context);break;case 22:case 23:Ec()}i=i.return}if(mt=n,it=n=fn(n.current,null),vt=Ut=s,dt=0,Ma=null,wc=li=Rn=0,It=Ra=null,On!==null){for(s=0;s<On.length;s++)if(i=On[s],d=i.interleaved,d!==null){i.interleaved=null;var m=d.next,g=i.pending;if(g!==null){var x=g.next;g.next=m,d.next=x}i.pending=d}On=null}return n}function mf(n,s){do{var i=it;try{if(Ul(),Qo.current=ti,Xo){for(var d=Ge.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Xo=!1}if(Mn=0,ft=ut=Ge=null,Ea=!1,Ca=0,vc.current=null,i===null||i.return===null){dt=1,Ma=s,it=null;break}e:{var g=n,x=i.return,S=i,P=s;if(s=vt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var U=P,V=S,Y=V.tag;if((V.mode&1)===0&&(Y===0||Y===11||Y===15)){var q=V.alternate;q?(V.updateQueue=q.updateQueue,V.memoizedState=q.memoizedState,V.lanes=q.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=$h(x);if(te!==null){te.flags&=-257,Wh(te,x,S,g,s),te.mode&1&&Lh(g,U,s),s=te,P=U;var ae=s.updateQueue;if(ae===null){var le=new Set;le.add(P),s.updateQueue=le}else ae.add(P);break e}else{if((s&1)===0){Lh(g,U,s),Cc();break e}P=Error(r(426))}}else if(He&&S.mode&1){var st=$h(x);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Wh(st,x,S,g,s),$l(ks(P,S));break e}}g=P=ks(P,S),dt!==4&&(dt=2),Ra===null?Ra=[g]:Ra.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var L=Dh(g,P,s);lh(g,L);break e;case 1:S=P;var M=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(cn===null||!cn.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var K=Ah(g,S,s);lh(g,K);break e}}g=g.return}while(g!==null)}yf(i)}catch(ce){s=ce,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function pf(){var n=ii.current;return ii.current=ti,n===null?ti:n}function Cc(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||(Rn&268435455)===0&&(li&268435455)===0||hn(mt,vt)}function mi(n,s){var i=Re;Re|=2;var d=pf();(mt!==n||vt!==s)&&($r=null,Dn(n,s));do try{Py();break}catch(m){mf(n,m)}while(!0);if(Ul(),Re=i,ii.current=d,it!==null)throw Error(r(261));return mt=null,vt=0,dt}function Py(){for(;it!==null;)gf(it)}function My(){for(;it!==null&&!ng();)gf(it)}function gf(n){var s=xf(n.alternate,n,Ut);n.memoizedProps=n.pendingProps,s===null?yf(n):it=s,vc.current=null}function yf(n){var s=n;do{var i=s.alternate;if(n=s.return,(s.flags&32768)===0){if(i=jy(i,s,Ut),i!==null){it=i;return}}else{if(i=Sy(i,s),i!==null){i.flags&=32767,it=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{dt=6,it=null;return}}if(s=s.sibling,s!==null){it=s;return}it=s=n}while(s!==null);dt===0&&(dt=5)}function An(n,s,i){var d=Le,m=tr.transition;try{tr.transition=null,Le=1,Ry(n,s,i,d)}finally{tr.transition=m,Le=d}return null}function Ry(n,s,i,d){do Es();while(un!==null);if((Re&6)!==0)throw Error(r(327));i=n.finishedWork;var m=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=i.lanes|i.childLanes;if(fg(n,g),n===mt&&(it=mt=null,vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ui||(ui=!0,bf(vo,function(){return Es(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=tr.transition,tr.transition=null;var x=Le;Le=1;var S=Re;Re|=4,vc.current=null,Cy(n,i),of(i,n),Zg(Cl),So=!!El,Cl=El=null,n.current=i,Ny(i),sg(),Re=S,Le=x,tr.transition=g}else n.current=i;if(ui&&(ui=!1,un=n,di=m),g=n.pendingLanes,g===0&&(cn=null),ig(i.stateNode),Dt(n,nt()),s!==null)for(d=n.onRecoverableError,i=0;i<s.length;i++)m=s[i],d(m.value,{componentStack:m.stack,digest:m.digest});if(ci)throw ci=!1,n=bc,bc=null,n;return(di&1)!==0&&n.tag!==0&&Es(),g=n.pendingLanes,(g&1)!==0?n===kc?Ia++:(Ia=0,kc=n):Ia=0,sn(),null}function Es(){if(un!==null){var n=sd(di),s=tr.transition,i=Le;try{if(tr.transition=null,Le=16>n?16:n,un===null)var d=!1;else{if(n=un,un=null,di=0,(Re&6)!==0)throw Error(r(331));var m=Re;for(Re|=4,se=n.current;se!==null;){var g=se,x=g.child;if((se.flags&16)!==0){var S=g.deletions;if(S!==null){for(var P=0;P<S.length;P++){var U=S[P];for(se=U;se!==null;){var V=se;switch(V.tag){case 0:case 11:case 15:Pa(8,V,g)}var Y=V.child;if(Y!==null)Y.return=V,se=Y;else for(;se!==null;){V=se;var q=V.sibling,te=V.return;if(tf(V),V===U){se=null;break}if(q!==null){q.return=te,se=q;break}se=te}}}var ae=g.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var st=le.sibling;le.sibling=null,le=st}while(le!==null)}}se=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,se=x;else e:for(;se!==null;){if(g=se,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Pa(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,se=L;break e}se=g.return}}var M=n.current;for(se=M;se!==null;){x=se;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,se=$;else e:for(x=M;se!==null;){if(S=se,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:oi(9,S)}}catch(ce){Ze(S,S.return,ce)}if(S===x){se=null;break e}var K=S.sibling;if(K!==null){K.return=S.return,se=K;break e}se=S.return}}if(Re=m,sn(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(wo,n)}catch{}d=!0}return d}finally{Le=i,tr.transition=s}}return!1}function vf(n,s,i){s=ks(i,s),s=Dh(n,s,1),n=on(n,s,1),s=Tt(),n!==null&&(sa(n,1,s),Dt(n,s))}function Ze(n,s,i){if(n.tag===3)vf(n,n,i);else for(;s!==null;){if(s.tag===3){vf(s,n,i);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(cn===null||!cn.has(d))){n=ks(i,n),n=Ah(s,n,1),s=on(s,n,1),n=Tt(),s!==null&&(sa(s,1,n),Dt(s,n));break}}s=s.return}}function Iy(n,s,i){var d=n.pingCache;d!==null&&d.delete(s),s=Tt(),n.pingedLanes|=n.suspendedLanes&i,mt===n&&(vt&i)===i&&(dt===4||dt===3&&(vt&130023424)===vt&&500>nt()-xc?Dn(n,0):wc|=i),Dt(n,s)}function wf(n,s){s===0&&((n.mode&1)===0?s=1:(s=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var i=Tt();n=Dr(n,s),n!==null&&(sa(n,s,i),Dt(n,i))}function Dy(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),wf(n,i)}function Ay(n,s){var i=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(i=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),wf(n,i)}var xf;xf=function(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps||Pt.current)Rt=!0;else{if((n.lanes&i)===0&&(s.flags&128)===0)return Rt=!1,_y(n,s,i);Rt=(n.flags&131072)!==0}else Rt=!1,He&&(s.flags&1048576)!==0&&Xd(s,Fo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;si(n,s),n=s.pendingProps;var m=ms(s,_t.current);xs(s,i),m=Ql(null,s,d,n,m,i);var g=Xl();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mt(d)?(g=!0,Uo(s)):g=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ql(s),m.updater=ri,s.stateNode=m,m._reactInternals=s,sc(s,d,n,i),s=lc(null,s,d,!0,g,i)):(s.tag=0,He&&g&&Il(s),Nt(null,s,m,i),s=s.child),s;case 16:d=s.elementType;e:{switch(si(n,s),n=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=$y(d),n=lr(d,n),m){case 0:s=ic(null,s,d,n,i);break e;case 1:s=Hh(null,s,d,n,i);break e;case 11:s=Uh(null,s,d,n,i);break e;case 14:s=Bh(null,s,d,lr(d.type,n),i);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:lr(d,m),ic(n,s,d,m,i);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:lr(d,m),Hh(n,s,d,m,i);case 3:e:{if(Vh(s),n===null)throw Error(r(387));d=s.pendingProps,g=s.memoizedState,m=g.element,ih(n,s),Ko(s,d,null,i);var x=s.memoizedState;if(d=x.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){m=ks(Error(r(423)),s),s=Yh(n,s,d,i,m);break e}else if(d!==m){m=ks(Error(r(424)),s),s=Yh(n,s,d,i,m);break e}else for(Wt=tn(s.stateNode.containerInfo.firstChild),$t=s,He=!0,ir=null,i=ah(s,null,d,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ys(),d===m){s=Lr(n,s,i);break e}Nt(n,s,d,i)}s=s.child}return s;case 5:return uh(s),n===null&&Ll(s),d=s.type,m=s.pendingProps,g=n!==null?n.memoizedProps:null,x=m.children,Nl(d,m)?x=null:g!==null&&Nl(d,g)&&(s.flags|=32),qh(n,s),Nt(n,s,x,i),s.child;case 6:return n===null&&Ll(s),null;case 13:return Gh(n,s,i);case 4:return Hl(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=vs(s,null,d,i):Nt(n,s,d,i),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:lr(d,m),Uh(n,s,d,m,i);case 7:return Nt(n,s,s.pendingProps,i),s.child;case 8:return Nt(n,s,s.pendingProps.children,i),s.child;case 12:return Nt(n,s,s.pendingProps.children,i),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,g=s.memoizedProps,x=m.value,Be(Vo,d._currentValue),d._currentValue=x,g!==null)if(or(g.value,x)){if(g.children===m.children&&!Pt.current){s=Lr(n,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){x=g.child;for(var P=S.firstContext;P!==null;){if(P.context===d){if(g.tag===1){P=Ar(-1,i&-i),P.tag=2;var U=g.updateQueue;if(U!==null){U=U.shared;var V=U.pending;V===null?P.next=P:(P.next=V.next,V.next=P),U.pending=P}}g.lanes|=i,P=g.alternate,P!==null&&(P.lanes|=i),zl(g.return,i,s),S.lanes|=i;break}P=P.next}}else if(g.tag===10)x=g.type===s.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=i,S=x.alternate,S!==null&&(S.lanes|=i),zl(x,i,s),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Nt(n,s,m.children,i),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,xs(s,i),m=Zt(m),d=d(m),s.flags|=1,Nt(n,s,d,i),s.child;case 14:return d=s.type,m=lr(d,s.pendingProps),m=lr(d.type,m),Bh(n,s,d,m,i);case 15:return zh(n,s,s.type,s.pendingProps,i);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:lr(d,m),si(n,s),s.tag=1,Mt(d)?(n=!0,Uo(s)):n=!1,xs(s,i),Rh(s,d,m),sc(s,d,m,i),lc(null,s,d,!0,n,i);case 19:return Jh(n,s,i);case 22:return Fh(n,s,i)}throw Error(r(156,s.tag))};function bf(n,s){return Zu(n,s)}function Ly(n,s,i,d){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(n,s,i,d){return new Ly(n,s,i,d)}function Nc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $y(n){if(typeof n=="function")return Nc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oe)return 11;if(n===ve)return 14}return 2}function fn(n,s){var i=n.alternate;return i===null?(i=rr(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function pi(n,s,i,d,m,g){var x=2;if(d=n,typeof n=="function")Nc(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case A:return Ln(i.children,m,g,s);case G:x=8,m|=8;break;case Q:return n=rr(12,i,s,m|2),n.elementType=Q,n.lanes=g,n;case me:return n=rr(13,i,s,m),n.elementType=me,n.lanes=g,n;case ie:return n=rr(19,i,s,m),n.elementType=ie,n.lanes=g,n;case we:return gi(i,m,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:x=10;break e;case Z:x=9;break e;case oe:x=11;break e;case ve:x=14;break e;case ee:x=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=rr(x,i,s,m),s.elementType=n,s.type=d,s.lanes=g,s}function Ln(n,s,i,d){return n=rr(7,n,d,s),n.lanes=i,n}function gi(n,s,i,d){return n=rr(22,n,d,s),n.elementType=we,n.lanes=i,n.stateNode={isHidden:!1},n}function Tc(n,s,i){return n=rr(6,n,null,s),n.lanes=i,n}function Oc(n,s,i){return s=rr(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Wy(n,s,i,d,m){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Pc(n,s,i,d,m,g,x,S,P){return n=new Wy(n,s,i,S,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=rr(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(g),n}function Uy(n,s,i){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:d==null?null:""+d,children:n,containerInfo:s,implementation:i}}function kf(n){if(!n)return nn;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var i=n.type;if(Mt(i))return Kd(n,i,s)}return s}function _f(n,s,i,d,m,g,x,S,P){return n=Pc(i,d,!0,n,m,g,x,S,P),n.context=kf(null),i=n.current,d=Tt(),m=dn(i),g=Ar(d,m),g.callback=s??null,on(i,g,m),n.current.lanes=m,sa(n,m,d),Dt(n,d),n}function yi(n,s,i,d){var m=s.current,g=Tt(),x=dn(m);return i=kf(i),s.context===null?s.context=i:s.pendingContext=i,s=Ar(g,x),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=on(m,s,x),n!==null&&(dr(n,m,x,g),Go(n,m,x)),x}function vi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function jf(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function Mc(n,s){jf(n,s),(n=n.alternate)&&jf(n,s)}function By(){return null}var Sf=typeof reportError=="function"?reportError:function(n){console.error(n)};function Rc(n){this._internalRoot=n}wi.prototype.render=Rc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));yi(n,s,null,null)},wi.prototype.unmount=Rc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;In(function(){yi(null,n,null,null)}),s[Pr]=null}};function wi(n){this._internalRoot=n}wi.prototype.unstable_scheduleHydration=function(n){if(n){var s=id();n={blockedOn:null,target:n,priority:s};for(var i=0;i<Xr.length&&s!==0&&s<Xr[i].priority;i++);Xr.splice(i,0,n),i===0&&ud(n)}};function Ic(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function zy(n,s,i,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var U=vi(x);g.call(U)}}var x=_f(s,d,n,0,null,!1,!1,"",Ef);return n._reactRootContainer=x,n[Pr]=x.current,va(n.nodeType===8?n.parentNode:n),In(),x}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var S=d;d=function(){var U=vi(P);S.call(U)}}var P=Pc(n,0,!1,null,null,!1,!1,"",Ef);return n._reactRootContainer=P,n[Pr]=P.current,va(n.nodeType===8?n.parentNode:n),In(function(){yi(s,P,i,d)}),P}function bi(n,s,i,d,m){var g=i._reactRootContainer;if(g){var x=g;if(typeof m=="function"){var S=m;m=function(){var P=vi(x);S.call(P)}}yi(s,x,n,m)}else x=zy(i,s,n,m,d);return vi(x)}ad=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var i=na(s.pendingLanes);i!==0&&(sl(s,i|1),Dt(s,nt()),(Re&6)===0&&(Ss=nt()+500,sn()))}break;case 13:In(function(){var d=Dr(n,1);if(d!==null){var m=Tt();dr(d,n,1,m)}}),Mc(n,1)}},al=function(n){if(n.tag===13){var s=Dr(n,134217728);if(s!==null){var i=Tt();dr(s,n,134217728,i)}Mc(n,134217728)}},od=function(n){if(n.tag===13){var s=dn(n),i=Dr(n,s);if(i!==null){var d=Tt();dr(i,n,s,d)}Mc(n,s)}},id=function(){return Le},ld=function(n,s){var i=Le;try{return Le=n,s()}finally{Le=i}},_e=function(n,s,i){switch(s){case"input":if(Ys(n,i),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var d=i[s];if(d!==n&&d.form===n.form){var m=$o(d);if(!m)throw Error(r(90));X(d),Ys(d,m)}}}break;case"textarea":Zn(n,i);break;case"select":s=i.value,s!=null&&Gr(n,!!i.multiple,s,!1)}},mo=Sc,po=In;var Fy={usingClientEntryPoint:!1,Events:[ba,hs,$o,kt,Ne,Sc]},Da={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qu(n),n===null?null:n.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||By,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{wo=ki.inject(qy),yr=ki}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fy,At.createPortal=function(n,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ic(s))throw Error(r(200));return Uy(n,s,null,i)},At.createRoot=function(n,s){if(!Ic(n))throw Error(r(299));var i=!1,d="",m=Sf;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Pc(n,1,!1,null,null,i,!1,d,m),n[Pr]=s.current,va(n.nodeType===8?n.parentNode:n),new Rc(s)},At.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Qu(s),n=n===null?null:n.stateNode,n},At.flushSync=function(n){return In(n)},At.hydrate=function(n,s,i){if(!xi(s))throw Error(r(200));return bi(null,n,s,!0,i)},At.hydrateRoot=function(n,s,i){if(!Ic(n))throw Error(r(405));var d=i!=null&&i.hydratedSources||null,m=!1,g="",x=Sf;if(i!=null&&(i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),s=_f(s,null,n,1,i??null,m,!1,g,x),n[Pr]=s.current,va(n),d)for(n=0;n<d.length;n++)i=d[n],m=i._getVersion,m=m(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,m]:s.mutableSourceEagerHydrationData.push(i,m);return new wi(s)},At.render=function(n,s,i){if(!xi(s))throw Error(r(200));return bi(null,n,s,!1,i)},At.unmountComponentAtNode=function(n){if(!xi(n))throw Error(r(40));return n._reactRootContainer?(In(function(){bi(null,null,n,!1,function(){n._reactRootContainer=null,n[Pr]=null})}),!0):!1},At.unstable_batchedUpdates=Sc,At.unstable_renderSubtreeIntoContainer=function(n,s,i,d){if(!xi(i))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return bi(n,s,i,!1,d)},At.version="18.3.1-next-f1338f8080-20240426",At}var If;function Rm(){if(If)return Lc.exports;If=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lc.exports=rv(),Lc.exports}var Df;function nv(){if(Df)return _i;Df=1;var t=Rm();return _i.createRoot=t.createRoot,_i.hydrateRoot=t.hydrateRoot,_i}var sv=nv();const av="modulepreload",ov=function(t){return"/"+t},Af={},Jt=function(e,r,a){let o=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(r.map(p=>{if(p=ov(p),p in Af)return;Af[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":av,y||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),y)return new Promise((b,_)=>{w.addEventListener("load",b),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var A2=Rm();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Fa.apply(this,arguments)}var wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wn||(wn={}));const Lf="popstate";function iv(t){t===void 0&&(t={});function e(a,o){let{pathname:l,search:u,hash:h}=a.location;return su("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Ni(o)}return cv(e,r,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lv(){return Math.random().toString(36).substr(2,8)}function $f(t,e){return{usr:t.state,key:t.key,idx:e}}function su(t,e,r,a){return r===void 0&&(r=null),Fa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qs(e):e,{state:r,key:e&&e.key||a||lv()})}function Ni(t){let{pathname:e="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function qs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function cv(t,e,r,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,h=wn.Pop,f=null,p=y();p==null&&(p=0,u.replaceState(Fa({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function v(){h=wn.Pop;let E=y(),I=E==null?null:E-p;p=E,f&&f({action:h,location:N.location,delta:I})}function w(E,I){h=wn.Push;let R=su(N.location,E,I);p=y()+1;let j=$f(R,p),T=N.createHref(R);try{u.pushState(j,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(T)}l&&f&&f({action:h,location:N.location,delta:1})}function b(E,I){h=wn.Replace;let R=su(N.location,E,I);p=y();let j=$f(R,p),T=N.createHref(R);u.replaceState(j,"",T),l&&f&&f({action:h,location:N.location,delta:0})}function _(E){let I=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof E=="string"?E:Ni(E);return R=R.replace(/ $/,"%20"),Xe(I,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,I)}let N={get action(){return h},get location(){return t(o,u)},listen(E){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Lf,v),f=E,()=>{o.removeEventListener(Lf,v),f=null}},createHref(E){return e(o,E)},createURL:_,encodeLocation(E){let I=_(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:b,go(E){return u.go(E)}};return N}var Wf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wf||(Wf={}));function uv(t,e,r){return r===void 0&&(r="/"),dv(t,e,r)}function dv(t,e,r,a){let o=typeof e=="string"?qs(e):e,l=Bs(o.pathname||"/",r);if(l==null)return null;let u=Im(t);hv(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=_v(l);h=bv(u[f],p)}return h}function Im(t,e,r,a){e===void 0&&(e=[]),r===void 0&&(r=[]),a===void 0&&(a="");let o=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Xe(f.relativePath.startsWith(a),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(a.length));let p=xn([a,f.relativePath]),y=r.concat(f);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Im(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:wv(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,u);else for(let f of Dm(l.path))o(l,u,f)}),e}function Dm(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=Dm(a.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function hv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xv(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const fv=/^:[\w-]+$/,mv=3,pv=2,gv=1,yv=10,vv=-2,Uf=t=>t==="*";function wv(t,e){let r=t.split("/"),a=r.length;return r.some(Uf)&&(a+=vv),e&&(a+=pv),r.filter(o=>!Uf(o)).reduce((o,l)=>o+(fv.test(l)?mv:l===""?gv:yv),a)}function xv(t,e){return t.length===e.length&&t.slice(0,-1).every((a,o)=>a===e[o])?t[t.length-1]-e[e.length-1]:0}function bv(t,e,r){let{routesMeta:a}=t,o={},l="/",u=[];for(let h=0;h<a.length;++h){let f=a[h],p=h===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=au({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),w=f.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:xn([l,v.pathname]),pathnameBase:Nv(xn([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=xn([l,v.pathnameBase]))}return u}function au(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=kv(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((p,y,v)=>{let{paramName:w,isOptional:b}=y;if(w==="*"){let N=h[v]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const _=h[v];return b&&!_?p[w]=void 0:p[w]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function kv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Nu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(a.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function _v(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=t=>jv.test(t);function Ev(t,e){e===void 0&&(e="/");let{pathname:r,search:a="",hash:o=""}=typeof t=="string"?qs(t):t,l;if(r)if(Sv(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Nu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?l=Bf(r.substring(1),"/"):l=Bf(r,e)}else l=e;return{pathname:l,search:Tv(a),hash:Ov(o)}}function Bf(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Uc(t,e,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Tu(t,e){let r=Cv(t);return e?r.map((a,o)=>o===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Ou(t,e,r,a){a===void 0&&(a=!1);let o;typeof t=="string"?o=qs(t):(o=Fa({},t),Xe(!o.pathname||!o.pathname.includes("?"),Uc("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Uc("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Uc("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=r;else{let v=e.length-1;if(!a&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}h=v>=0?e[v]:"/"}let f=Ev(o,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}const xn=t=>t.join("/").replace(/\/\/+/g,"/"),Nv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ov=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Am=["post","put","patch","delete"];new Set(Am);const Mv=["get",...Am];new Set(Mv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},qa.apply(this,arguments)}const $i=k.createContext(null),Lm=k.createContext(null),qr=k.createContext(null),Wi=k.createContext(null),bn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),$m=k.createContext(null);function Rv(t,e){let{relative:r}=e===void 0?{}:e;Hs()||Xe(!1);let{basename:a,navigator:o}=k.useContext(qr),{hash:l,pathname:u,search:h}=Bi(t,{relative:r}),f=u;return a!=="/"&&(f=u==="/"?a:xn([a,u])),o.createHref({pathname:f,search:h,hash:l})}function Hs(){return k.useContext(Wi)!=null}function Hr(){return Hs()||Xe(!1),k.useContext(Wi).location}function Wm(t){k.useContext(qr).static||k.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=k.useContext(bn);return t?Vv():Iv()}function Iv(){Hs()||Xe(!1);let t=k.useContext($i),{basename:e,future:r,navigator:a}=k.useContext(qr),{matches:o}=k.useContext(bn),{pathname:l}=Hr(),u=JSON.stringify(Tu(o,r.v7_relativeSplatPath)),h=k.useRef(!1);return Wm(()=>{h.current=!0}),k.useCallback(function(p,y){if(y===void 0&&(y={}),!h.current)return;if(typeof p=="number"){a.go(p);return}let v=Ou(p,JSON.parse(u),l,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xn([e,v.pathname])),(y.replace?a.replace:a.push)(v,y.state,y)},[e,a,u,l,t])}function Bi(t,e){let{relative:r}=e===void 0?{}:e,{future:a}=k.useContext(qr),{matches:o}=k.useContext(bn),{pathname:l}=Hr(),u=JSON.stringify(Tu(o,a.v7_relativeSplatPath));return k.useMemo(()=>Ou(t,JSON.parse(u),l,r==="path"),[t,u,l,r])}function Dv(t,e){return Av(t,e)}function Av(t,e,r,a){Hs()||Xe(!1);let{navigator:o}=k.useContext(qr),{matches:l}=k.useContext(bn),u=l[l.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Hr(),y;if(e){var v;let E=typeof e=="string"?qs(e):e;f==="/"||(v=E.pathname)!=null&&v.startsWith(f)||Xe(!1),y=E}else y=p;let w=y.pathname||"/",b=w;if(f!=="/"){let E=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=uv(t,{pathname:b}),N=Bv(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:xn([f,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:xn([f,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,r,a);return e&&N?k.createElement(Wi.Provider,{value:{location:qa({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:wn.Pop}},N):N}function Lv(){let t=Hv(),e=Pv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:o},r):null,null)}const $v=k.createElement(Lv,null);class Wv extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(bn.Provider,{value:this.props.routeContext},k.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uv(t){let{routeContext:e,match:r,children:a}=t,o=k.useContext($i);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(bn.Provider,{value:e},a)}function Bv(t,e,r,a){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,h=(o=r)==null?void 0:o.errors;if(h!=null){let y=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);y>=0||Xe(!1),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,p=-1;if(r&&a&&a.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:w,errors:b}=r,_=v.route.loader&&w[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||_){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,w)=>{let b,_=!1,N=null,E=null;r&&(b=h&&v.route.id?h[v.route.id]:void 0,N=v.route.errorElement||$v,f&&(p<0&&w===0?(Yv("route-fallback"),_=!0,E=null):p===w&&(_=!0,E=v.route.hydrateFallbackElement||null)));let I=e.concat(u.slice(0,w+1)),R=()=>{let j;return b?j=N:_?j=E:v.route.Component?j=k.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,k.createElement(Uv,{match:v,routeContext:{outlet:y,matches:I,isDataRoute:r!=null},children:j})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?k.createElement(Wv,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}var Um=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Um||{}),Bm=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Bm||{});function zv(t){let e=k.useContext($i);return e||Xe(!1),e}function Fv(t){let e=k.useContext(Lm);return e||Xe(!1),e}function qv(t){let e=k.useContext(bn);return e||Xe(!1),e}function zm(t){let e=qv(),r=e.matches[e.matches.length-1];return r.route.id||Xe(!1),r.route.id}function Hv(){var t;let e=k.useContext($m),r=Fv(),a=zm();return e!==void 0?e:(t=r.errors)==null?void 0:t[a]}function Vv(){let{router:t}=zv(Um.UseNavigateStable),e=zm(Bm.UseNavigateStable),r=k.useRef(!1);return Wm(()=>{r.current=!0}),k.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,qa({fromRouteId:e},l)))},[t,e])}const zf={};function Yv(t,e,r){zf[t]||(zf[t]=!0)}function Gv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function to(t){let{to:e,replace:r,state:a,relative:o}=t;Hs()||Xe(!1);let{future:l,static:u}=k.useContext(qr),{matches:h}=k.useContext(bn),{pathname:f}=Hr(),p=Ui(),y=Ou(e,Tu(h,l.v7_relativeSplatPath),f,o==="path"),v=JSON.stringify(y);return k.useEffect(()=>p(JSON.parse(v),{replace:r,state:a,relative:o}),[p,v,o,r,a]),null}function lt(t){Xe(!1)}function Kv(t){let{basename:e="/",children:r=null,location:a,navigationType:o=wn.Pop,navigator:l,static:u=!1,future:h}=t;Hs()&&Xe(!1);let f=e.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:f,navigator:l,static:u,future:qa({v7_relativeSplatPath:!1},h)}),[f,h,l,u]);typeof a=="string"&&(a=qs(a));let{pathname:y="/",search:v="",hash:w="",state:b=null,key:_="default"}=a,N=k.useMemo(()=>{let E=Bs(y,f);return E==null?null:{location:{pathname:E,search:v,hash:w,state:b,key:_},navigationType:o}},[f,y,v,w,b,_,o]);return N==null?null:k.createElement(qr.Provider,{value:p},k.createElement(Wi.Provider,{children:r,value:N}))}function Jv(t){let{children:e,location:r}=t;return Dv(ou(e),r)}new Promise(()=>{});function ou(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(a,o)=>{if(!k.isValidElement(a))return;let l=[...e,o];if(a.type===k.Fragment){r.push.apply(r,ou(a.props.children,l));return}a.type!==lt&&Xe(!1),!a.props.index||!a.props.children||Xe(!1);let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=ou(a.props.children,l)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ti.apply(this,arguments)}function Fm(t,e){if(t==null)return{};var r={},a=Object.keys(t),o,l;for(l=0;l<a.length;l++)o=a[l],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function Qv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xv(t,e){return t.button===0&&(!e||e==="_self")&&!Qv(t)}const Zv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],t0="6";try{window.__reactRouterVersion=t0}catch{}const r0=k.createContext({isTransitioning:!1}),n0="startTransition",Ff=Zy[n0];function s0(t){let{basename:e,children:r,future:a,window:o}=t,l=k.useRef();l.current==null&&(l.current=iv({window:o,v5Compat:!0}));let u=l.current,[h,f]=k.useState({action:u.action,location:u.location}),{v7_startTransition:p}=a||{},y=k.useCallback(v=>{p&&Ff?Ff(()=>f(v)):f(v)},[f,p]);return k.useLayoutEffect(()=>u.listen(y),[u,y]),k.useEffect(()=>Gv(a),[a]),k.createElement(Kv,{basename:e,children:r,location:h.location,navigationType:h.action,navigator:u,future:a})}const a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=k.forwardRef(function(e,r){let{onClick:a,relative:o,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:v}=e,w=Fm(e,Zv),{basename:b}=k.useContext(qr),_,N=!1;if(typeof p=="string"&&o0.test(p)&&(_=p,a0))try{let j=new URL(window.location.href),T=p.startsWith("//")?new URL(j.protocol+p):new URL(p),D=Bs(T.pathname,b);T.origin===j.origin&&D!=null?p=D+T.search+T.hash:N=!0}catch{}let E=Rv(p,{relative:o}),I=l0(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:o,viewTransition:v});function R(j){a&&a(j),j.defaultPrevented||I(j)}return k.createElement("a",Ti({},w,{href:_||E,onClick:N||l?a:R,ref:r,target:f}))}),pn=k.forwardRef(function(e,r){let{"aria-current":a="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:f,viewTransition:p,children:y}=e,v=Fm(e,e0),w=Bi(f,{relative:v.relative}),b=Hr(),_=k.useContext(Lm),{navigator:N,basename:E}=k.useContext(qr),I=_!=null&&c0(w)&&p===!0,R=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,j=b.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;o||(j=j.toLowerCase(),T=T?T.toLowerCase():null,R=R.toLowerCase()),T&&E&&(T=Bs(T,E)||T);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let C=j===R||!u&&j.startsWith(R)&&j.charAt(D)==="/",A=T!=null&&(T===R||!u&&T.startsWith(R)&&T.charAt(R.length)==="/"),G={isActive:C,isPending:A,isTransitioning:I},Q=C?a:void 0,J;typeof l=="function"?J=l(G):J=[l,C?"active":null,A?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Z=typeof h=="function"?h(G):h;return k.createElement(sr,Ti({},v,{"aria-current":Q,className:J,ref:r,style:Z,to:f,viewTransition:p}),typeof y=="function"?y(G):y)});var iu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iu||(iu={}));var qf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qf||(qf={}));function i0(t){let e=k.useContext($i);return e||Xe(!1),e}function l0(t,e){let{target:r,replace:a,state:o,preventScrollReset:l,relative:u,viewTransition:h}=e===void 0?{}:e,f=Ui(),p=Hr(),y=Bi(t,{relative:u});return k.useCallback(v=>{if(Xv(v,r)){v.preventDefault();let w=a!==void 0?a:Ni(p)===Ni(y);f(t,{replace:w,state:o,preventScrollReset:l,relative:u,viewTransition:h})}},[p,f,y,a,o,r,t,l,u,h])}function c0(t,e){e===void 0&&(e={});let r=k.useContext(r0);r==null&&Xe(!1);let{basename:a}=i0(iu.useViewTransitionState),o=Bi(t,{relative:e.relative});if(!r.isTransitioning)return!1;let l=Bs(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=Bs(r.nextLocation.pathname,a)||r.nextLocation.pathname;return au(o.pathname,u)!=null||au(o.pathname,l)!=null}function zi(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]]);return r}function u0(t,e,r,a){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(y){try{p(a.next(y))}catch(v){u(v)}}function f(y){try{p(a.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):o(y.value).then(h,f)}p((a=a.apply(t,e||[])).next())})}const d0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pu extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class h0 extends Pu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hf extends Pu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vf extends Pu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lu||(lu={}));class f0{constructor(e,{headers:r={},customFetch:a,region:o=lu.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=d0(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return u0(this,arguments,void 0,function*(r,a={}){var o;let l,u;try{const{headers:h,method:f,body:p,signal:y,timeout:v}=a;let w={},{region:b}=a;b||(b=this.region);const _=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,_.searchParams.set("forceFunctionRegion",b));let N;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(w["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(w["Content-Type"]="application/json",N=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?N=JSON.stringify(p):N=p;let E=y;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const I=yield this.fetch(_.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:N,signal:E}).catch(D=>{throw new h0(D)}),R=I.headers.get("x-relay-error");if(R&&R==="true")throw new Hf(I);if(!I.ok)throw new Vf(I);let j=((o=I.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield I.json():j==="application/octet-stream"||j==="application/pdf"?T=yield I.blob():j==="text/event-stream"?T=I:j==="multipart/form-data"?T=yield I.formData():T=yield I.text(),{data:T,error:null,response:I}}catch(h){return{data:null,error:h,response:h instanceof Vf||h instanceof Hf?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var m0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},p0=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,f=null,p=l.status,y=l.statusText;if(l.ok){var v,w;if(r.method!=="HEAD"){var b;const I=await l.text();I===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?h=I:h=JSON.parse(I))}const N=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");N&&E&&E.length>1&&(f=parseInt(E[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var _;const N=await l.text();try{u=JSON.parse(N),Array.isArray(u)&&l.status===404&&(h=[],u=null,p=200,y="OK")}catch{l.status===404&&N===""?(p=204,y="No Content"):u={message:N}}if(u&&r.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&r.shouldThrowOnError)throw new m0(u)}return{error:u,data:h,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let h="";const f=l==null?void 0:l.cause;if(f){var p,y,v,w;const _=(p=f==null?void 0:f.message)!==null&&p!==void 0?p:"",N=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";h=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"Error"}: ${_}`,N&&(h+=` (${N})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var b;h=(b=l==null?void 0:l.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},g0=class extends p0{select(t){let e=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Yf=new RegExp("[,()]");var Ds=class extends g0{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&Yf.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&Yf.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},y0=class{constructor(t,{headers:e={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:a}=e??{},o=r?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new Ds({method:o,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var a;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);l.searchParams.set("columns",f.join(","))}}return new Ds({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);h.searchParams.set("columns",y.join(","))}}return new Ds({method:u,url:h,headers:f,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const a="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Ds({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:a,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Ds({method:r,url:a,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},v0=class qm{constructor(e,{headers:r={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new y0(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:a=!1,get:o=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let p;const y=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(y)),v=a&&Object.values(r).some(y);v?(h="POST",p=r):a||o?(h=a?"HEAD":"GET",Object.entries(r).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{f.searchParams.append(b,_)})):(h="POST",p=r);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Ds({method:h,url:f,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class w0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const o=a.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const x0="2.91.1",b0=`realtime-js/${x0}`,k0="1.0.0",Hm="2.0.0",Gf=Hm,cu=1e4,_0=1e3,j0=100;var yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yn||(yn={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pr||(pr={}));var uu;(function(t){t.websocket="websocket"})(uu||(uu={}));var Fn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fn||(Fn={}));class S0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,a){var o,l;const u=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+p.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(b),N=0;_.setUint8(N++,this.KINDS.userBroadcastPush),_.setUint8(N++,f.length),_.setUint8(N++,h.length),_.setUint8(N++,u.length),_.setUint8(N++,p.length),_.setUint8(N++,v.length),_.setUint8(N++,r),Array.from(f,I=>_.setUint8(N++,I.charCodeAt(0))),Array.from(h,I=>_.setUint8(N++,I.charCodeAt(0))),Array.from(u,I=>_.setUint8(N++,I.charCodeAt(0))),Array.from(p,I=>_.setUint8(N++,I.charCodeAt(0))),Array.from(v,I=>_.setUint8(N++,I.charCodeAt(0)));var E=new Uint8Array(b.byteLength+a.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(a),b.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,l,u,h,f]=a;return r({join_ref:o,ref:l,topic:u,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,a){const o=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=a.decode(e.slice(f,f+o));f=f+o;const y=a.decode(e.slice(f,f+l));f=f+l;const v=a.decode(e.slice(f,f+u));f=f+u;const w=e.slice(f,e.byteLength),b=h===this.JSON_ENCODING?JSON.parse(a.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(_.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class Vm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const Kf=(t,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=E0(u,t,e,o),l),{}):{}},E0=(t,e,r,a)=>{const o=e.find(h=>h.name===t),l=o==null?void 0:o.type,u=r[t];return l&&!a.includes(l)?Ym(l,u):du(u)},Ym=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return O0(e,r)}switch(t){case ze.bool:return C0(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return N0(e);case ze.json:case ze.jsonb:return T0(e);case ze.timestamp:return P0(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return du(e);default:return du(e)}},du=t=>t,C0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},N0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},T0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},O0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Ym(e,h))}return t},P0=t=>typeof t=="string"?t.replace(" ","T"):t,Gm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bc{constructor(e,r,a={},o=cu){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jf||(Jf={}));class Ua{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ua.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Ua.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ua.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const l=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(l,(p,y)=>{u[p]||(f[p]=y)}),this.map(u,(p,y)=>{const v=l[p];if(v){const w=y.map(E=>E.presence_ref),b=v.map(E=>E.presence_ref),_=y.filter(E=>b.indexOf(E.presence_ref)<0),N=v.filter(E=>w.indexOf(E.presence_ref)<0);_.length>0&&(h[p]=_),N.length>0&&(f[p]=N)}else h[p]=y}),this.syncDiff(l,{joins:h,leaves:f},a,o)}static syncDiff(e,r,a,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),y.length>0){const v=e[h].map(b=>b.presence_ref),w=y.filter(b=>v.indexOf(b.presence_ref)<0);e[h].unshift(...w)}a(h,y,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const y=f.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),e[h]=p,o(h,p,f),p.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qf||(Qf={}));var Ba;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ba||(Ba={}));var Wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class $s{constructor(e,r={config:{}},a){var o,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bc(this,pr.join,this.params,this.timeout),this.rejoinTimer=new Vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Ua(this),this.broadcastEndpointURL=Gm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ba.PRESENCE]&&this.bindings[Ba.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Wr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Wr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Wr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,E=(_=N==null?void 0:N.length)!==null&&_!==void 0?_:0,I=[];for(let R=0;R<E;R++){const j=N[R],{filter:{event:T,schema:D,table:C,filter:A}}=j,G=b&&b[R];if(G&&G.event===T&&$s.isFilterValueEqual(G.schema,D)&&$s.isFilterValueEqual(G.table,C)&&$s.isFilterValueEqual(G.filter,A))I.push(Object.assign(Object.assign({},j),{id:G.id}));else{this.unsubscribe(),this.state=ht.errored,e==null||e(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(Wr.SUBSCRIBED);return}}).receive("error",b=>{this.state=ht.errored,e==null||e(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===ht.joined&&e===Ba.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Bc(this,pr.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bc(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>j0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:y}=pr;if(a&&[h,f,p,y].indexOf(u)>=0&&a!==this._joinRef())return;let w=this._onMessage(u,r,a);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var _,N,E;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(N=b.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(b=>b.callback(w,a)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var _,N,E,I,R,j,T,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const C=b.id,A=(_=b.filter)===null||_===void 0?void 0:_.event;return C&&((N=r.ids)===null||N===void 0?void 0:N.includes(C))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))&&(!(!((I=b.filter)===null||I===void 0)&&I.table)||b.filter.table===((R=r.data)===null||R===void 0?void 0:R.table))}else{const C=(T=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return C==="*"||C===((D=r==null?void 0:r.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:N,table:E,commit_timestamp:I,type:R,errors:j}=_;w=Object.assign(Object.assign({},{schema:N,table:E,commit_timestamp:I,eventType:R,new:{},old:{},errors:j}),this._getPayloadRecords(_))}b.callback(w,a)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&$s.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pr.close,{},e)}_onError(e){this._on(pr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Kf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Kf(e.columns,e.old_record)),r}}const zc=()=>{},ji={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M0=[1e3,2e3,5e3,1e4],R0=1e4,I0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D0{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cu,this.transport=null,this.heartbeatIntervalMs=ji.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zc,this.ref=0,this.reconnectTimer=null,this.vsn=Gf,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new S0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${uu.websocket}`,this.httpEndpoint=Gm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return Fn.Connecting;case yn.open:return Fn.Open;case yn.closing:return Fn.Closing;default:return Fn.Closed}}isConnected(){return this.connectionState()===Fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new $s(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:o,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ji.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:l,ref:u}=r,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${o} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yn.open||this.conn.readyState===yn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([I0],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:b0};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(pr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ji.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,l,u,h,f,p,y,v,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:cu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:ji.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:zc,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Gf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(_=>M0[_-1]||R0),this.vsn){case k0:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((_,N)=>N(JSON.stringify(_))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((_,N)=>N(JSON.parse(_)));break;case Hm:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ha=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function A0(t,e,r){const a=new URL(e,t);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function L0(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function $0(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:o,body:l,headers:u}){const h=A0(t.baseUrl,a,o),f=await L0(t.auth),p=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!p.ok){const b=v?w:void 0,_=b==null?void 0:b.error;throw new Ha((_==null?void 0:_.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:b})}return{status:p.status,headers:p.headers,data:w}}}}function Si(t){return t.join("")}var W0=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Si(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Si(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Si(t.namespace)}`}),!0}catch(e){if(e instanceof Ha&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ha&&r.status===409)return;throw r}}};function Cs(t){return t.join("")}var U0=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ha&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ha&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},B0=class{constructor(t){var a;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=$0({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(a=t.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new W0(this.client,e),this.tableOps=new U0(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Fi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var z0=class extends Fi{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hu=class extends Fi{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Mu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F0=()=>Response,fu=t=>{if(Array.isArray(t))return t.map(r=>fu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=fu(a)}),e},q0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},H0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function V0(t,e){if(Va(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Va(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y0(t){var e=V0(t,"string");return Va(e)=="symbol"?e:e+""}function G0(t,e,r){return(e=Y0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xf(Object(r),!0).forEach(function(a){G0(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xf(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}const Fc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},K0=async(t,e,r)=>{t instanceof await F0()&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,l=(a==null?void 0:a.statusCode)||o+"";e(new z0(Fc(a),o,l))}).catch(a=>{e(new hu(Fc(a),a))}):e(new hu(Fc(t),t))},J0=(t,e,r,a)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!a?o:(q0(a)?(o.headers=be({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,e!=null&&e.duplex&&(o.duplex=e.duplex),be(be({},o),r))};async function ro(t,e,r,a,o,l){return new Promise((u,h)=>{t(r,J0(e,a,o,l)).then(f=>{if(!f.ok)throw f;return a!=null&&a.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>K0(f,h,a))})}async function Ya(t,e,r,a){return ro(t,"GET",e,r,a)}async function mr(t,e,r,a,o){return ro(t,"POST",e,a,o,r)}async function mu(t,e,r,a,o){return ro(t,"PUT",e,a,o,r)}async function Q0(t,e,r,a){return ro(t,"HEAD",e,be(be({},r),{},{noResolveJson:!0}),a)}async function Ru(t,e,r,a,o){return ro(t,"DELETE",e,a,o,r)}var X0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}}};let Km;Km=Symbol.toStringTag;var Z0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Km]="BlobDownloadBuilder",this.promise=null}asStream(){return new X0(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}}};const ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tw=class{constructor(t,e={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Mu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,a){var o=this;try{let l;const u=be(be({},Zf),a);let h=be(be({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",o.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(h=be(be({},h),a.headers));const p=o._removeEmptyFolders(e),y=o._getFinalPath(p),v=await(t=="PUT"?mu:mr)(o.fetch,`${o.url}/object/${y}`,l,be({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,a){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let f;const p=be({upsert:Zf.upsert},a),y=be(be({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{data:{path:l,fullPath:(await mu(o.fetch,h.toString(),f,{headers:y})).Key},error:null}}catch(f){if(o.shouldThrowOnError)throw f;if(Ke(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let a=r._getFinalPath(t);const o=be({},r.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await mr(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(r.url+l.url),h=u.searchParams.get("token");if(!h)throw new Fi("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var a=this;try{return{data:await mr(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async copy(t,e,r){var a=this;try{return{data:{path:(await mr(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,r){var a=this;try{let o=a._getFinalPath(t),l=await mr(a.fetch,`${a.url}/object/sign/${o}`,be({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:a.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,r){var a=this;try{const o=await mr(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>be(be({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>Ya(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Z0(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:fu(await Ya(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Q0(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ke(a)&&a instanceof hu){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const r=this._getFinalPath(t),a=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}async remove(t){var e=this;try{return{data:await Ru(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async list(t,e,r){var a=this;try{const o=be(be(be({},ew),e),{},{prefix:t||""});return{data:await mr(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},r),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async listV2(t,e){var r=this;try{const a=be({},t);return{data:await mr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},e),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Jm="2.91.1",Qm={"X-Client-Info":`storage-js/${Jm}`};var rw=class{constructor(t,e={},r,a){this.shouldThrowOnError=!1;const o=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=be(be({},Qm),e),this.fetch=Mu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ya(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await mr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var r=this;try{return{data:await mu(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ru(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},Qm),e),this.fetch=Mu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await Ya(e.fetch,o,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ru(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!H0(t))throw new Fi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new B0({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}};const Iu={"X-Client-Info":`storage-js/${Jm}`,"Content-Type":"application/json"};var Xm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var qc=class extends Xm{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sw=class extends Xm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Du=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},em=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ow=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";e(new qc(em(l),a,u))}).catch(()=>{const l=a+"";e(new qc(o.statusText||`HTTP ${a} error`,a,l))});else{const l=a+"";e(new qc(o.statusText||`HTTP ${a} error`,a,l))}}else e(new sw(em(t),t))},iw=(t,e,r,a)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return a?(aw(a)?(o.headers=be({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,be(be({},o),r)):o};async function lw(t,e,r,a,o,l){return new Promise((u,h)=>{t(r,iw(e,a,o,l)).then(f=>{if(!f.ok)throw f;if(a!=null&&a.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>ow(f,h,a))})}async function Yt(t,e,r,a,o){return lw(t,"POST",e,a,o,r)}var cw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},Iu),e),this.fetch=Du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Yt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Yt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}},uw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},Iu),e),this.fetch=Du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Yt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}},dw=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},Iu),e),this.fetch=Du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}},hw=class extends dw{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new fw(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},fw=class extends cw{constructor(t,e,r,a){super(t,e,a),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new mw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},mw=class extends uw{constructor(t,e,r,a,o){super(t,e,o),this.vectorBucketName=r,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pw=class extends rw{constructor(t,e={},r,a){super(t,e,r,a)}from(t){return new tw(this.url,this.headers,t,this.fetch)}get vectors(){return new hw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nw(this.url+"/iceberg",this.headers,this.fetch)}};const Zm="2.91.1",As=30*1e3,pu=3,Hc=pu*As,gw="http://localhost:9999",yw="supabase.auth.token",vw={"X-Client-Info":`gotrue-js/${Zm}`},gu="X-Supabase-Api-Version",ep={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ww=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xw=600*1e3;class Ga extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bw extends Ga{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function kw(t){return ue(t)&&t.name==="AuthApiError"}class qn extends Ga{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vr extends Ga{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}}class qt extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _w(t){return ue(t)&&t.name==="AuthSessionMissingError"}class Ns extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends Vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends Vr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jw(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class tm extends Vr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sw extends Vr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yu extends Vr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vc(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class rm extends Vr{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class vu extends Vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nm=` 	
\r=`.split(""),Ew=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nm.length;e+=1)t[nm[e].charCodeAt(0)]=-2;for(let e=0;e<Oi.length;e+=1)t[Oi[e].charCodeAt(0)]=e;return t})();function sm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Oi[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Oi[a]),e.queuedBits-=6}}function tp(t,e,r){const a=Ew[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function am(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{Tw(u,a,r)};for(let u=0;u<t.length;u+=1)tp(t.charCodeAt(u),o,l);return e.join("")}function Cw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Nw(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Cw(a,e)}}function Tw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ws(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)tp(t.charCodeAt(o),r,a);return new Uint8Array(e)}function Ow(t){const e=[];return Nw(t,r=>e.push(r)),new Uint8Array(e)}function Vn(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>sm(o,r,a)),sm(null,r,a),e.join("")}function Pw(t){return Math.round(Date.now()/1e3)+t}function Mw(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},rp=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function Rw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const np=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Iw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ls=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class qi{constructor(){this.promise=new qi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}qi.promiseConstructor=Promise;function Yc(t){const e=t.split(".");if(e.length!==3)throw new vu("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!ww.test(e[a]))throw new vu("JWT not in base64url format");return{header:JSON.parse(am(e[0])),payload:JSON.parse(am(e[1])),signature:Ws(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Aw(t,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function Lw(t){return("0"+t.toString(16)).substr(-2)}function $w(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,Lw).join("")}async function Ww(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Uw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ww(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ts(t,e,r=!1){const a=$w();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await Ls(t,`${e}-code-verifier`,o);const l=await Uw(a);return[l,a===l?"plain":"s256"]}const Bw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zw(t){const e=t.headers.get(gu);if(!e||!e.match(Bw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Os(t){if(!Hw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vw(t,e){return new Proxy(t,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,o)}})}function om(t){return JSON.parse(JSON.stringify(t))}const Bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yw=[502,503,504];async function im(t){var e;if(!Iw(t))throw new yu(Bn(t),0);if(Yw.includes(t.status))throw new yu(Bn(t),t.status);let r;try{r=await t.json()}catch(l){throw new qn(Bn(l),l)}let a;const o=zw(t);if(o&&o.getTime()>=ep["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new rm(Bn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new rm(Bn(r),t.status,r.weak_password.reasons);throw new bw(Bn(r),t.status||500,a)}const Gw=(t,e,r,a)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function xe(t,e,r,a){var o;const l=Object.assign({},a==null?void 0:a.headers);l[gu]||(l[gu]=ep["2024-01-01"].name),a!=null&&a.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Kw(t,e,r+h,{headers:l,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(f):{data:Object.assign({},f),error:null}}async function Kw(t,e,r,a,o,l){const u=Gw(e,a,o,l);let h;try{h=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new yu(Bn(f),0)}if(h.ok||await im(h),a!=null&&a.noResolveJson)return h;try{return await h.json()}catch(f){await im(f)}}function fr(t){var e;let r=null;Xw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Pw(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function lm(t){const e=fr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jw(t){return{data:t,error:null}}function Qw(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l}=t,u=zi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function cm(t){return t}function Xw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kc=["global","local","others"];class Zw{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=np(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kc[0]){if(Kc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kc.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vn})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=zi(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Qw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:cm});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);p[`${E}Page`]=N}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Os(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Os(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:vn})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){Os(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:vn})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Os(e.userId);try{const{data:r,error:a}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Os(e.userId),Os(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:cm});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);p[`${E}Page`]=N}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ue(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function um(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ps={debug:!!(globalThis&&rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ex extends sp{}async function tx(t,e,r){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ex(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ps.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ap(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nx(t){return parseInt(t,16)}function sx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function ax(t){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:y,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=ap(t.address),_=y?`${y}://${a}`:a,N=t.statement?`${t.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${b}

${N}`;let I=`URI: ${v}
Version: ${w}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(I+=`
Expiration Time: ${o.toISOString()}`),h&&(I+=`
Not Before: ${h.toISOString()}`),f&&(I+=`
Request ID: ${f}`),p){let R=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);R+=`
- ${j}`}I+=R}return`${E}
${I}`}class ct extends Error{constructor({message:e,code:r,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Pi extends ct{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ox({error:t,options:e}){var r,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(op(u)){if(l.rp.id!==u)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ix({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(op(a)){if(r.rpId!==a)return new ct({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cx=new lx;function ux(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,o=zi(t,["challenge","user","excludeCredentials"]),l=Ws(e).buffer,u=Object.assign(Object.assign({},r),{id:Ws(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Ws(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function dx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=zi(t,["challenge","allowCredentials"]),o=Ws(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Ws(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function hx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Vn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Vn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Vn(new Uint8Array(o.authenticatorData)),clientDataJSON:Vn(new Uint8Array(o.clientDataJSON)),signature:Vn(new Uint8Array(o.signature)),userHandle:o.userHandle?Vn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function op(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dm(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mx(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",e)}:{data:null,error:new Pi("Empty credential response",e)}}catch(e){return{data:null,error:ox({error:e,options:t})}}}async function px(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",e)}:{data:null,error:new Pi("Empty credential response",e)}}catch(e){return{data:null,error:ix({error:e,options:t})}}}const gx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mi(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(r(u))a[l]=u;else if(e(u)){const h=a[l];e(h)?a[l]=Mi(h,u):a[l]=Mi(u)}else a[l]=u}return a}function vx(t,e){return Mi(gx,t,e||{})}function wx(t,e){return Mi(yx,t,e||{})}class xx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const f=o??cx.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=vx(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:v}=await mx({publicKey:p,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=wx(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:v}=await px(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn authentication")};try{if(!dm())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn registration")};try{if(!dm())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qn("Unexpected error in register",u)}}}}rx();const bx={url:gw,storageKey:yw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hm(t,e,r){return await r()}const Ms={};class Ka{get jwks(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},bx),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Ka.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ka.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Zw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=np(l.fetch),this.lock=l.lock||hm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=tx:this.lock=hm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=um(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=um(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(xt()&&(r=Rw(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),xt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),jw(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?this._returnResult({error:r}):this._returnResult({error:new qn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:fr}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,o;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Ts(this.storage,this.storageKey)),l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:_},xform:fr})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:fr})}else throw new Ei("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:h}=e;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lm})}else if("phone"in e){const{phone:l,password:u,options:h}=e;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lm})}else throw new Ei("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Ns;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,l,u,h,f,p,y,v,w;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:N,wallet:E,statement:I,options:R}=e;let j;if(xt())if(typeof E=="object")j=E;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")j=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const T=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=ap(D[0]);let A=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!A){const Q=await j.request({method:"eth_chainId"});A=nx(Q)}const G={domain:T.host,address:C,statement:I,uri:T.href,version:"1",chainId:A,nonce:(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=R==null?void 0:R.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=R==null?void 0:R.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=R==null?void 0:R.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=R==null?void 0:R.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=ax(G),_=await j.request({method:"personal_sign",params:[sx(b),C]})}try{const{data:N,error:E}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:fr});if(E)throw E;if(!N||!N.session||!N.user){const I=new Ns;return this._returnResult({data:{user:null,session:null},error:I})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:E})}catch(N){if(ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,a,o,l,u,h,f,p,y,v,w,b;let _,N;if("message"in e)_=e.message,N=e.signature;else{const{chain:E,wallet:I,statement:R,options:j}=e;let T;if(xt())if(typeof I=="object")T=I;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))T=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=I}const D=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const C=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),R?{statement:R}:null));let A;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")A=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)A=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)_=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),N=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j==null?void 0:j.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const C=await T.signMessage(new TextEncoder().encode(_),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=C}}try{const{data:E,error:I}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Vn(N)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fr});if(I)throw I;if(!E||!E.session||!E.user){const R=new Ns;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:I})}catch(E){if(ue(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Wn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Sw;const{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:fr});if(await wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new Ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:l,nonce:u}=e,h=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fr}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new Ns;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,o,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ts(this.storage,this.storageKey));const{error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Ei("You must provide either an email or phone number.")}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,a;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:fr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,a,o,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ts(this.storage,this.storageKey));const p=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:Jw});return!((l=p.data)===null||l===void 0)&&l.url&&xt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new qt;const{error:o}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:u}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:u,error:h}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Ei("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Hc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Wn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Gc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Vw(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):await this._useSession(async r=>{var a,o,l;const{data:u,error:h}=r;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:vn})})}catch(r){if(ue(r))return _w(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new qt;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Ts(this.storage,this.storageKey));const{data:p,error:y}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:vn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const r=Date.now()/1e3;let a=r,o=!0,l=null;const{payload:u}=Yc(e.access_token);if(u.exp&&(a=u.exp,o=a<=r),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new Ci("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ci(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tm("No code detected.");const{data:R,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new Ci("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let w=y+v;f&&(w=parseInt(f));const b=w-y;b*1e3<=As&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const _=w-v;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:N,error:E}=await this._getUser(l);if(E)throw E;const I={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:e.type},error:null})}catch(a){if(ue(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(kw(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Mw(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Ts(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,f,p,y;const{data:v,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(ue(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:h,token:f,access_token:p,nonce:y}=e,v=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l==null?void 0:l.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fr}),{data:w,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ns}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)throw u;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Aw(async o=>(o>0&&await Dw(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Vc(l)&&Date.now()+u-a<As})}catch(a){if(this._debug(r,"error",a),ue(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),xt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Wn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ls(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Gc()}else if(o&&!o.user&&!o.user){const u=await Wn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await wt(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,o)):o.user=Gc()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hc;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Hc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Vc(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new qi;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new qt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),ue(l)){const u={data:null,error:l};return Vc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=om(o);await Ls(this.storage,this.storageKey,l)}else{const o=om(r);await Ls(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/As);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${As}ms, refresh threshold is ${pu} ticks`),o<=pu&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ts(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a!=null&&a.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hx(e.webauthn.credential_response):fx(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ux(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:dx(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Yc(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new qt})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new qt});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new qt});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+xw>o)return a;const{data:l,error:u}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:b,error:_}=await this.getSession();if(_||!b.session)return this._returnResult({data:null,error:_});a=b.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:f}}=Yc(a);r!=null&&r.allowExpired||Fw(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:l,header:o,signature:u},error:null}}const y=qw(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,Ow(`${h}.${f}`)))throw new vu("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}}Ka.nextInstanceID={};const kx=Ka,_x="2.91.1";let La="";typeof Deno<"u"?La="deno":typeof document<"u"?La="web":typeof navigator<"u"&&navigator.product==="ReactNative"?La="react-native":La="node";const jx={"X-Client-Info":`supabase-js-${La}/${_x}`},Sx={headers:jx},Ex={schema:"public"},Cx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nx={};function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function Tx(t,e){if(Ja(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Ja(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ox(t){var e=Tx(t,"string");return Ja(e)=="symbol"?e:e+""}function Px(t,e,r){return(e=Ox(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fm(Object(r),!0).forEach(function(a){Px(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}const Mx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rx=()=>Headers,Ix=(t,e,r)=>{const a=Mx(r),o=Rx();return async(l,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(l,et(et({},u),{},{headers:p}))}};function Dx(t){return t.endsWith("/")?t:t+"/"}function Ax(t,e){var r,a;const{db:o,auth:l,realtime:u,global:h}=t,{db:f,auth:p,realtime:y,global:v}=e,w={db:et(et({},f),o),auth:et(et({},p),l),realtime:et(et({},y),u),storage:{},global:et(et(et({},v),h),{},{headers:et(et({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Lx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $x=class extends kx{constructor(t){super(t)}},Wx=class{constructor(t,e,r){var a,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Lx(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:Ex,realtime:Nx,auth:et(et({},Cx),{},{storageKey:u}),global:Sx},f=Ax(r??{},h);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=Ix(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new v0(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new pw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new f0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:p},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $x({url:this.authUrl.href,headers:et(et({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,flowType:u,lock:h,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new D0(this.realtimeUrl.href,et(et({},t),{},{params:et(et({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ux=(t,e,r)=>new Wx(t,e,r);function Bx(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Bx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zx="https://pqyrbbylglzmcmhlyybc.supabase.co",Fx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBxeXJiYnlsZ2x6bWNtaGx5eWJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODE0NjEsImV4cCI6MjA4NDc1NzQ2MX0.QqUxbp-P78ipyH9loP7nmrmDeqZQ7_Ip7PsEoMofL4E",$a={INACTIVITY_TIMEOUT:1800*1e3,WARNING_BEFORE_LOGOUT:300*1e3,SESSION_CHECK_INTERVAL:60*1e3},H=Ux(zx,Fx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",storageKey:"cashe-auth"}}),ip=k.createContext({}),Qn=()=>{const t=k.useContext(ip);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},qx=({children:t})=>{const[e,r]=k.useState(null),[a,o]=k.useState(null),[l,u]=k.useState(!0),[h,f]=k.useState(!1),p=k.useRef(Date.now()),y=k.useRef(null),v=k.useRef(null),w=k.useRef(null),b=k.useCallback(()=>{p.current=Date.now(),f(!1)},[]),_=k.useCallback(async()=>{try{const{data:{session:Z},error:oe}=await H.auth.getSession();if(oe||!Z)return console.log("Session invalid or expired"),await N(),!1;const me=Z.expires_at;if(me&&me*1e3-Date.now()<300*1e3){const{error:ve}=await H.auth.refreshSession();if(ve)return console.error("Failed to refresh session:",ve),await N(),!1}return!0}catch(Z){return console.error("Error validating session:",Z),!1}},[]),N=async()=>{r(null),o(null),f(!1),E();try{await H.auth.signOut()}catch(Z){console.error("Error in signOutInternal:",Z)}},E=k.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=null),v.current&&(clearTimeout(v.current),v.current=null),w.current&&(clearInterval(w.current),w.current=null)},[]),I=k.useCallback(()=>{E();const Z=$a.INACTIVITY_TIMEOUT-$a.WARNING_BEFORE_LOGOUT;v.current=setTimeout(()=>{f(!0)},Z),y.current=setTimeout(async()=>{console.log("Session expired due to inactivity"),await N()},$a.INACTIVITY_TIMEOUT),w.current=setInterval(async()=>{e&&await _()},$a.SESSION_CHECK_INTERVAL)},[e,_,E]),R=k.useCallback(()=>{e&&(b(),I())},[e,b,I]);k.useEffect(()=>{if(!e){E();return}const Z=["mousedown","keydown","touchstart","scroll"],oe=()=>{R()};Z.forEach(ve=>{document.addEventListener(ve,oe,{passive:!0})});const me=async()=>{document.visibilityState==="visible"&&e&&await _()&&R()};document.addEventListener("visibilitychange",me);const ie=async()=>{e&&await _()&&R()};return window.addEventListener("focus",ie),I(),()=>{Z.forEach(ve=>{document.removeEventListener(ve,oe)}),document.removeEventListener("visibilitychange",me),window.removeEventListener("focus",ie),E()}},[e,R,_,I,E]),k.useEffect(()=>{let Z=!0;(async()=>{try{const{data:{session:ie},error:ve}=await H.auth.getSession();if(!Z)return;ve?(console.error("Error getting session:",ve),r(null),o(null)):(r((ie==null?void 0:ie.user)??null),ie!=null&&ie.user&&j(ie.user.id))}catch(ie){console.error("Error in getSession:",ie),Z&&(r(null),o(null))}finally{Z&&u(!1)}})();const{data:{subscription:me}}=H.auth.onAuthStateChange(async(ie,ve)=>{Z&&(ie==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):ie==="SIGNED_OUT"&&E(),r((ve==null?void 0:ve.user)??null),ve!=null&&ve.user?j(ve.user.id):o(null),(ie==="SIGNED_IN"||ie==="SIGNED_OUT")&&u(!1))});return()=>{Z=!1,me.unsubscribe()}},[E]);const j=async Z=>{var oe,me,ie,ve,ee,we,z,W,B;try{const{data:O}=await H.auth.getUser(),F=((me=(oe=O==null?void 0:O.user)==null?void 0:oe.user_metadata)==null?void 0:me.avatar_url)||((ve=(ie=O==null?void 0:O.user)==null?void 0:ie.user_metadata)==null?void 0:ve.picture),{data:pe,error:fe}=await H.from("profiles").select("*").eq("id",Z).single();if(fe&&fe.code==="PGRST116"){const je={id:Z,full_name:((we=(ee=O==null?void 0:O.user)==null?void 0:ee.user_metadata)==null?void 0:we.full_name)||((W=(z=O==null?void 0:O.user)==null?void 0:z.email)==null?void 0:W.split("@")[0])||"Usuario",email:(B=O==null?void 0:O.user)==null?void 0:B.email,avatar_url:F},{data:Se}=await H.from("profiles").insert(je).select().single();o({...Se,avatar_url:F})}else fe?(console.error("Error fetching profile:",fe),o(null)):o({...pe,avatar_url:pe.avatar_url||F})}catch(O){console.error("Error in fetchProfile:",O),o(null)}},T=async(Z,oe,me)=>{const ie=`${window.location.origin}/`,{data:ve,error:ee}=await H.auth.signUp({email:Z,password:oe,options:{data:{full_name:me},emailRedirectTo:ie}});return{data:ve,error:ee}},D=async(Z,oe)=>{const{data:me,error:ie}=await H.auth.signInWithPassword({email:Z,password:oe});return{data:me,error:ie}},C=async()=>{const Z=`${window.location.origin}/`,{data:oe,error:me}=await H.auth.signInWithOAuth({provider:"google",options:{redirectTo:Z}});return{data:oe,error:me}},A=async()=>{try{E(),r(null),o(null),f(!1);const{error:Z}=await H.auth.signOut();return Z&&console.error("Error signing out:",Z),{error:Z}}catch(Z){return console.error("Error in signOut:",Z),{error:Z}}},G=k.useCallback(()=>{b(),I(),f(!1)},[b,I]),J={user:e,profile:a,loading:l,sessionExpiring:h,signUp:T,signIn:D,signInWithGoogle:C,signOut:A,resetPassword:async Z=>{const{data:oe,error:me}=await H.auth.resetPasswordForEmail(Z,{redirectTo:`${window.location.origin}/reset-password`});return{data:oe,error:me}},extendSession:G};return c.jsx(ip.Provider,{value:J,children:t})},lp=k.createContext({}),Au=()=>{const t=k.useContext(lp);if(!t)throw new Error("useError must be used within an ErrorProvider");return t},Hx=({children:t})=>{const[e,r]=k.useState(null),a=k.useCallback((l,u=null)=>{r({message:typeof l=="string"?l:(l==null?void 0:l.message)||"Ha ocurrido un error",details:u||(typeof l=="object"?JSON.stringify(l,null,2):null),timestamp:new Date().toISOString()})},[]),o=k.useCallback(()=>{r(null)},[]);return c.jsx(lp.Provider,{value:{error:e,showError:a,clearError:o},children:t})};function zr({size:t="md",className:e=""}){const r={sm:"w-5 h-5",md:"w-10 h-10",lg:"w-14 h-14"},a={sm:"2px",md:"3px",lg:"4px"};return c.jsx("div",{className:`flex items-center justify-center ${e}`,children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`${r[t]} rounded-full`,style:{border:`${a[t]} solid var(--border-subtle)`}}),c.jsx("div",{className:`${r[t]} absolute inset-0 rounded-full animate-spin`,style:{borderWidth:a[t],borderStyle:"solid",borderColor:"transparent",borderTopColor:"var(--accent-primary)",borderRightColor:"var(--accent-primary)",filter:"drop-shadow(0 0 8px var(--accent-primary-glow))"}})]})})}const Bt=({children:t})=>{const{user:e,loading:r}=Qn(),a=Hr();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsx(zr,{size:"lg"})}):e?t:c.jsx(to,{to:"/",state:{from:a},replace:!0})},Vx=()=>{const{error:t,clearError:e}=Au(),[r,a]=k.useState(!1);return t?c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",style:{backgroundColor:"var(--bg-secondary)"},children:[c.jsx("div",{className:"p-6 pb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--accent-red-dim)"},children:c.jsx("svg",{className:"w-6 h-6",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Ocurri un error"}),c.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:t.message})]})]})}),t.details&&c.jsxs("div",{className:"px-6",children:[c.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 text-xs font-medium transition-colors hover:opacity-80",style:{color:"var(--text-muted)"},children:[c.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r?"Ocultar detalles tcnicos":"Ver detalles tcnicos"]}),r&&c.jsx("div",{className:"mt-3 p-3 rounded-lg text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-muted)",border:"1px solid var(--border-primary)"},children:c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:t.details})})]}),c.jsx("div",{className:"p-6 pt-4 flex justify-end",children:c.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-xl font-medium text-sm transition-all hover:opacity-90 active:scale-95",style:{backgroundColor:"var(--accent-primary)",color:"#000"},children:"Entendido"})})]})]}):null};function Yx(){const{sessionExpiring:t,extendSession:e,signOut:r}=Qn();if(!t)return null;const a=Math.ceil($a.WARNING_BEFORE_LOGOUT/6e4);return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:e}),c.jsx("div",{className:"relative w-full max-w-sm rounded-2xl p-6 animate-scale-in",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{backgroundColor:"rgba(251, 191, 36, 0.15)"},children:c.jsx("svg",{className:"w-8 h-8",style:{color:"#fbbf24"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--text-primary)"},children:"Sesin por expirar"}),c.jsxs("p",{className:"text-sm mb-5",style:{color:"var(--text-secondary)"},children:["Tu sesin expirar en ",a," minuto",a!==1?"s":""," por inactividad.",c.jsx("br",{}),"Quers seguir conectado?"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-semibold transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:"Cerrar sesin"}),c.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl font-semibold text-white transition-all duration-200 hover:opacity-90 active:scale-[0.98]",style:{backgroundColor:"var(--accent-primary)"},children:"Continuar"})]})]})})]})}function mm({darkMode:t,toggleDarkMode:e}){return c.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},"aria-label":t?"Cambiar a modo claro":"Cambiar a modo oscuro",children:t?c.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):c.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})}function Gx({onClick:t}){return c.jsx("button",{onClick:t,className:"p-2 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-95",style:{color:"var(--text-secondary)"},title:"Buscar (Alt+K)",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}const zs="attachments",cp=5*1024*1024,pm=100*1024*1024,Kx=async t=>{const{data:e,error:r}=await H.from("user_settings").select("storage_used_bytes, storage_quota_bytes").eq("user_id",t).single();if(r)return console.error("Error getting storage usage:",r),{used:0,quota:pm,percentage:0};const a=(e==null?void 0:e.storage_used_bytes)||0,o=(e==null?void 0:e.storage_quota_bytes)||pm,l=Math.round(a/o*100);return{used:a,quota:o,percentage:l}},Lu=async(t,e)=>{const{data:r}=await H.from("user_settings").select("storage_used_bytes").eq("user_id",t).single(),a=(r==null?void 0:r.storage_used_bytes)||0,o=Math.max(0,a+e);await H.from("user_settings").update({storage_used_bytes:o}).eq("user_id",t)},up=async(t,e)=>{const{used:r,quota:a}=await Kx(t);if(r+e>a){const o=Math.round(a/1048576);return{canUpload:!1,message:`Sin espacio suficiente. Usados ${(r/(1024*1024)).toFixed(1)}MB de ${o}MB. Elimin algunos adjuntos para continuar.`}}return{canUpload:!0}},L2=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":t<1024*1024*1024?(t/(1024*1024)).toFixed(1)+" MB":(t/(1024*1024*1024)).toFixed(2)+" GB",dp=async(t,e=500,r=1920)=>!t.type.startsWith("image/")||t.type==="image/gif"||t.size<=e*1024?t:new Promise(a=>{const o=new FileReader;o.readAsDataURL(t),o.onload=l=>{const u=new Image;u.src=l.target.result,u.onload=()=>{const h=document.createElement("canvas");let{width:f,height:p}=u;(f>r||p>r)&&(f>p?(p=p/f*r,f=r):(f=f/p*r,p=r)),h.width=f,h.height=p,h.getContext("2d").drawImage(u,0,0,f,p),h.toBlob(v=>{if(v){const w=new File([v],t.name,{type:"image/jpeg",lastModified:Date.now()});a(w)}else a(t)},"image/jpeg",.8)}}}),no=async(t,e,r="movements")=>{if(!t)throw new Error("No se proporcion ningn archivo");let a=t;if(t.type.startsWith("image/")&&t.size>500*1024&&(a=await dp(t)),a.size>cp)throw new Error("El archivo es demasiado grande. Mximo 5MB.");const{canUpload:o,message:l}=await up(e,a.size);if(!o)throw new Error(l);const u=t.name.split(".").pop(),h=`${Date.now()}-${Math.random().toString(36).substring(2,9)}.${u}`,f=`${e}/${r}/${h}`,{data:p,error:y}=await H.storage.from(zs).upload(f,a,{cacheControl:"3600",upsert:!1});if(y)throw console.error("Error uploading attachment:",y),new Error("Error al subir el archivo: "+y.message);await Lu(e,a.size);const{data:v}=H.storage.from(zs).getPublicUrl(f);return{url:v.publicUrl,name:t.name,path:p.path,size:a.size}},gm=async(t,e,r="statement")=>{if(!t)throw new Error("No se proporcion ningn archivo");let a=t;if(t.type.startsWith("image/")&&t.size>500*1024&&(a=await dp(t)),a.size>cp)throw new Error("El archivo es demasiado grande. Mximo 5MB.");const{canUpload:o,message:l}=await up(e,a.size);if(!o)throw new Error(l);const u=t.name.split(".").pop(),h=`${Date.now()}-${Math.random().toString(36).substring(2,9)}.${u}`,f=`${e}/statements/${r}/${h}`,{data:p,error:y}=await H.storage.from(zs).upload(f,a,{cacheControl:"3600",upsert:!1});if(y)throw console.error("Error uploading statement attachment:",y),new Error("Error al subir el archivo: "+y.message);await Lu(e,a.size);const{data:v}=H.storage.from(zs).getPublicUrl(f);return{url:v.publicUrl,name:t.name,path:p.path,size:a.size}},Ot=async t=>{var l,u;if(!t||!hp(t))return;const e=Jx(t);if(!e)return;const r=e.split("/")[0];let a=0;try{const h=e.substring(0,e.lastIndexOf("/")),f=e.split("/").pop(),{data:p}=await H.storage.from(zs).list(h,{search:f});a=((u=(l=p==null?void 0:p[0])==null?void 0:l.metadata)==null?void 0:u.size)||0}catch(h){console.warn("Could not get file size before delete:",h)}const{error:o}=await H.storage.from(zs).remove([e]);if(o)throw console.error("Error deleting attachment:",o),new Error("Error al eliminar el archivo: "+o.message);a>0&&r&&await Lu(r,-a)},hp=t=>t?t.includes("supabase")&&t.includes("/attachments/"):!1,Jx=t=>{if(!t||!hp(t))return null;const e=t.match(/\/attachments\/(.+)$/);return e?e[1]:null},ym=t=>{var r;if(!t)return!1;const e=(r=t.split(".").pop())==null?void 0:r.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(e)},Qx=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB",Xx=async(t,e)=>{try{const a=await(await fetch(t)).blob(),o=window.URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=e||"archivo",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)}catch(r){console.error("Error downloading attachment:",r),window.open(t,"_blank")}},wu="cashe-icon-catalog",Zx=1440*60*1e3,e1=600*1e3;let Un=null,Jc=0;function Qc(){try{const t=localStorage.getItem(wu);if(!t)return null;const e=JSON.parse(t);return Date.now()-e.timestamp>Zx?(localStorage.removeItem(wu),null):e.data}catch{return null}}function t1(t){try{localStorage.setItem(wu,JSON.stringify({timestamp:Date.now(),data:t}))}catch{}}const vm=[" Supermercados Argentina"," Comida Rpida"," Delivery"," Movilidad"," Combustible"," Streaming Video"," Streaming Msica"," Gaming"," Telefona & Internet"," Billeteras Virtuales Argentina"," Pagos Internacionales"," E-commerce"," Ropa Internacional"," Ropa Argentina"," Belleza & Perfumera"," Prepagas & Obras Sociales"," Farmacias Argentina"," Seguros Argentina"," Inversiones Argentina"," Crypto Argentina"," Crypto Internacional"," Electro & Tech Argentina"," Software & Productividad"," Suscripciones Tech"," Developer Tools"," Mensajera"," Redes Sociales"," Cursos Online"," Educacin Argentina"," Universidades Privadas Argentina"," Universidades Pblicas Argentina"," Viajes & Aerolneas"," Cines Argentina"," Gimnasios & Fitness"," Hogar & Construccin"," Electricidad"," Gas"," Agua"," TV Cable & Satlite"," Medios Argentina"," Peajes Argentina"," Gobierno Argentina"," Otros Servicios"," Cafeteras Argentina"];function r1(t){return[...t].sort((e,r)=>{const a=vm.indexOf(e),o=vm.indexOf(r);return a!==-1&&o!==-1?a-o:a!==-1?-1:o!==-1?1:e.localeCompare(r,"es")})}const $u=t=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const{data:e}=H.storage.from("icons").getPublicUrl(`catalog/${t}`);return(e==null?void 0:e.publicUrl)||""};function n1(){const[t,e]=k.useState(()=>Un||Qc()||[]),[r,a]=k.useState(()=>!Un&&!Qc()),[o,l]=k.useState(null);k.useEffect(()=>{if(Un&&Date.now()-Jc<e1){e(Un),a(!1);return}const y=Qc();y&&y.length>0&&!Un&&(Un=y,Jc=Date.now(),e(y),a(!1));let v=!1;return(async()=>{try{(!y||y.length===0)&&a(!0);const{data:b,error:_}=await H.from("icon_catalog").select("id, name, filename, category, keywords, domain").order("name");if(_)throw _;if(v)return;const N=b||[];Un=N,Jc=Date.now(),t1(N),e(N)}catch(b){v||(console.error("Error fetching icon catalog:",b),l(b.message))}finally{v||a(!1)}})(),()=>{v=!0}},[]);const u=k.useMemo(()=>{const y={};return t.forEach(v=>{const w=v.category||"Otros";y[w]||(y[w]=[]),y[w].push(v)}),y},[t]),h=k.useMemo(()=>r1(Object.keys(u)),[u]),f=k.useCallback(y=>{if(!y)return t;const v=y.toLowerCase().trim();return t.filter(w=>{var b,_,N;return((b=w.name)==null?void 0:b.toLowerCase().includes(v))||((_=w.domain)==null?void 0:_.toLowerCase().includes(v))||((N=w.keywords)==null?void 0:N.some(E=>E.toLowerCase().includes(v)))})},[t]),p=k.useCallback(y=>y&&t.find(v=>v.id===y)||null,[t]);return{icons:t,loading:r,error:o,groupedIcons:u,categories:h,searchIcons:f,getIconById:p,getIconUrl:$u}}const s1=300*1e3,za=new Map,Yn=new Map,so=t=>{const e=za.get(t);return e&&Date.now()-e.timestamp<s1?e.data:null},Kn=(t,e)=>{za.set(t,{data:e,timestamp:Date.now()})},fp=async(t,e)=>{const r=so(t);if(r)return r;if(Yn.has(t))return Yn.get(t);const a=e().finally(()=>{Yn.delete(t)});return Yn.set(t,a),a},gt=t=>{if(!t){za.clear(),Yn.clear();return}const e=[];for(const r of za.keys())(r.includes(t)||r.includes("dashboard")||r.includes("movements")||r.includes("income")||r.includes("expense"))&&e.push(r);e.forEach(r=>za.delete(r));for(const r of Yn.keys())(!t||r.includes(t)||r.includes("dashboard")||r.includes("movements")||r.includes("income")||r.includes("expense"))&&Yn.delete(r)},Ve=async()=>{const{data:{user:t},error:e}=await H.auth.getUser();if(e)throw console.error("Error getting user:",e),new Error("Error getting authenticated user");if(!t)throw new Error("No authenticated user");return t.id},mp=t=>["Caja de ahorro","Cuenta corriente","Efectivo","Inversin","Tarjeta de crdito","Billetera virtual","Otro"].includes(t)?t:{Inversiones:"Inversin"}[t]||"Caja de ahorro",a1=t=>t||"Caja de ahorro",xu=()=>fp("accounts",async()=>{const t=await Ve(),{data:e,error:r}=await H.from("accounts").select("*").eq("user_id",t).order("name");if(r)throw r;if(!e||e.length===0){const l={accounts:[]};return Kn("accounts",l),l}const o={accounts:await Promise.all(e.map(async l=>{const u=await o1(l.id,l.initial_balance);return{id:l.id,nombre:l.name,moneda:l.currency==="ARS"?"Peso":"Dlar",balanceInicial:l.initial_balance,numeroCuenta:l.account_number||"",tipo:a1(l.account_type),esTarjetaCredito:l.is_credit_card,diaCierre:l.closing_day,balanceActual:u,icon:l.icon||null,...l}}))};return Kn("accounts",o),o}),o1=async(t,e)=>{const r=await Ve(),{data:a}=await H.from("movements").select("amount").eq("user_id",r).eq("account_id",t).eq("type","income"),o=(a||[]).reduce((v,w)=>v+parseFloat(w.amount),0),{data:l}=await H.from("movements").select("amount").eq("user_id",r).eq("account_id",t).eq("type","expense"),u=(l||[]).reduce((v,w)=>v+parseFloat(w.amount),0),{data:h}=await H.from("transfers").select("to_amount").eq("user_id",r).eq("to_account_id",t),f=(h||[]).reduce((v,w)=>v+parseFloat(w.to_amount),0),{data:p}=await H.from("transfers").select("from_amount").eq("user_id",r).eq("from_account_id",t),y=(p||[]).reduce((v,w)=>v+parseFloat(w.from_amount),0);return parseFloat(e)+o-u+f-y},$2=async({nombre:t,balanceInicial:e,moneda:r,numeroCuenta:a,tipo:o,esTarjetaCredito:l,diaCierre:u,icon:h})=>{const f=await Ve(),{data:p,error:y}=await H.from("accounts").insert({user_id:f,name:t,initial_balance:e||0,currency:r==="Peso"?"ARS":"USD",account_number:a||null,account_type:mp(o),is_credit_card:l||!1,closing_day:u||null,icon:h||null}).select().single();if(y)throw y;return gt("accounts"),{success:!0,account:p}},W2=async({id:t,rowIndex:e,nombre:r,balanceInicial:a,moneda:o,numeroCuenta:l,tipo:u,esTarjetaCredito:h,diaCierre:f,icon:p})=>{const y=t||e;if(!y)throw new Error("No se encontr el id de la cuenta para actualizar.");const{data:v,error:w}=await H.from("accounts").update({name:r,initial_balance:a||0,currency:o==="Peso"?"ARS":"USD",account_number:l||null,account_type:mp(u),is_credit_card:h||!1,closing_day:f||null,icon:p||null}).eq("id",y).select().single();if(w)throw w;return gt("accounts"),{success:!0,account:v}},pp=async t=>{const e=await Ve(),{data:r}=await H.from("movements").select("attachment_url").eq("user_id",e).eq("account_id",t).not("attachment_url","is",null);for(const u of r||[])u.attachment_url&&await Ot(u.attachment_url);const{data:a}=await H.from("transfers").select("attachment_url").eq("user_id",e).eq("from_account_id",t).not("attachment_url","is",null),{data:o}=await H.from("transfers").select("attachment_url").eq("user_id",e).eq("to_account_id",t).not("attachment_url","is",null);for(const u of[...a||[],...o||[]])u.attachment_url&&await Ot(u.attachment_url);const{data:l}=await H.from("card_statement_attachments").select("statement_url, receipt_url").eq("user_id",e).eq("account_id",t);for(const u of l||[])u.statement_url&&await Ot(u.statement_url),u.receipt_url&&await Ot(u.receipt_url)},U2=async t=>{await pp(t);const{error:e}=await H.from("accounts").delete().eq("id",t);if(e)throw e;return gt("accounts"),{success:!0}},B2=async t=>{const e=t.map(a=>a.id).filter(Boolean);if(e.length===0)return{success:!0};for(const a of e)await pp(a);const{error:r}=await H.from("accounts").delete().in("id",e);if(r)throw r;return gt("accounts"),{success:!0}},i1=t=>{if(!t)return null;const e=new RegExp("^(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)(\\u200D(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F))*","u"),r=t.match(e);return r?r[0]:null},bu=()=>fp("categories",async()=>{const t=await Ve(),{data:e,error:r}=await H.from("categories").select("*, icon_catalog:icon_catalog_id(id, name, filename)").eq("user_id",t).order("name");if(r)throw r;const a=h=>{const f=h.icon_catalog&&h.icon_catalog.filename,p=h.icon||null,y=!p&&!f?i1(h.name):null;let v=h.name;y&&!p&&!f&&(v=h.name.slice(y.length).trim());const w=f?$u(h.icon_catalog.filename):p||y;return{value:h.name,label:v,icon:w,icon_catalog:f?h.icon_catalog:null,icon_catalog_id:h.icon_catalog_id||null}},o=(e||[]).filter(h=>h.type==="income").map(a),l=(e||[]).filter(h=>h.type==="expense").map(a),u={categorias:{ingresos:o,gastos:l}};return Kn("categories",u),u}),l1=async()=>{const t="categoriesWithId",e=so(t);if(e)return e;const r=await Ve(),{data:a,error:o}=await H.from("categories").select("*, icon_catalog:icon_catalog_id(id, name, filename)").eq("user_id",r).order("name");if(o)throw o;const l={categorias:a.map(u=>({id:u.id,rowIndex:u.id,nombre:u.name,tipo:u.type==="income"?"Ingreso":"Gasto",icon:u.icon||null,icon_catalog_id:u.icon_catalog_id||null,icon_catalog:u.icon_catalog&&u.icon_catalog.filename?u.icon_catalog:null}))};return Kn(t,l),l},c1=async({nombre:t,tipo:e,icon:r,icon_catalog_id:a})=>{const o=await Ve(),l=e.toLowerCase().includes("ingreso")||e.toLowerCase()==="income"?"income":"expense",{data:u,error:h}=await H.from("categories").insert({user_id:o,name:t,type:l,icon:r||null,icon_catalog_id:a||null}).select().single();if(h)throw h;return gt("categories"),{success:!0,category:u}},z2=async({id:t,rowIndex:e,nombre:r,tipo:a,icon:o,icon_catalog_id:l})=>{const u=t||e,{data:h,error:f}=await H.from("categories").update({name:r,type:a==="Ingreso"?"income":"expense",icon:o!==void 0?o:null,icon_catalog_id:l||null}).eq("id",u).select().single();if(f)throw f;return gt("categories"),{success:!0,category:h}},F2=async t=>{const{error:e}=await H.from("categories").delete().eq("id",t);if(e)throw e;return gt("categories"),{success:!0}},q2=async t=>{const{error:e}=await H.from("categories").delete().in("id",t);if(e)throw e;return gt("categories"),{success:!0}},Wu=(t,e,r)=>{const a=e==null?void 0:e.find(l=>l.id===t.account_id),o=r==null?void 0:r.find(l=>l.id===t.category_id);return{id:t.id,rowIndex:t.id,fecha:t.date,monto:parseFloat(t.amount),cuenta:(a==null?void 0:a.name)||"",categoria:(o==null?void 0:o.name)||"",nota:t.note||"",tipo:t.type==="income"?"ingreso":"gasto",accountId:t.account_id,categoryId:t.category_id,idCompra:t.installment_purchase_id,cuota:t.installment_number&&t.total_installments?`${t.installment_number}/${t.total_installments}`:null,attachmentUrl:t.attachment_url,attachmentName:t.attachment_name}},u1=async()=>{const t="expenses",e=so(t);if(e)return e;const r=await Ve(),[{data:a},{data:o},{data:l}]=await Promise.all([H.from("movements").select("*").eq("user_id",r).eq("type","expense").order("date",{ascending:!1}),H.from("accounts").select("id, name").eq("user_id",r),H.from("categories").select("id, name").eq("user_id",r)]),u={gastos:(a||[]).map(h=>Wu(h,o,l))};return Kn(t,u),u},d1=async()=>{const t="incomes",e=so(t);if(e)return e;const r=await Ve(),[{data:a},{data:o},{data:l}]=await Promise.all([H.from("movements").select("*").eq("user_id",r).eq("type","income").order("date",{ascending:!1}),H.from("accounts").select("id, name").eq("user_id",r),H.from("categories").select("id, name").eq("user_id",r)]),u={ingresos:(a||[]).map(h=>Wu(h,o,l))};return Kn(t,u),u},h1=async({fecha:t,monto:e,cuenta:r,categoria:a,nota:o,attachment:l})=>{const u=await Ve(),{data:h}=await H.from("accounts").select("id").eq("user_id",u).eq("name",r).single(),{data:f}=await H.from("categories").select("id").eq("user_id",u).eq("name",a).single();let p=null,y=null;if(l){const b=await no(l,u,"movements");p=b.url,y=b.name}const{data:v,error:w}=await H.from("movements").insert({user_id:u,type:"expense",date:t,amount:e,account_id:h==null?void 0:h.id,category_id:f==null?void 0:f.id,note:o||null,attachment_url:p,attachment_name:y}).select().single();if(w)throw w;return gt("expense"),{success:!0,movement:v}},f1=async({fecha:t,monto:e,cuenta:r,categoria:a,nota:o,attachment:l})=>{const u=await Ve(),{data:h}=await H.from("accounts").select("id").eq("user_id",u).eq("name",r).single(),{data:f}=await H.from("categories").select("id").eq("user_id",u).eq("name",a).single();let p=null,y=null;if(l){const b=await no(l,u,"movements");p=b.url,y=b.name}const{data:v,error:w}=await H.from("movements").insert({user_id:u,type:"income",date:t,amount:e,account_id:h==null?void 0:h.id,category_id:f==null?void 0:f.id,note:o||null,attachment_url:p,attachment_name:y}).select().single();if(w)throw w;return gt("income"),{success:!0,movement:v}},m1=async t=>{var v;console.log("updateMovement called with:",t);const e=await Ve(),{data:r}=await H.from("accounts").select("id").eq("user_id",e).eq("name",t.cuenta),a=r==null?void 0:r[0];console.log("Found account:",a);let o=null;if(t.categoria){const{data:w}=await H.from("categories").select("id").eq("user_id",e).eq("name",t.categoria);o=((v=w==null?void 0:w[0])==null?void 0:v.id)||null,console.log("Found category:",w==null?void 0:w[0])}const l=t.id||t.rowIndex;console.log("Movement ID to update:",l);let u=t.attachmentUrl,h=t.attachmentName;if(t.newAttachment){t.attachmentUrl&&await Ot(t.attachmentUrl);const w=await no(t.newAttachment,e,"movements");u=w.url,h=w.name}t.removeAttachment&&(t.attachmentUrl&&await Ot(t.attachmentUrl),u=null,h=null);const f={date:t.fecha,amount:t.monto,account_id:a==null?void 0:a.id,category_id:o,note:t.nota||null,attachment_url:u,attachment_name:h};console.log("Update payload:",f);const{data:p,error:y}=await H.from("movements").update(f).eq("id",l).select().single();if(console.log("Update result:",{data:p,error:y}),y)throw y;return gt(""),{success:!0,movement:p}},p1=async t=>{const e=t.id||t.rowIndex;t.attachmentUrl&&await Ot(t.attachmentUrl);const{error:r}=await H.from("movements").delete().eq("id",e);if(r)throw r;return gt(""),{success:!0}},g1=async t=>{const e=t.map(o=>o.id||o.rowIndex),r=t.filter(o=>o.attachmentUrl).map(o=>Ot(o.attachmentUrl));await Promise.all(r);const{error:a}=await H.from("movements").delete().in("id",e);if(a)throw a;return gt(""),{success:!0}},y1=async(t,e,r)=>{const a=await Ve(),o=t.map(h=>h.id||h.rowIndex);let l={};if(e==="cuenta"){const{data:h}=await H.from("accounts").select("id").eq("user_id",a).eq("name",r).single();l.account_id=h==null?void 0:h.id}else if(e==="categoria"){const{data:h}=await H.from("categories").select("id").eq("user_id",a).eq("name",r).single();l.category_id=h==null?void 0:h.id}else e==="nota"&&(l.note=r);const{error:u}=await H.from("movements").update(l).in("id",o);if(u)throw u;return gt(""),{success:!0}},v1=async()=>{const t="transfers",e=so(t);if(e)return e;const r=await Ve(),[{data:a},{data:o}]=await Promise.all([H.from("transfers").select("*").eq("user_id",r).order("date",{ascending:!1}),H.from("accounts").select("id, name").eq("user_id",r)]),l={transferencias:(a||[]).map(u=>{const h=o==null?void 0:o.find(p=>p.id===u.from_account_id),f=o==null?void 0:o.find(p=>p.id===u.to_account_id);return{id:u.id,rowIndex:u.id,fecha:u.date,cuentaSaliente:(h==null?void 0:h.name)||"",cuentaEntrante:(f==null?void 0:f.name)||"",montoSaliente:parseFloat(u.from_amount),montoEntrante:parseFloat(u.to_amount),nota:u.note||"",tipo:"transferencia",attachmentUrl:u.attachment_url,attachmentName:u.attachment_name}})};return Kn(t,l),l},w1=async({fecha:t,cuentaSaliente:e,cuentaEntrante:r,montoSaliente:a,montoEntrante:o,nota:l,attachment:u})=>{const h=await Ve(),{data:f}=await H.from("accounts").select("id").eq("user_id",h).eq("name",e).single(),{data:p}=await H.from("accounts").select("id").eq("user_id",h).eq("name",r).single();let y=null,v=null;if(u){const _=await no(u,h,"transfers");y=_.url,v=_.name}const{data:w,error:b}=await H.from("transfers").insert({user_id:h,date:t,from_account_id:f==null?void 0:f.id,to_account_id:p==null?void 0:p.id,from_amount:a,to_amount:o,note:l||null,attachment_url:y,attachment_name:v}).select().single();if(b)throw b;return gt("transfer"),{success:!0,transfer:w}},H2=async t=>{const e=await Ve(),{data:r}=await H.from("accounts").select("id").eq("user_id",e).eq("name",t.cuentaSaliente).single(),{data:a}=await H.from("accounts").select("id").eq("user_id",e).eq("name",t.cuentaEntrante).single(),o=t.id||t.rowIndex;let l=t.attachmentUrl,u=t.attachmentName;if(t.newAttachment){t.attachmentUrl&&await Ot(t.attachmentUrl);const p=await no(t.newAttachment,e,"transfers");l=p.url,u=p.name}t.removeAttachment&&(t.attachmentUrl&&await Ot(t.attachmentUrl),l=null,u=null);const{data:h,error:f}=await H.from("transfers").update({date:t.fecha,from_account_id:r==null?void 0:r.id,to_account_id:a==null?void 0:a.id,from_amount:t.montoSaliente,to_amount:t.montoEntrante,note:t.nota||null,attachment_url:l,attachment_name:u}).eq("id",o).select().single();if(f)throw f;return gt("transfer"),{success:!0,transfer:h}},V2=async t=>{const e=t.id||t.rowIndex;t.attachmentUrl&&await Ot(t.attachmentUrl);const{error:r}=await H.from("transfers").delete().eq("id",e);if(r)throw r;return gt("transfer"),{success:!0}},x1=async({startDate:t,endDate:e})=>{const r=await Ve(),o=(await _1()).tipoCambio,{data:l}=await H.from("accounts").select("id, currency").eq("user_id",r);(l||[]).filter(b=>b.currency==="ARS").map(b=>b.id);const u=(l||[]).filter(b=>b.currency==="USD").map(b=>b.id),[{data:h},{data:f}]=await Promise.all([H.from("movements").select("amount, account_id").eq("user_id",r).eq("type","income").gte("date",t).lte("date",e),H.from("movements").select("amount, account_id").eq("user_id",r).eq("type","expense").gte("date",t).lte("date",e)]);let p=0,y=0,v=0,w=0;return(h||[]).forEach(b=>{const _=parseFloat(b.amount);u.includes(b.account_id)?y+=_:p+=_}),(f||[]).forEach(b=>{const _=parseFloat(b.amount);u.includes(b.account_id)?w+=_:v+=_}),{ingresosMes:p,ingresosMesDolares:y,gastosMes:v,gastosMesDolares:w,balanceMes:p-v,balanceMesDolares:y-w,tipoCambio:o,totalPesos:p-v,totalDolares:y-w,totalGeneralPesos:p-v+(y-w)*o,totalGeneralDolares:(p-v)/o+(y-w)}},b1=async(t=10)=>{const e=await Ve(),[{data:r},{data:a},{data:o},{data:l}]=await Promise.all([H.from("movements").select("*").eq("user_id",e).order("date",{ascending:!1}).limit(t),H.from("transfers").select("*").eq("user_id",e).order("date",{ascending:!1}).limit(t),H.from("accounts").select("id, name").eq("user_id",e),H.from("categories").select("id, name").eq("user_id",e)]),u=(r||[]).map(p=>Wu(p,o,l)),h=(a||[]).map(p=>{const y=o==null?void 0:o.find(w=>w.id===p.from_account_id),v=o==null?void 0:o.find(w=>w.id===p.to_account_id);return{id:p.id,rowIndex:p.id,fecha:p.date,cuentaSaliente:(y==null?void 0:y.name)||"",cuentaEntrante:(v==null?void 0:v.name)||"",montoSaliente:parseFloat(p.from_amount),montoEntrante:parseFloat(p.to_amount),monto:parseFloat(p.from_amount),nota:p.note||"",tipo:"transferencia"}});return{movimientos:[...u,...h].sort((p,y)=>new Date(y.fecha)-new Date(p.fecha)).slice(0,t)}},k1=async(t="oficial")=>{try{const e=await fetch(`https://dolarapi.com/v1/dolares/${t}`);if(!e.ok)throw new Error("API error");const r=await e.json();return{compra:r.compra,venta:r.venta,fecha:r.fechaActualizacion}}catch(e){return console.error("Error fetching live exchange rate:",e),null}},_1=async()=>{const t=await Ve(),{data:e,error:r}=await H.from("user_settings").select("exchange_rate").eq("user_id",t).single();if(r&&console.warn("Could not fetch user_settings (exchange rate)",r.message),!(e!=null&&e.exchange_rate)){const o=await k1("oficial");if(o!=null&&o.compra){const{error:l}=await H.from("user_settings").upsert({user_id:t,exchange_rate:o.compra},{onConflict:"user_id"});return l&&console.warn("Could not upsert exchange rate",l.message),{tipoCambio:o.compra,tipoUsado:"oficial",fechaActualizacion:o.fecha,autoUpdated:!0}}}return{tipoCambio:(e==null?void 0:e.exchange_rate)||1e3,tipoUsado:"oficial",fechaActualizacion:null,autoUpdated:!1}},j1=async({descripcion:t,montoTotal:e,cuotas:r,cuenta:a,categoria:o,fechaInicio:l})=>{const u=await Ve(),{data:h}=await H.from("accounts").select("id").eq("user_id",u).eq("name",a).single(),{data:f}=await H.from("categories").select("id").eq("user_id",u).eq("name",o).single(),{data:p,error:y}=await H.from("installment_purchases").insert({user_id:u,description:t,total_amount:e,installments:r,account_id:h==null?void 0:h.id,category_id:f==null?void 0:f.id,start_date:l}).select().single();if(y)throw y;const v=e/r,w=[];for(let _=0;_<r;_++){const N=new Date(l);N.setMonth(N.getMonth()+_),w.push({user_id:u,type:"expense",date:N.toISOString().split("T")[0],amount:v,account_id:h==null?void 0:h.id,category_id:f==null?void 0:f.id,note:`${t} - Cuota ${_+1}/${r}`,installment_purchase_id:p.id,installment_number:_+1,total_installments:r})}const{error:b}=await H.from("movements").insert(w);if(b)throw b;return gt(""),{success:!0,purchase:p}},Y2=async()=>({success:!0,expenses:(await u1()).gastos}),G2=async()=>({success:!0,incomes:(await d1()).ingresos}),K2=async()=>({success:!0,transfers:(await v1()).transferencias}),J2=async()=>({success:!0,categories:(await l1()).categorias}),Q2=async({fromDate:t,toDate:e})=>({success:!0,dashboard:await x1({startDate:t,endDate:e})}),X2=async({fromDate:t,toDate:e,tipos:r=[],cuentas:a=[],categorias:o=[]})=>{const l=await Ve(),[{data:u},{data:h},{data:f},{data:p}]=await Promise.all([H.from("movements").select("*").eq("user_id",l).gte("date",t||"1900-01-01").lte("date",e||"2100-12-31").order("date",{ascending:!1}),H.from("transfers").select("*").eq("user_id",l).gte("date",t||"1900-01-01").lte("date",e||"2100-12-31").order("date",{ascending:!1}),H.from("accounts").select("id, name").eq("user_id",l),H.from("categories").select("id, name").eq("user_id",l)]);let y=[];return(u||[]).forEach(v=>{const w=f==null?void 0:f.find(_=>_.id===v.account_id),b=p==null?void 0:p.find(_=>_.id===v.category_id);y.push({id:v.id,rowIndex:v.id,fecha:v.date,monto:parseFloat(v.amount),cuenta:(w==null?void 0:w.name)||"",categoria:(b==null?void 0:b.name)||"",nota:v.note||"",tipo:v.type==="income"?"ingreso":"gasto"})}),(h||[]).forEach(v=>{const w=f==null?void 0:f.find(_=>_.id===v.from_account_id),b=f==null?void 0:f.find(_=>_.id===v.to_account_id);y.push({id:v.id,rowIndex:v.id,fecha:v.date,cuentaSaliente:(w==null?void 0:w.name)||"",cuentaEntrante:(b==null?void 0:b.name)||"",cuenta:(w==null?void 0:w.name)||"",montoSaliente:parseFloat(v.from_amount),montoEntrante:parseFloat(v.to_amount),monto:parseFloat(v.from_amount),nota:v.note||"",tipo:"transferencia"})}),y.sort((v,w)=>new Date(w.fecha)-new Date(v.fecha)),r&&r.length>0&&(y=y.filter(v=>r.includes(v.tipo))),a&&a.length>0&&(y=y.filter(v=>a.includes(v.cuenta))),o&&o.length>0&&(y=y.filter(v=>v.categoria&&o.includes(v.categoria))),{success:!0,movements:y}},Z2=g1,eS=y1,S1=j1,tS=async t=>{const e=await Ve(),{data:r,error:a}=await H.from("card_statement_attachments").select("*").eq("user_id",e).eq("account_id",t);if(a)throw a;const o={};return(r||[]).forEach(l=>{o[l.period]={id:l.id,statementUrl:l.statement_url,statementName:l.statement_name,receiptUrl:l.receipt_url,receiptName:l.receipt_name}}),o},rS=async({accountId:t,period:e,statementFile:r,receiptFile:a,existing:o})=>{const l=await Ve();let u=(o==null?void 0:o.statementUrl)||null,h=(o==null?void 0:o.statementName)||null,f=(o==null?void 0:o.receiptUrl)||null,p=(o==null?void 0:o.receiptName)||null;if(r){u&&await Ot(u);const w=await gm(r,l,"statement");u=w.url,h=w.name}if(a){f&&await Ot(f);const w=await gm(a,l,"receipt");f=w.url,p=w.name}const{data:y,error:v}=await H.from("card_statement_attachments").upsert({user_id:l,account_id:t,period:e,statement_url:u,statement_name:h,receipt_url:f,receipt_name:p,updated_at:new Date().toISOString()},{onConflict:"user_id,account_id,period"}).select().single();if(v)throw v;return{id:y.id,statementUrl:y.statement_url,statementName:y.statement_name,receiptUrl:y.receipt_url,receiptName:y.receipt_name}},nS=async({accountId:t,period:e,field:r})=>{const a=await Ve(),{data:o}=await H.from("card_statement_attachments").select("*").eq("user_id",a).eq("account_id",t).eq("period",e).single();if(!o)return;r==="statement"&&o.statement_url?await Ot(o.statement_url):r==="receipt"&&o.receipt_url&&await Ot(o.receipt_url);const l=r==="statement"?{statement_url:null,statement_name:null}:{receipt_url:null,receipt_name:null};return o[r==="statement"?"receipt_url":"statement_url"]?await H.from("card_statement_attachments").update(l).eq("id",o.id):await H.from("card_statement_attachments").delete().eq("id",o.id),{success:!0}};function Ri(t,e="ARS"){if(t==null||isNaN(t))return e==="USD"?"US$ -":"$ -";const a=Math.abs(t).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2});return(e==="USD"?"US$ ":"$ ")+a}function sS(t,e="full"){if(!t)return"-";const r=new Date(t);if(isNaN(r.getTime()))return"-";if(e==="short"){const u=r.getDate().toString().padStart(2,"0"),f=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"][r.getMonth()];return`${u}-${f}`}const a=r.getDate().toString().padStart(2,"0"),o=(r.getMonth()+1).toString().padStart(2,"0"),l=r.getFullYear();return`${a}-${o}-${l}`}const gp=6048e5,E1=864e5,C1=6e4,N1=36e5,T1=1e3,wm=Symbol.for("constructDateFrom");function We(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wm in t?t[wm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Te(t,e){return We(e||t,t)}function Hi(t,e,r){const a=Te(t,r==null?void 0:r.in);return isNaN(e)?We((r==null?void 0:r.in)||t,NaN):(e&&a.setDate(a.getDate()+e),a)}function yp(t,e,r){const a=Te(t,r==null?void 0:r.in);if(isNaN(e))return We(t,NaN);if(!e)return a;const o=a.getDate(),l=We(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(a.setFullYear(l.getFullYear(),l.getMonth(),o),a)}let O1={};function Xn(){return O1}function Fr(t,e){var h,f,p,y;const r=Xn(),a=(e==null?void 0:e.weekStartsOn)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,o=Te(t,e==null?void 0:e.in),l=o.getDay(),u=(l<a?7:0)+l-a;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function Jn(t,e){return Fr(t,{...e,weekStartsOn:1})}function vp(t,e){const r=Te(t,e==null?void 0:e.in),a=r.getFullYear(),o=We(r,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const l=Jn(o),u=We(r,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const h=Jn(u);return r.getTime()>=l.getTime()?a+1:r.getTime()>=h.getTime()?a:a-1}function Ii(t){const e=Te(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Vs(t,...e){const r=We.bind(null,e.find(a=>typeof a=="object"));return e.map(r)}function Qa(t,e){const r=Te(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Uu(t,e,r){const[a,o]=Vs(r==null?void 0:r.in,t,e),l=Qa(a),u=Qa(o),h=+l-Ii(l),f=+u-Ii(u);return Math.round((h-f)/E1)}function P1(t,e){const r=vp(t,e),a=We(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Jn(a)}function M1(t,e,r){return Hi(t,e*7,r)}function R1(t,e,r){return yp(t,e*12,r)}function I1(t,e){let r,a=e==null?void 0:e.in;return t.forEach(o=>{!a&&typeof o=="object"&&(a=We.bind(null,o));const l=Te(o,a);(!r||r<l||isNaN(+l))&&(r=l)}),We(a,r||NaN)}function D1(t,e){let r,a=e==null?void 0:e.in;return t.forEach(o=>{!a&&typeof o=="object"&&(a=We.bind(null,o));const l=Te(o,a);(!r||r>l||isNaN(+l))&&(r=l)}),We(a,r||NaN)}function A1(t,e,r){const[a,o]=Vs(r==null?void 0:r.in,t,e);return+Qa(a)==+Qa(o)}function wp(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function L1(t){return!(!wp(t)&&typeof t!="number"||isNaN(+Te(t)))}function xp(t,e,r){const[a,o]=Vs(r==null?void 0:r.in,t,e),l=a.getFullYear()-o.getFullYear(),u=a.getMonth()-o.getMonth();return l*12+u}function $1(t,e){const r=Te(t,e==null?void 0:e.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function bp(t,e){const[r,a]=Vs(t,e.start,e.end);return{start:r,end:a}}function W1(t,e){const{start:r,end:a}=bp(e==null?void 0:e.in,t);let o=+r>+a;const l=o?+r:+a,u=o?a:r;u.setHours(0,0,0,0),u.setDate(1);let h=1;const f=[];for(;+u<=l;)f.push(We(r,u)),u.setMonth(u.getMonth()+h);return o?f.reverse():f}function U1(t,e){const r=Te(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function B1(t,e){const r=Te(t,e==null?void 0:e.in),a=r.getFullYear();return r.setFullYear(a+1,0,0),r.setHours(23,59,59,999),r}function kp(t,e){const r=Te(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function z1(t,e){const{start:r,end:a}=bp(e==null?void 0:e.in,t);let o=+r>+a;const l=o?+r:+a,u=o?a:r;u.setHours(0,0,0,0),u.setMonth(0,1);let h=1;const f=[];for(;+u<=l;)f.push(We(r,u)),u.setFullYear(u.getFullYear()+h);return o?f.reverse():f}function _p(t,e){var h,f,p,y;const r=Xn(),a=(e==null?void 0:e.weekStartsOn)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,o=Te(t,e==null?void 0:e.in),l=o.getDay(),u=(l<a?-7:0)+6-(l-a);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function F1(t,e){return _p(t,{...e,weekStartsOn:1})}const q1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H1=(t,e,r)=>{let a;const o=q1[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Us(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const V1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K1={date:Us({formats:V1,defaultWidth:"full"}),time:Us({formats:Y1,defaultWidth:"full"}),dateTime:Us({formats:G1,defaultWidth:"full"})},J1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q1=(t,e,r,a)=>J1[t];function _r(t){return(e,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=r!=null&&r.width?String(r.width):u;o=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=r!=null&&r.width?String(r.width):t.defaultWidth;o=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const X1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sb=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ab={ordinalNumber:sb,era:_r({values:X1,defaultWidth:"wide"}),quarter:_r({values:Z1,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_r({values:eb,defaultWidth:"wide"}),day:_r({values:tb,defaultWidth:"wide"}),dayPeriod:_r({values:rb,defaultWidth:"wide",formattingValues:nb,defaultFormattingWidth:"wide"})};function jr(t){return(e,r={})=>{const a=r.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],h=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(h)?ib(h,v=>v.test(u)):ob(h,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(f):f,p=r.valueCallback?r.valueCallback(p):p;const y=e.slice(u.length);return{value:p,rest:y}}}function ob(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ib(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function jp(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const o=a[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=r.valueCallback?r.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}const lb=/^(\d+)(th|st|nd|rd)?/i,cb=/\d+/i,ub={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},db={any:[/^b/i,/^(a|c)/i]},hb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fb={any:[/1/i,/2/i,/3/i,/4/i]},mb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xb={ordinalNumber:jp({matchPattern:lb,parsePattern:cb,valueCallback:t=>parseInt(t,10)}),era:jr({matchPatterns:ub,defaultMatchWidth:"wide",parsePatterns:db,defaultParseWidth:"any"}),quarter:jr({matchPatterns:hb,defaultMatchWidth:"wide",parsePatterns:fb,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jr({matchPatterns:mb,defaultMatchWidth:"wide",parsePatterns:pb,defaultParseWidth:"any"}),day:jr({matchPatterns:gb,defaultMatchWidth:"wide",parsePatterns:yb,defaultParseWidth:"any"}),dayPeriod:jr({matchPatterns:vb,defaultMatchWidth:"any",parsePatterns:wb,defaultParseWidth:"any"})},Hn={code:"en-US",formatDistance:H1,formatLong:K1,formatRelative:Q1,localize:ab,match:xb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bb(t,e){const r=Te(t,e==null?void 0:e.in);return Uu(r,kp(r))+1}function Vi(t,e){const r=Te(t,e==null?void 0:e.in),a=+Jn(r)-+P1(r);return Math.round(a/gp)+1}function Bu(t,e){var y,v,w,b;const r=Te(t,e==null?void 0:e.in),a=r.getFullYear(),o=Xn(),l=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(w=o.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,u=We((e==null?void 0:e.in)||t,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const h=Fr(u,e),f=We((e==null?void 0:e.in)||t,0);f.setFullYear(a,0,l),f.setHours(0,0,0,0);const p=Fr(f,e);return+r>=+h?a+1:+r>=+p?a:a-1}function kb(t,e){var h,f,p,y;const r=Xn(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=Bu(t,e),l=We((e==null?void 0:e.in)||t,0);return l.setFullYear(o,0,a),l.setHours(0,0,0,0),Fr(l,e)}function Yi(t,e){const r=Te(t,e==null?void 0:e.in),a=+Fr(r,e)-+kb(r,e);return Math.round(a/gp)+1}function $e(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const gn={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return $e(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):$e(r+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,r-3));return $e(o,e.length)}},Rs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xm={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return gn.y(t,e)},Y:function(t,e,r,a){const o=Bu(t,a),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return $e(u,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):$e(l,e.length)},R:function(t,e){const r=vp(t);return $e(r,e.length)},u:function(t,e){const r=t.getFullYear();return $e(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return $e(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return $e(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return gn.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return $e(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const o=Yi(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):$e(o,e.length)},I:function(t,e,r){const a=Vi(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):$e(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):gn.d(t,e)},D:function(t,e,r){const a=bb(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):$e(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const o=t.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return $e(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const o=t.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return $e(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return $e(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let o;switch(a===12?o=Rs.noon:a===0?o=Rs.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let o;switch(a>=17?o=Rs.evening:a>=12?o=Rs.afternoon:a>=4?o=Rs.morning:o=Rs.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return gn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):gn.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):$e(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):$e(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):gn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):gn.s(t,e)},S:function(t,e){return gn.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return km(a);case"XXXX":case"XX":return zn(a);case"XXXXX":case"XXX":default:return zn(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return km(a);case"xxxx":case"xx":return zn(a);case"xxxxx":case"xxx":default:return zn(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bm(a,":");case"OOOO":default:return"GMT"+zn(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bm(a,":");case"zzzz":default:return"GMT"+zn(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return $e(a,e.length)},T:function(t,e,r){return $e(+t,e.length)}};function bm(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),l=a%60;return l===0?r+String(o):r+String(o)+e+$e(l,2)}function km(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):zn(t,e)}function zn(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),o=$e(Math.trunc(a/60),2),l=$e(a%60,2);return r+o+e+l}const _m=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Sp=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_b=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return _m(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",_m(a,e)).replace("{{time}}",Sp(o,e))},ku={p:Sp,P:_b},jb=/^D+$/,Sb=/^Y+$/,Eb=["D","DD","YY","YYYY"];function Ep(t){return jb.test(t)}function Cp(t){return Sb.test(t)}function _u(t,e,r){const a=Cb(t,e,r);if(console.warn(a),Eb.includes(t))throw new RangeError(a)}function Cb(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ob=/^'([^]*?)'?$/,Pb=/''/g,Mb=/[a-zA-Z]/;function Gt(t,e,r){var y,v,w,b,_,N,E,I;const a=Xn(),o=(r==null?void 0:r.locale)??a.locale??Hn,l=(r==null?void 0:r.firstWeekContainsDate)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(w=a.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((N=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??a.weekStartsOn??((I=(E=a.locale)==null?void 0:E.options)==null?void 0:I.weekStartsOn)??0,h=Te(t,r==null?void 0:r.in);if(!L1(h))throw new RangeError("Invalid time value");let f=e.match(Tb).map(R=>{const j=R[0];if(j==="p"||j==="P"){const T=ku[j];return T(R,o.formatLong)}return R}).join("").match(Nb).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const j=R[0];if(j==="'")return{isToken:!1,value:Rb(R)};if(xm[j])return{isToken:!0,value:R};if(j.match(Mb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:R}});o.localize.preprocessor&&(f=o.localize.preprocessor(h,f));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return f.map(R=>{if(!R.isToken)return R.value;const j=R.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Cp(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ep(j))&&_u(j,e,String(t));const T=xm[j[0]];return T(h,j,o.localize,p)}).join("")}function Rb(t){const e=t.match(Ob);return e?e[1].replace(Pb,"'"):t}function Ib(t,e){const r=Te(t,e==null?void 0:e.in),a=r.getFullYear(),o=r.getMonth(),l=We(r,0);return l.setFullYear(a,o+1,0),l.setHours(0,0,0,0),l.getDate()}function Db(){return Object.assign({},Xn())}function Ab(t,e){const r=Te(t,e==null?void 0:e.in).getDay();return r===0?7:r}function Lb(t,e){return Te(t,e==null?void 0:e.in).getMonth()}function $b(t,e){return Te(t,e==null?void 0:e.in).getFullYear()}function Wb(t,e){return+Te(t)>+Te(e)}function Ub(t,e){return+Te(t)<+Te(e)}function Bb(t,e){const r=zb(e)?new e(0):We(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function zb(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const Fb=10;class Np{constructor(){ne(this,"subPriority",0)}validate(e,r){return!0}}class qb extends Np{constructor(e,r,a,o,l){super(),this.value=e,this.validateValue=r,this.setValue=a,this.priority=o,l&&(this.subPriority=l)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,a){return this.setValue(e,r,this.value,a)}}class Hb extends Np{constructor(r,a){super();ne(this,"priority",Fb);ne(this,"subPriority",-1);this.context=r||(o=>We(a,o))}set(r,a){return a.timestampIsSet?r:We(r,Bb(r,this.context))}}class De{run(e,r,a,o){const l=this.parse(e,r,a,o);return l?{setter:new qb(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(e,r,a){return!0}}class Vb extends De{constructor(){super(...arguments);ne(this,"priority",140);ne(this,"incompatibleTokens",["R","u","t","T"])}parse(r,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,a,o){return a.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ot(t,e){return t&&{value:e(t.value),rest:t.rest}}function Qe(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Er(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const a=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,u=r[5]?parseInt(r[5],10):0;return{value:a*(o*N1+l*C1+u*T1),rest:e.slice(r[0].length)}}function Tp(t){return Qe(at.anyDigitsSigned,t)}function tt(t,e){switch(t){case 1:return Qe(at.singleDigit,e);case 2:return Qe(at.twoDigits,e);case 3:return Qe(at.threeDigits,e);case 4:return Qe(at.fourDigits,e);default:return Qe(new RegExp("^\\d{1,"+t+"}"),e)}}function Di(t,e){switch(t){case 1:return Qe(at.singleDigitSigned,e);case 2:return Qe(at.twoDigitsSigned,e);case 3:return Qe(at.threeDigitsSigned,e);case 4:return Qe(at.fourDigitsSigned,e);default:return Qe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function zu(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Op(t,e){const r=e>0,a=r?e:1-e;let o;if(a<=50)o=t||100;else{const l=a+50,u=Math.trunc(l/100)*100,h=t>=l%100;o=t+u-(h?100:0)}return r?o:1-o}function Pp(t){return t%400===0||t%4===0&&t%100!==0}class Yb extends De{constructor(){super(...arguments);ne(this,"priority",130);ne(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,a,o){const l=u=>({year:u,isTwoDigitYear:a==="yy"});switch(a){case"y":return ot(tt(4,r),l);case"yo":return ot(o.ordinalNumber(r,{unit:"year"}),l);default:return ot(tt(a.length,r),l)}}validate(r,a){return a.isTwoDigitYear||a.year>0}set(r,a,o){const l=r.getFullYear();if(o.isTwoDigitYear){const h=Op(o.year,l);return r.setFullYear(h,0,1),r.setHours(0,0,0,0),r}const u=!("era"in a)||a.era===1?o.year:1-o.year;return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}}class Gb extends De{constructor(){super(...arguments);ne(this,"priority",130);ne(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,a,o){const l=u=>({year:u,isTwoDigitYear:a==="YY"});switch(a){case"Y":return ot(tt(4,r),l);case"Yo":return ot(o.ordinalNumber(r,{unit:"year"}),l);default:return ot(tt(a.length,r),l)}}validate(r,a){return a.isTwoDigitYear||a.year>0}set(r,a,o,l){const u=Bu(r,l);if(o.isTwoDigitYear){const f=Op(o.year,u);return r.setFullYear(f,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),Fr(r,l)}const h=!("era"in a)||a.era===1?o.year:1-o.year;return r.setFullYear(h,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),Fr(r,l)}}class Kb extends De{constructor(){super(...arguments);ne(this,"priority",130);ne(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,a){return Di(a==="R"?4:a.length,r)}set(r,a,o){const l=We(r,0);return l.setFullYear(o,0,4),l.setHours(0,0,0,0),Jn(l)}}class Jb extends De{constructor(){super(...arguments);ne(this,"priority",130);ne(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,a){return Di(a==="u"?4:a.length,r)}set(r,a,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Qb extends De{constructor(){super(...arguments);ne(this,"priority",120);ne(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,a,o){switch(a){case"Q":case"QQ":return tt(a.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,a){return a>=1&&a<=4}set(r,a,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class Xb extends De{constructor(){super(...arguments);ne(this,"priority",120);ne(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,a,o){switch(a){case"q":case"qq":return tt(a.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,a){return a>=1&&a<=4}set(r,a,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class Zb extends De{constructor(){super(...arguments);ne(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ne(this,"priority",110)}parse(r,a,o){const l=u=>u-1;switch(a){case"M":return ot(Qe(at.month,r),l);case"MM":return ot(tt(2,r),l);case"Mo":return ot(o.ordinalNumber(r,{unit:"month"}),l);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,a){return a>=0&&a<=11}set(r,a,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class ek extends De{constructor(){super(...arguments);ne(this,"priority",110);ne(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,a,o){const l=u=>u-1;switch(a){case"L":return ot(Qe(at.month,r),l);case"LL":return ot(tt(2,r),l);case"Lo":return ot(o.ordinalNumber(r,{unit:"month"}),l);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,a){return a>=0&&a<=11}set(r,a,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function tk(t,e,r){const a=Te(t,r==null?void 0:r.in),o=Yi(a,r)-e;return a.setDate(a.getDate()-o*7),Te(a,r==null?void 0:r.in)}class rk extends De{constructor(){super(...arguments);ne(this,"priority",100);ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,a,o){switch(a){case"w":return Qe(at.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return tt(a.length,r)}}validate(r,a){return a>=1&&a<=53}set(r,a,o,l){return Fr(tk(r,o,l),l)}}function nk(t,e,r){const a=Te(t,r==null?void 0:r.in),o=Vi(a,r)-e;return a.setDate(a.getDate()-o*7),a}class sk extends De{constructor(){super(...arguments);ne(this,"priority",100);ne(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,a,o){switch(a){case"I":return Qe(at.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return tt(a.length,r)}}validate(r,a){return a>=1&&a<=53}set(r,a,o){return Jn(nk(r,o))}}const ak=[31,28,31,30,31,30,31,31,30,31,30,31],ok=[31,29,31,30,31,30,31,31,30,31,30,31];class ik extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"subPriority",1);ne(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,a,o){switch(a){case"d":return Qe(at.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return tt(a.length,r)}}validate(r,a){const o=r.getFullYear(),l=Pp(o),u=r.getMonth();return l?a>=1&&a<=ok[u]:a>=1&&a<=ak[u]}set(r,a,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class lk extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"subpriority",1);ne(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,a,o){switch(a){case"D":case"DD":return Qe(at.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return tt(a.length,r)}}validate(r,a){const o=r.getFullYear();return Pp(o)?a>=1&&a<=366:a>=1&&a<=365}set(r,a,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function Fu(t,e,r){var v,w,b,_;const a=Xn(),o=(r==null?void 0:r.weekStartsOn)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??a.weekStartsOn??((_=(b=a.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??0,l=Te(t,r==null?void 0:r.in),u=l.getDay(),f=(e%7+7)%7,p=7-o,y=e<0||e>6?e-(u+p)%7:(f+p)%7-(u+p)%7;return Hi(l,y,r)}class ck extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,a){return a>=0&&a<=6}set(r,a,o,l){return r=Fu(r,o,l),r.setHours(0,0,0,0),r}}class uk extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,a,o,l){const u=h=>{const f=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+f};switch(a){case"e":case"ee":return ot(tt(a.length,r),u);case"eo":return ot(o.ordinalNumber(r,{unit:"day"}),u);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,a){return a>=0&&a<=6}set(r,a,o,l){return r=Fu(r,o,l),r.setHours(0,0,0,0),r}}class dk extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,a,o,l){const u=h=>{const f=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+f};switch(a){case"c":case"cc":return ot(tt(a.length,r),u);case"co":return ot(o.ordinalNumber(r,{unit:"day"}),u);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,a){return a>=0&&a<=6}set(r,a,o,l){return r=Fu(r,o,l),r.setHours(0,0,0,0),r}}function hk(t,e,r){const a=Te(t,r==null?void 0:r.in),o=Ab(a,r),l=e-o;return Hi(a,l,r)}class fk extends De{constructor(){super(...arguments);ne(this,"priority",90);ne(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,a,o){const l=u=>u===0?7:u;switch(a){case"i":case"ii":return tt(a.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return ot(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l);case"iiiii":return ot(o.day(r,{width:"narrow",context:"formatting"}),l);case"iiiiii":return ot(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l);case"iiii":default:return ot(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l)}}validate(r,a){return a>=1&&a<=7}set(r,a,o){return r=hk(r,o),r.setHours(0,0,0,0),r}}class mk extends De{constructor(){super(...arguments);ne(this,"priority",80);ne(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,a,o){return r.setHours(zu(o),0,0,0),r}}class pk extends De{constructor(){super(...arguments);ne(this,"priority",80);ne(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,a,o){return r.setHours(zu(o),0,0,0),r}}class gk extends De{constructor(){super(...arguments);ne(this,"priority",80);ne(this,"incompatibleTokens",["a","b","t","T"])}parse(r,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,a,o){return r.setHours(zu(o),0,0,0),r}}class yk extends De{constructor(){super(...arguments);ne(this,"priority",70);ne(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,a,o){switch(a){case"h":return Qe(at.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return tt(a.length,r)}}validate(r,a){return a>=1&&a<=12}set(r,a,o){const l=r.getHours()>=12;return l&&o<12?r.setHours(o+12,0,0,0):!l&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class vk extends De{constructor(){super(...arguments);ne(this,"priority",70);ne(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,a,o){switch(a){case"H":return Qe(at.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return tt(a.length,r)}}validate(r,a){return a>=0&&a<=23}set(r,a,o){return r.setHours(o,0,0,0),r}}class wk extends De{constructor(){super(...arguments);ne(this,"priority",70);ne(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,a,o){switch(a){case"K":return Qe(at.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return tt(a.length,r)}}validate(r,a){return a>=0&&a<=11}set(r,a,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class xk extends De{constructor(){super(...arguments);ne(this,"priority",70);ne(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,a,o){switch(a){case"k":return Qe(at.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return tt(a.length,r)}}validate(r,a){return a>=1&&a<=24}set(r,a,o){const l=o<=24?o%24:o;return r.setHours(l,0,0,0),r}}class bk extends De{constructor(){super(...arguments);ne(this,"priority",60);ne(this,"incompatibleTokens",["t","T"])}parse(r,a,o){switch(a){case"m":return Qe(at.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return tt(a.length,r)}}validate(r,a){return a>=0&&a<=59}set(r,a,o){return r.setMinutes(o,0,0),r}}class kk extends De{constructor(){super(...arguments);ne(this,"priority",50);ne(this,"incompatibleTokens",["t","T"])}parse(r,a,o){switch(a){case"s":return Qe(at.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return tt(a.length,r)}}validate(r,a){return a>=0&&a<=59}set(r,a,o){return r.setSeconds(o,0),r}}class _k extends De{constructor(){super(...arguments);ne(this,"priority",30);ne(this,"incompatibleTokens",["t","T"])}parse(r,a){const o=l=>Math.trunc(l*Math.pow(10,-a.length+3));return ot(tt(a.length,r),o)}set(r,a,o){return r.setMilliseconds(o),r}}class jk extends De{constructor(){super(...arguments);ne(this,"priority",10);ne(this,"incompatibleTokens",["t","T","x"])}parse(r,a){switch(a){case"X":return Er(Sr.basicOptionalMinutes,r);case"XX":return Er(Sr.basic,r);case"XXXX":return Er(Sr.basicOptionalSeconds,r);case"XXXXX":return Er(Sr.extendedOptionalSeconds,r);case"XXX":default:return Er(Sr.extended,r)}}set(r,a,o){return a.timestampIsSet?r:We(r,r.getTime()-Ii(r)-o)}}class Sk extends De{constructor(){super(...arguments);ne(this,"priority",10);ne(this,"incompatibleTokens",["t","T","X"])}parse(r,a){switch(a){case"x":return Er(Sr.basicOptionalMinutes,r);case"xx":return Er(Sr.basic,r);case"xxxx":return Er(Sr.basicOptionalSeconds,r);case"xxxxx":return Er(Sr.extendedOptionalSeconds,r);case"xxx":default:return Er(Sr.extended,r)}}set(r,a,o){return a.timestampIsSet?r:We(r,r.getTime()-Ii(r)-o)}}class Ek extends De{constructor(){super(...arguments);ne(this,"priority",40);ne(this,"incompatibleTokens","*")}parse(r){return Tp(r)}set(r,a,o){return[We(r,o*1e3),{timestampIsSet:!0}]}}class Ck extends De{constructor(){super(...arguments);ne(this,"priority",20);ne(this,"incompatibleTokens","*")}parse(r){return Tp(r)}set(r,a,o){return[We(r,o),{timestampIsSet:!0}]}}const Nk={G:new Vb,y:new Yb,Y:new Gb,R:new Kb,u:new Jb,Q:new Qb,q:new Xb,M:new Zb,L:new ek,w:new rk,I:new sk,d:new ik,D:new lk,E:new ck,e:new uk,c:new dk,i:new fk,a:new mk,b:new pk,B:new gk,h:new yk,H:new vk,K:new wk,k:new xk,m:new bk,s:new kk,S:new _k,X:new jk,x:new Sk,t:new Ek,T:new Ck},Tk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ok=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pk=/^'([^]*?)'?$/,Mk=/''/g,Rk=/\S/,Ik=/[a-zA-Z]/;function Dk(t,e,r,a){var E,I,R,j;const o=()=>We(r,NaN),l=Db(),u=l.locale??Hn,h=l.firstWeekContainsDate??((I=(E=l.locale)==null?void 0:E.options)==null?void 0:I.firstWeekContainsDate)??1,f=l.weekStartsOn??((j=(R=l.locale)==null?void 0:R.options)==null?void 0:j.weekStartsOn)??0,p={firstWeekContainsDate:h,weekStartsOn:f,locale:u},y=[new Hb(a==null?void 0:a.in,r)],v=e.match(Ok).map(T=>{const D=T[0];if(D in ku){const C=ku[D];return C(T,u.formatLong)}return T}).join("").match(Tk),w=[];for(let T of v){Cp(T)&&_u(T,e,t),Ep(T)&&_u(T,e,t);const D=T[0],C=Nk[D];if(C){const{incompatibleTokens:A}=C;if(Array.isArray(A)){const Q=w.find(J=>A.includes(J.token)||J.token===D);if(Q)throw new RangeError(`The format string mustn't contain \`${Q.fullToken}\` and \`${T}\` at the same time`)}else if(C.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);w.push({token:D,fullToken:T});const G=C.run(t,T,u.match,p);if(!G)return o();y.push(G.setter),t=G.rest}else{if(D.match(Ik))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(T==="''"?T="'":D==="'"&&(T=Ak(T)),t.indexOf(T)===0)t=t.slice(T.length);else return o()}}if(t.length>0&&Rk.test(t))return o();const b=y.map(T=>T.priority).sort((T,D)=>D-T).filter((T,D,C)=>C.indexOf(T)===D).map(T=>y.filter(D=>D.priority===T).sort((D,C)=>C.subPriority-D.subPriority)).map(T=>T[0]);let _=Te(r,a==null?void 0:a.in);if(isNaN(+_))return o();const N={};for(const T of b){if(!T.validate(_,p))return o();const D=T.set(_,N,p);Array.isArray(D)?(_=D[0],Object.assign(N,D[1])):_=D}return _}function Ak(t){return t.match(Pk)[1].replace(Mk,"'")}function Lk(t,e,r){const[a,o]=Vs(r==null?void 0:r.in,t,e);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function $k(t,e,r){const[a,o]=Vs(r==null?void 0:r.in,t,e);return a.getFullYear()===o.getFullYear()}function Wk(t,e,r){const a=Te(t,r==null?void 0:r.in),o=a.getFullYear(),l=a.getDate(),u=We(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const h=Ib(u);return a.setMonth(e,Math.min(l,h)),a}function Uk(t,e,r){const a=Te(t,r==null?void 0:r.in);return isNaN(+a)?We(t,NaN):(a.setFullYear(e),a)}const Bk={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},zk=(t,e,r)=>{let a;const o=Bk[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},Fk={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},qk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Hk={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vk={date:Us({formats:Fk,defaultWidth:"full"}),time:Us({formats:qk,defaultWidth:"full"}),dateTime:Us({formats:Hk,defaultWidth:"full"})},Yk={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Gk={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Kk=(t,e,r,a)=>e.getHours()!==1?Gk[t]:Yk[t],Jk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Qk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Xk={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Zk={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},e_={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},t_={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},r_=(t,e)=>Number(t)+"",n_={ordinalNumber:r_,era:_r({values:Jk,defaultWidth:"wide"}),quarter:_r({values:Qk,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:_r({values:Xk,defaultWidth:"wide"}),day:_r({values:Zk,defaultWidth:"wide"}),dayPeriod:_r({values:e_,defaultWidth:"wide",formattingValues:t_,defaultFormattingWidth:"wide"})},s_=/^(\d+)()?/i,a_=/\d+/i,o_={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},i_={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},l_={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},c_={any:[/1/i,/2/i,/3/i,/4/i]},u_={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},d_={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},h_={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},f_={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},m_={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},p_={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},g_={ordinalNumber:jp({matchPattern:s_,parsePattern:a_,valueCallback:function(t){return parseInt(t,10)}}),era:jr({matchPatterns:o_,defaultMatchWidth:"wide",parsePatterns:i_,defaultParseWidth:"any"}),quarter:jr({matchPatterns:l_,defaultMatchWidth:"wide",parsePatterns:c_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jr({matchPatterns:u_,defaultMatchWidth:"wide",parsePatterns:d_,defaultParseWidth:"any"}),day:jr({matchPatterns:h_,defaultMatchWidth:"wide",parsePatterns:f_,defaultParseWidth:"any"}),dayPeriod:jr({matchPatterns:m_,defaultMatchWidth:"any",parsePatterns:p_,defaultParseWidth:"any"})},Ai={code:"es",formatDistance:zk,formatLong:Vk,formatRelative:Kk,localize:n_,match:g_,options:{weekStartsOn:1,firstWeekContainsDate:1}};function y_({isOpen:t,onClose:e,onMovementClick:r}){const[a,o]=k.useState(""),[l,u]=k.useState([]),[h,f]=k.useState([]),[p,y]=k.useState(!1),[v,w]=k.useState(!0),b=k.useRef(null);k.useEffect(()=>{t&&v&&_()},[t,v]),k.useEffect(()=>{t&&b.current&&setTimeout(()=>{var j;return(j=b.current)==null?void 0:j.focus()},100)},[t]),k.useEffect(()=>{t||(o(""),f([]))},[t]);const _=async()=>{try{y(!0);const j=await b1(500);u(j.movements||[]),w(!1)}catch(j){console.error("Error loading movements:",j)}finally{y(!1)}};k.useEffect(()=>{const j=setTimeout(()=>{if(a.trim()){const T=a.toLowerCase().trim(),D=l.filter(C=>{const A=(C.categoria||"").toLowerCase(),G=(C.cuenta||C.cuentaSaliente||C.cuentaEntrante||"").toLowerCase(),Q=(C.nota||"").toLowerCase(),J=(C.monto||C.montoSaliente||0).toString();return A.includes(T)||G.includes(T)||Q.includes(T)||J.includes(T)});f(D.slice(0,20))}else f([])},300);return()=>clearTimeout(j)},[a,l]);const N=j=>{j.key==="Escape"&&e()},E=j=>{switch(j){case"ingreso":return"var(--accent-green)";case"gasto":return"var(--accent-red)";case"transferencia":return"var(--accent-blue)";default:return"var(--text-secondary)"}},I=j=>{switch(j){case"ingreso":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})});case"gasto":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})});case"transferencia":return c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});default:return null}},R=j=>{try{return Gt(new Date(j),"d MMM yyyy",{locale:Ai})}catch{return j}};return t?c.jsxs("div",{className:"fixed inset-0 z-[70] flex items-start justify-center pt-16 px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl overflow-hidden animate-slide-down",style:{backgroundColor:"var(--bg-secondary)"},children:[c.jsx("div",{className:"p-4",style:{borderBottom:"1px solid var(--border-subtle)"},children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:b,type:"text",value:a,onChange:j=>o(j.target.value),onKeyDown:N,placeholder:"Buscar por categoria, cuenta, nota o monto...",className:"w-full pl-12 pr-4 py-3 rounded-xl text-base",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}}),a&&c.jsx("button",{onClick:()=>o(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-[var(--bg-secondary)]",style:{color:"var(--text-secondary)"},children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:p?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"w-6 h-6 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})}):a&&h.length===0?c.jsxs("div",{className:"py-12 text-center",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("p",{children:"No se encontraron resultados"}),c.jsx("p",{className:"text-sm mt-1",children:"Intenta con otra busqueda"})]}):a?c.jsx("div",{className:"p-2",children:h.map((j,T)=>c.jsxs("button",{onClick:()=>{r(j),e()},className:"w-full flex items-center gap-3 p-3 rounded-xl text-left transition-colors hover:bg-[var(--bg-tertiary)]",children:[c.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${E(j.tipo)}20`,color:E(j.tipo)},children:I(j.tipo)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"font-medium truncate",style:{color:"var(--text-primary)"},children:j.categoria||j.cuentaSaliente||"Movimiento"}),c.jsxs("span",{className:"font-semibold flex-shrink-0",style:{color:E(j.tipo)},children:[j.tipo==="ingreso"?"+":j.tipo==="gasto"?"-":"",Ri(j.monto||j.montoSaliente||0)]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[c.jsx("span",{className:"truncate",children:j.cuenta||(j.tipo==="transferencia"?`${j.cuentaSaliente}  ${j.cuentaEntrante}`:"")}),c.jsx("span",{children:""}),c.jsx("span",{className:"flex-shrink-0",children:R(j.fecha)})]}),j.nota&&c.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:j.nota})]})]},`${j.tipo}-${j.fecha}-${T}`))}):c.jsxs("div",{className:"py-12 text-center",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("p",{children:"Busca en tus movimientos"}),c.jsx("p",{className:"text-sm mt-1",children:"Categoria, cuenta, nota o monto"})]})}),c.jsxs("div",{className:"p-3 text-center text-xs",style:{borderTop:"1px solid var(--border-subtle)",color:"var(--text-secondary)"},children:[c.jsx("kbd",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--bg-tertiary)"},children:"ESC"})," ","para cerrar"]})]}),c.jsx("style",{children:`
        @keyframes slide-down {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-slide-down {
          animation: slide-down 0.2s ease-out;
        }
      `})]}):null}function v_(t,e,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:r}).format(e).split(/\s/g).slice(2).join(" ")}const Xc={},Wa={};function Gn(t,e){try{const a=(Xc[t]||(Xc[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return a in Wa?Wa[a]:jm(a,a.split(":"))}catch{if(t in Wa)return Wa[t];const r=t==null?void 0:t.match(w_);return r?jm(t,r.slice(1)):NaN}}const w_=/([+-]\d\d):?(\d\d)?/;function jm(t,e){const r=+(e[0]||0),a=+(e[1]||0),o=+(e[2]||0)/60;return Wa[t]=r*60+a>0?r*60+a+o:r*60-a-o}class Cr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Gn(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Mp(this),ju(this)):this.setTime(Date.now())}static tz(e,...r){return r.length?new Cr(...r,e):new Cr(Date.now(),e)}withTimeZone(e){return new Cr(+this,e)}getTimezoneOffset(){const e=-Gn(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ju(this),+this}[Symbol.for("constructDateFrom")](e){return new Cr(+new Date(e),this.timeZone)}}const Sm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Sm.test(t))return;const e=t.replace(Sm,"$1UTC");Cr.prototype[e]&&(t.startsWith("get")?Cr.prototype[t]=function(){return this.internal[e]()}:(Cr.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),x_(this),+this},Cr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),ju(this),+this}))});function ju(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Gn(t.timeZone,t)*60))}function x_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Mp(t)}function Mp(t){const e=Gn(t.timeZone,t),r=e>0?Math.floor(e):Math.ceil(e),a=new Date(+t);a.setUTCHours(a.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+a).getTimezoneOffset(),u=o-l,h=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&h&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const f=o-r;f&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);const p=new Date(+t);p.setUTCSeconds(0);const y=o>0?p.getSeconds():(p.getSeconds()-60)%60,v=Math.round(-(Gn(t.timeZone,t)*60))%60;(v||y)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+y));const w=Gn(t.timeZone,t),b=w>0?Math.floor(w):Math.ceil(w),N=-new Date(+t).getTimezoneOffset()-b,E=b!==r,I=N-f;if(E&&I){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+I);const R=Gn(t.timeZone,t),j=R>0?Math.floor(R):Math.ceil(R),T=b-j;T&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+T),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T))}}class Ct extends Cr{static tz(e,...r){return r.length?new Ct(...r,e):new Ct(Date.now(),e)}toISOString(){const[e,r,a]=this.tzComponents(),o=`${e}${r}:${a}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,r,a,o]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${a} ${r} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[r,a,o]=this.tzComponents();return`${e} GMT${r}${a}${o} (${v_(this.timeZone,this)})`}toLocaleString(e,r){return Date.prototype.toLocaleString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(e,r){return Date.prototype.toLocaleDateString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(e,r){return Date.prototype.toLocaleTimeString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),r=e>0?"-":"+",a=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[r,a,o]}withTimeZone(e){return new Ct(+this,e)}[Symbol.for("constructDateFrom")](e){return new Ct(+new Date(e),this.timeZone)}}const Em=5,b_=4;function k_(t,e){const r=e.startOfMonth(t),a=r.getDay()>0?r.getDay():7,o=e.addDays(t,-a+1),l=e.addDays(o,Em*7-1);return e.getMonth(t)===e.getMonth(l)?Em:b_}function Rp(t,e){const r=e.startOfMonth(t),a=r.getDay();return a===1?r:a===0?e.addDays(r,-6):e.addDays(r,-1*(a-1))}function __(t,e){const r=Rp(t,e),a=k_(t,e);return e.addDays(r,a*7-1)}const Ip={...Hn,labels:{labelDayButton:(t,e,r,a)=>{let o;a&&typeof a.format=="function"?o=a.format.bind(a):o=(u,h)=>Gt(u,h,{locale:Hn,...r});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,r)=>{let a;return r&&typeof r.format=="function"?a=r.format.bind(r):a=(o,l)=>Gt(o,l,{locale:Hn,...e}),a(t,"LLLL yyyy")},labelGridcell:(t,e,r,a)=>{let o;a&&typeof a.format=="function"?o=a.format.bind(a):o=(u,h)=>Gt(u,h,{locale:Hn,...r});let l=o(t,"PPPP");return e!=null&&e.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,r)=>{let a;return r&&typeof r.format=="function"?a=r.format.bind(r):a=(o,l)=>Gt(o,l,{locale:Hn,...e}),a(t,"cccc")}}};class Kt{constructor(e,r){this.Date=Date,this.today=()=>{var a;return(a=this.overrides)!=null&&a.today?this.overrides.today():this.options.timeZone?Ct.tz(this.options.timeZone):new this.Date},this.newDate=(a,o,l)=>{var u;return(u=this.overrides)!=null&&u.newDate?this.overrides.newDate(a,o,l):this.options.timeZone?new Ct(a,o,l,this.options.timeZone):new Date(a,o,l)},this.addDays=(a,o)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(a,o):Hi(a,o)},this.addMonths=(a,o)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(a,o):yp(a,o)},this.addWeeks=(a,o)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(a,o):M1(a,o)},this.addYears=(a,o)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(a,o):R1(a,o)},this.differenceInCalendarDays=(a,o)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,o):Uu(a,o)},this.differenceInCalendarMonths=(a,o)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,o):xp(a,o)},this.eachMonthOfInterval=a=>{var o;return(o=this.overrides)!=null&&o.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):W1(a)},this.eachYearOfInterval=a=>{var h;const o=(h=this.overrides)!=null&&h.eachYearOfInterval?this.overrides.eachYearOfInterval(a):z1(a),l=new Set(o.map(f=>this.getYear(f)));if(l.size===o.length)return o;const u=[];return l.forEach(f=>{u.push(new Date(f,0,1))}),u},this.endOfBroadcastWeek=a=>{var o;return(o=this.overrides)!=null&&o.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):__(a,this)},this.endOfISOWeek=a=>{var o;return(o=this.overrides)!=null&&o.endOfISOWeek?this.overrides.endOfISOWeek(a):F1(a)},this.endOfMonth=a=>{var o;return(o=this.overrides)!=null&&o.endOfMonth?this.overrides.endOfMonth(a):$1(a)},this.endOfWeek=(a,o)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(a,o):_p(a,this.options)},this.endOfYear=a=>{var o;return(o=this.overrides)!=null&&o.endOfYear?this.overrides.endOfYear(a):B1(a)},this.format=(a,o,l)=>{var h;const u=(h=this.overrides)!=null&&h.format?this.overrides.format(a,o,this.options):Gt(a,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=a=>{var o;return(o=this.overrides)!=null&&o.getISOWeek?this.overrides.getISOWeek(a):Vi(a)},this.getMonth=(a,o)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(a,this.options):Lb(a,this.options)},this.getYear=(a,o)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(a,this.options):$b(a,this.options)},this.getWeek=(a,o)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(a,this.options):Yi(a,this.options)},this.isAfter=(a,o)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(a,o):Wb(a,o)},this.isBefore=(a,o)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(a,o):Ub(a,o)},this.isDate=a=>{var o;return(o=this.overrides)!=null&&o.isDate?this.overrides.isDate(a):wp(a)},this.isSameDay=(a,o)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(a,o):A1(a,o)},this.isSameMonth=(a,o)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(a,o):Lk(a,o)},this.isSameYear=(a,o)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(a,o):$k(a,o)},this.max=a=>{var o;return(o=this.overrides)!=null&&o.max?this.overrides.max(a):I1(a)},this.min=a=>{var o;return(o=this.overrides)!=null&&o.min?this.overrides.min(a):D1(a)},this.setMonth=(a,o)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(a,o):Wk(a,o)},this.setYear=(a,o)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(a,o):Uk(a,o)},this.startOfBroadcastWeek=(a,o)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):Rp(a,this)},this.startOfDay=a=>{var o;return(o=this.overrides)!=null&&o.startOfDay?this.overrides.startOfDay(a):Qa(a)},this.startOfISOWeek=a=>{var o;return(o=this.overrides)!=null&&o.startOfISOWeek?this.overrides.startOfISOWeek(a):Jn(a)},this.startOfMonth=a=>{var o;return(o=this.overrides)!=null&&o.startOfMonth?this.overrides.startOfMonth(a):U1(a)},this.startOfWeek=(a,o)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(a,this.options):Fr(a,this.options)},this.startOfYear=a=>{var o;return(o=this.overrides)!=null&&o.startOfYear?this.overrides.startOfYear(a):kp(a)},this.options={locale:Ip,...e},this.overrides=r}getDigitMap(){const{numerals:e="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let o=0;o<10;o++)a[o.toString()]=r.format(o);return a}replaceDigits(e){const r=this.getDigitMap();return e.replace(/\d/g,a=>r[a]||a)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var r;const e=(r=this.options.locale)==null?void 0:r.code;return e&&Kt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:r,timeZone:a,numerals:o}=this.options,l=r==null?void 0:r.code;if(l&&Kt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:a,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}Kt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Nr=new Kt;class Dp{constructor(e,r,a=Nr){this.date=e,this.displayMonth=r,this.outside=!!(r&&!a.isSameMonth(e,r)),this.dateLib=a,this.isoDate=a.format(e,"yyyy-MM-dd"),this.displayMonthId=a.format(r,"yyyy-MM"),this.dateMonthId=a.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class j_{constructor(e,r){this.date=e,this.weeks=r}}class S_{constructor(e,r){this.days=r,this.weekNumber=e}}function E_(t){return re.createElement("button",{...t})}function C_(t){return re.createElement("span",{...t})}function N_(t){const{size:e=24,orientation:r="left",className:a}=t;return re.createElement("svg",{className:a,width:e,height:e,viewBox:"0 0 24 24"},r==="up"&&re.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&re.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&re.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&re.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function T_(t){const{day:e,modifiers:r,...a}=t;return re.createElement("td",{...a})}function O_(t){const{day:e,modifiers:r,...a}=t,o=re.useRef(null);return re.useEffect(()=>{var l;r.focused&&((l=o.current)==null||l.focus())},[r.focused]),re.createElement("button",{ref:o,...a})}var he;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(he||(he={}));var Je;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Je||(Je={}));var gr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(gr||(gr={}));var Ht;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ht||(Ht={}));function P_(t){const{options:e,className:r,components:a,classNames:o,...l}=t,u=[o[he.Dropdown],r].join(" "),h=e==null?void 0:e.find(({value:f})=>f===l.value);return re.createElement("span",{"data-disabled":l.disabled,className:o[he.DropdownRoot]},re.createElement(a.Select,{className:u,...l},e==null?void 0:e.map(({value:f,label:p,disabled:y})=>re.createElement(a.Option,{key:f,value:f,disabled:y},p))),re.createElement("span",{className:o[he.CaptionLabel],"aria-hidden":!0},h==null?void 0:h.label,re.createElement(a.Chevron,{orientation:"down",size:18,className:o[he.Chevron]})))}function M_(t){return re.createElement("div",{...t})}function R_(t){return re.createElement("div",{...t})}function I_(t){const{calendarMonth:e,displayIndex:r,...a}=t;return re.createElement("div",{...a},t.children)}function D_(t){const{calendarMonth:e,displayIndex:r,...a}=t;return re.createElement("div",{...a})}function A_(t){return re.createElement("table",{...t})}function L_(t){return re.createElement("div",{...t})}const Ap=k.createContext(void 0);function ao(){const t=k.useContext(Ap);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function $_(t){const{components:e}=ao();return re.createElement(e.Dropdown,{...t})}function W_(t){const{onPreviousClick:e,onNextClick:r,previousMonth:a,nextMonth:o,...l}=t,{components:u,classNames:h,labels:{labelPrevious:f,labelNext:p}}=ao(),y=k.useCallback(w=>{o&&(r==null||r(w))},[o,r]),v=k.useCallback(w=>{a&&(e==null||e(w))},[a,e]);return re.createElement("nav",{...l},re.createElement(u.PreviousMonthButton,{type:"button",className:h[he.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":f(a),onClick:v},re.createElement(u.Chevron,{disabled:a?void 0:!0,className:h[he.Chevron],orientation:"left"})),re.createElement(u.NextMonthButton,{type:"button",className:h[he.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:y},re.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:h[he.Chevron]})))}function U_(t){const{components:e}=ao();return re.createElement(e.Button,{...t})}function B_(t){return re.createElement("option",{...t})}function z_(t){const{components:e}=ao();return re.createElement(e.Button,{...t})}function F_(t){const{rootRef:e,...r}=t;return re.createElement("div",{...r,ref:e})}function q_(t){return re.createElement("select",{...t})}function H_(t){const{week:e,...r}=t;return re.createElement("tr",{...r})}function V_(t){return re.createElement("th",{...t})}function Y_(t){return re.createElement("thead",{"aria-hidden":!0},re.createElement("tr",{...t}))}function G_(t){const{week:e,...r}=t;return re.createElement("th",{...r})}function K_(t){return re.createElement("th",{...t})}function J_(t){return re.createElement("tbody",{...t})}function Q_(t){const{components:e}=ao();return re.createElement(e.Dropdown,{...t})}const X_=Object.freeze(Object.defineProperty({__proto__:null,Button:E_,CaptionLabel:C_,Chevron:N_,Day:T_,DayButton:O_,Dropdown:P_,DropdownNav:M_,Footer:R_,Month:I_,MonthCaption:D_,MonthGrid:A_,Months:L_,MonthsDropdown:$_,Nav:W_,NextMonthButton:U_,Option:B_,PreviousMonthButton:z_,Root:F_,Select:q_,Week:H_,WeekNumber:G_,WeekNumberHeader:K_,Weekday:V_,Weekdays:Y_,Weeks:J_,YearsDropdown:Q_},Symbol.toStringTag,{value:"Module"}));function Ur(t,e,r=!1,a=Nr){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:h}=a;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(r?1:0)&&u(l,e)>=(r?1:0)):!r&&l?h(l,e):!r&&o?h(o,e):!1}function qu(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Gi(t){return!!(t&&typeof t=="object"&&"from"in t)}function Hu(t){return!!(t&&typeof t=="object"&&"after"in t)}function Vu(t){return!!(t&&typeof t=="object"&&"before"in t)}function Lp(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function $p(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Br(t,e,r=Nr){const a=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=r;return a.some(h=>{if(typeof h=="boolean")return h;if(r.isDate(h))return o(t,h);if($p(h,r))return h.some(f=>o(t,f));if(Gi(h))return Ur(h,t,!1,r);if(Lp(h))return Array.isArray(h.dayOfWeek)?h.dayOfWeek.includes(t.getDay()):h.dayOfWeek===t.getDay();if(qu(h)){const f=l(h.before,t),p=l(h.after,t),y=f>0,v=p<0;return u(h.before,h.after)?v&&y:y||v}return Hu(h)?l(t,h.after)>0:Vu(h)?l(h.before,t)>0:typeof h=="function"?h(t):!1})}function Z_(t,e,r,a,o){const{disabled:l,hidden:u,modifiers:h,showOutsideDays:f,broadcastCalendar:p,today:y=o.today()}=e,{isSameDay:v,isSameMonth:w,startOfMonth:b,isBefore:_,endOfMonth:N,isAfter:E}=o,I=r&&b(r),R=a&&N(a),j={[Je.focused]:[],[Je.outside]:[],[Je.disabled]:[],[Je.hidden]:[],[Je.today]:[]},T={};for(const D of t){const{date:C,displayMonth:A}=D,G=!!(A&&!w(C,A)),Q=!!(I&&_(C,I)),J=!!(R&&E(C,R)),Z=!!(l&&Br(C,l,o)),oe=!!(u&&Br(C,u,o))||Q||J||!p&&!f&&G||p&&f===!1&&G,me=v(C,y);G&&j.outside.push(D),Z&&j.disabled.push(D),oe&&j.hidden.push(D),me&&j.today.push(D),h&&Object.keys(h).forEach(ie=>{const ve=h==null?void 0:h[ie];ve&&Br(C,ve,o)&&(T[ie]?T[ie].push(D):T[ie]=[D])})}return D=>{const C={[Je.focused]:!1,[Je.disabled]:!1,[Je.hidden]:!1,[Je.outside]:!1,[Je.today]:!1},A={};for(const G in j){const Q=j[G];C[G]=Q.some(J=>J===D)}for(const G in T)A[G]=T[G].some(Q=>Q===D);return{...C,...A}}}function ej(t,e,r={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(r[l]?o.push(r[l]):e[Je[l]]?o.push(e[Je[l]]):e[gr[l]]&&o.push(e[gr[l]]),o),[e[he.Day]])}function tj(t){return{...X_,...t}}function rj(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([r,a])=>{r.startsWith("data-")&&(e[r]=a)}),e}function nj(){const t={};for(const e in he)t[he[e]]=`rdp-${he[e]}`;for(const e in Je)t[Je[e]]=`rdp-${Je[e]}`;for(const e in gr)t[gr[e]]=`rdp-${gr[e]}`;for(const e in Ht)t[Ht[e]]=`rdp-${Ht[e]}`;return t}function Wp(t,e,r){return(r??new Kt(e)).formatMonthYear(t)}const sj=Wp;function aj(t,e,r){return(r??new Kt(e)).format(t,"d")}function oj(t,e=Nr){return e.format(t,"LLLL")}function ij(t,e,r){return(r??new Kt(e)).format(t,"cccccc")}function lj(t,e=Nr){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function cj(){return""}function Up(t,e=Nr){return e.format(t,"yyyy")}const uj=Up,dj=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Wp,formatDay:aj,formatMonthCaption:sj,formatMonthDropdown:oj,formatWeekNumber:lj,formatWeekNumberHeader:cj,formatWeekdayName:ij,formatYearCaption:uj,formatYearDropdown:Up},Symbol.toStringTag,{value:"Module"}));function hj(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...dj,...t}}function Yu(t,e,r,a){let o=(a??new Kt(r)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const fj=Yu;function Gu(t,e,r){return(r??new Kt(e)).formatMonthYear(t)}const mj=Gu;function Bp(t,e,r,a){let o=(a??new Kt(r)).format(t,"PPPP");return e!=null&&e.today&&(o=`Today, ${o}`),o}function zp(t){return"Choose the Month"}function Fp(){return""}const pj="Go to the Next Month";function qp(t,e){return pj}function Hp(t){return"Go to the Previous Month"}function Vp(t,e,r){return(r??new Kt(e)).format(t,"cccc")}function Yp(t,e){return`Week ${t}`}function Gp(t){return"Week Number"}function Kp(t){return"Choose the Year"}const gj=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:mj,labelDay:fj,labelDayButton:Yu,labelGrid:Gu,labelGridcell:Bp,labelMonthDropdown:zp,labelNav:Fp,labelNext:qp,labelPrevious:Hp,labelWeekNumber:Yp,labelWeekNumberHeader:Gp,labelWeekday:Vp,labelYearDropdown:Kp},Symbol.toStringTag,{value:"Module"})),hr=(t,e,r)=>e||(r?typeof r=="function"?r:(...a)=>r:t);function yj(t,e){var a;const r=((a=e.locale)==null?void 0:a.labels)??{};return{...gj,...t??{},labelDayButton:hr(Yu,t==null?void 0:t.labelDayButton,r.labelDayButton),labelMonthDropdown:hr(zp,t==null?void 0:t.labelMonthDropdown,r.labelMonthDropdown),labelNext:hr(qp,t==null?void 0:t.labelNext,r.labelNext),labelPrevious:hr(Hp,t==null?void 0:t.labelPrevious,r.labelPrevious),labelWeekNumber:hr(Yp,t==null?void 0:t.labelWeekNumber,r.labelWeekNumber),labelYearDropdown:hr(Kp,t==null?void 0:t.labelYearDropdown,r.labelYearDropdown),labelGrid:hr(Gu,t==null?void 0:t.labelGrid,r.labelGrid),labelGridcell:hr(Bp,t==null?void 0:t.labelGridcell,r.labelGridcell),labelNav:hr(Fp,t==null?void 0:t.labelNav,r.labelNav),labelWeekNumberHeader:hr(Gp,t==null?void 0:t.labelWeekNumberHeader,r.labelWeekNumberHeader),labelWeekday:hr(Vp,t==null?void 0:t.labelWeekday,r.labelWeekday)}}function vj(t,e,r,a,o){const{startOfMonth:l,startOfYear:u,endOfYear:h,eachMonthOfInterval:f,getMonth:p}=o;return f({start:u(t),end:h(t)}).map(w=>{const b=a.formatMonthDropdown(w,o),_=p(w),N=e&&w<l(e)||r&&w>l(r)||!1;return{value:_,label:b,disabled:N}})}function wj(t,e={},r={}){let a={...e==null?void 0:e[he.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{a={...a,...r==null?void 0:r[o]}}),a}function xj(t,e,r,a){const o=a??t.today(),l=r?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let h=0;h<7;h++){const f=t.addDays(l,h);u.push(f)}return u}function bj(t,e,r,a,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:h,getYear:f}=a,p=l(t),y=u(e),v=h({start:p,end:y});return o&&v.reverse(),v.map(w=>{const b=r.formatYearDropdown(w,a);return{value:f(w),label:b,disabled:!1}})}function kj(t,e={}){var h;const{weekStartsOn:r,locale:a}=e,o=r??((h=a==null?void 0:a.options)==null?void 0:h.weekStartsOn)??0,l=f=>{const p=typeof f=="number"||typeof f=="string"?new Date(f):f;return new Ct(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,t)},u=f=>{const p=l(f);return new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0,0)};return{today:()=>l(Ct.tz(t)),newDate:(f,p,y)=>new Ct(f,p,y,12,0,0,t),startOfDay:f=>l(f),startOfWeek:(f,p)=>{const y=l(f),v=(p==null?void 0:p.weekStartsOn)??o,w=(y.getDay()-v+7)%7;return y.setDate(y.getDate()-w),y},startOfISOWeek:f=>{const p=l(f),y=(p.getDay()-1+7)%7;return p.setDate(p.getDate()-y),p},startOfMonth:f=>{const p=l(f);return p.setDate(1),p},startOfYear:f=>{const p=l(f);return p.setMonth(0,1),p},endOfWeek:(f,p)=>{const y=l(f),b=((((p==null?void 0:p.weekStartsOn)??o)+6)%7-y.getDay()+7)%7;return y.setDate(y.getDate()+b),y},endOfISOWeek:f=>{const p=l(f),y=(7-p.getDay())%7;return p.setDate(p.getDate()+y),p},endOfMonth:f=>{const p=l(f);return p.setMonth(p.getMonth()+1,0),p},endOfYear:f=>{const p=l(f);return p.setMonth(11,31),p},eachMonthOfInterval:f=>{const p=l(f.start),y=l(f.end),v=[],w=new Ct(p.getFullYear(),p.getMonth(),1,12,0,0,t),b=y.getFullYear()*12+y.getMonth();for(;w.getFullYear()*12+w.getMonth()<=b;)v.push(new Ct(w,t)),w.setMonth(w.getMonth()+1,1);return v},addDays:(f,p)=>{const y=l(f);return y.setDate(y.getDate()+p),y},addWeeks:(f,p)=>{const y=l(f);return y.setDate(y.getDate()+p*7),y},addMonths:(f,p)=>{const y=l(f);return y.setMonth(y.getMonth()+p),y},addYears:(f,p)=>{const y=l(f);return y.setFullYear(y.getFullYear()+p),y},eachYearOfInterval:f=>{const p=l(f.start),y=l(f.end),v=[],w=new Ct(p.getFullYear(),0,1,12,0,0,t);for(;w.getFullYear()<=y.getFullYear();)v.push(new Ct(w,t)),w.setFullYear(w.getFullYear()+1,0,1);return v},getWeek:(f,p)=>{var v;const y=u(f);return Yi(y,{weekStartsOn:(p==null?void 0:p.weekStartsOn)??o,firstWeekContainsDate:(p==null?void 0:p.firstWeekContainsDate)??((v=a==null?void 0:a.options)==null?void 0:v.firstWeekContainsDate)??1})},getISOWeek:f=>{const p=u(f);return Vi(p)},differenceInCalendarDays:(f,p)=>{const y=u(f),v=u(p);return Uu(y,v)},differenceInCalendarMonths:(f,p)=>{const y=u(f),v=u(p);return xp(y,v)}}}const oo=t=>t instanceof HTMLElement?t:null,Zc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],_j=t=>oo(t.querySelector("[data-animated-month]")),eu=t=>oo(t.querySelector("[data-animated-caption]")),tu=t=>oo(t.querySelector("[data-animated-weeks]")),jj=t=>oo(t.querySelector("[data-animated-nav]")),Sj=t=>oo(t.querySelector("[data-animated-weekdays]"));function Ej(t,e,{classNames:r,months:a,focused:o,dateLib:l}){const u=k.useRef(null),h=k.useRef(a),f=k.useRef(!1);k.useLayoutEffect(()=>{const p=h.current;if(h.current=a,!e||!t.current||!(t.current instanceof HTMLElement)||a.length===0||p.length===0||a.length!==p.length)return;const y=l.isSameMonth(a[0].date,p[0].date),v=l.isAfter(a[0].date,p[0].date),w=v?r[Ht.caption_after_enter]:r[Ht.caption_before_enter],b=v?r[Ht.weeks_after_enter]:r[Ht.weeks_before_enter],_=u.current,N=t.current.cloneNode(!0);if(N instanceof HTMLElement?(Zc(N).forEach(j=>{if(!(j instanceof HTMLElement))return;const T=_j(j);T&&j.contains(T)&&j.removeChild(T);const D=eu(j);D&&D.classList.remove(w);const C=tu(j);C&&C.classList.remove(b)}),u.current=N):u.current=null,f.current||y||o)return;const E=_ instanceof HTMLElement?Zc(_):[],I=Zc(t.current);if(I!=null&&I.every(R=>R instanceof HTMLElement)&&E&&E.every(R=>R instanceof HTMLElement)){f.current=!0,t.current.style.isolation="isolate";const R=jj(t.current);R&&(R.style.zIndex="1"),I.forEach((j,T)=>{const D=E[T];if(!D)return;j.style.position="relative",j.style.overflow="hidden";const C=eu(j);C&&C.classList.add(w);const A=tu(j);A&&A.classList.add(b);const G=()=>{f.current=!1,t.current&&(t.current.style.isolation=""),R&&(R.style.zIndex=""),C&&C.classList.remove(w),A&&A.classList.remove(b),j.style.position="",j.style.overflow="",j.contains(D)&&j.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const Q=Sj(D);Q&&(Q.style.opacity="0");const J=eu(D);J&&(J.classList.add(v?r[Ht.caption_before_exit]:r[Ht.caption_after_exit]),J.addEventListener("animationend",G));const Z=tu(D);Z&&Z.classList.add(v?r[Ht.weeks_before_exit]:r[Ht.weeks_after_exit]),j.insertBefore(D,j.firstChild)})}})}function Cj(t,e,r,a){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:h,broadcastCalendar:f}=r??{},{addDays:p,differenceInCalendarDays:y,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:b,endOfMonth:_,endOfWeek:N,isAfter:E,startOfBroadcastWeek:I,startOfISOWeek:R,startOfWeek:j}=a,T=f?I(o,a):u?R(o):j(o),D=f?w(l):u?b(_(l)):N(_(l)),C=e&&(f?w(e):u?b(e):N(e)),A=C&&E(D,C)?C:D,G=y(A,T),Q=v(l,o)+1,J=[];for(let me=0;me<=G;me++){const ie=p(T,me);J.push(ie)}const oe=(f?35:42)*Q;if(h&&J.length<oe){const me=oe-J.length;for(let ie=0;ie<me;ie++){const ve=p(J[J.length-1],1);J.push(ve)}}return J}function Nj(t){const e=[];return t.reduce((r,a)=>{const o=a.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return r.concat(o.slice())},e.slice())}function Tj(t,e,r,a){const{numberOfMonths:o=1}=r,l=[];for(let u=0;u<o;u++){const h=a.addMonths(t,u);if(e&&h>e)break;l.push(h)}return l}function Cm(t,e,r,a){const{month:o,defaultMonth:l,today:u=a.today(),numberOfMonths:h=1}=t;let f=o||l||u;const{differenceInCalendarMonths:p,addMonths:y,startOfMonth:v}=a;if(r&&p(r,f)<h-1){const w=-1*(h-1);f=y(r,w)}return e&&p(f,e)<0&&(f=e),v(f)}function Oj(t,e,r,a){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:h,endOfWeek:f,getISOWeek:p,getWeek:y,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:b}=a,_=t.reduce((N,E)=>{const I=r.broadcastCalendar?v(E,a):r.ISOWeek?w(E):b(E),R=r.broadcastCalendar?l(E):r.ISOWeek?u(h(E)):f(h(E)),j=e.filter(A=>A>=I&&A<=R),T=r.broadcastCalendar?35:42;if(r.fixedWeeks&&j.length<T){const A=e.filter(G=>{const Q=T-j.length;return G>R&&G<=o(R,Q)});j.push(...A)}const D=j.reduce((A,G)=>{const Q=r.ISOWeek?p(G):y(G),J=A.find(oe=>oe.weekNumber===Q),Z=new Dp(G,E,a);return J?J.days.push(Z):A.push(new S_(Q,[Z])),A},[]),C=new j_(E,D);return N.push(C),N},[]);return r.reverseMonths?_.reverse():_}function Pj(t,e){let{startMonth:r,endMonth:a}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:h,addYears:f,endOfYear:p,newDate:y,today:v}=e,{fromYear:w,toYear:b,fromMonth:_,toMonth:N}=t;!r&&_&&(r=_),!r&&w&&(r=e.newDate(w,0,1)),!a&&N&&(a=N),!a&&b&&(a=y(b,11,31));const E=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return r?r=u(r):w?r=y(w,0,1):!r&&E&&(r=o(f(t.today??v(),-100))),a?a=h(a):b?a=y(b,11,31):!a&&E&&(a=p(t.today??v())),[r&&l(r),a&&l(a)]}function Mj(t,e,r,a){if(r.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=r,{startOfMonth:u,addMonths:h,differenceInCalendarMonths:f}=a,p=o?l:1,y=u(t);if(!e)return h(y,p);if(!(f(e,t)<l))return h(y,p)}function Rj(t,e,r,a){if(r.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=r,{startOfMonth:u,addMonths:h,differenceInCalendarMonths:f}=a,p=o?l??1:1,y=u(t);if(!e)return h(y,-p);if(!(f(y,e)<=0))return h(y,-p)}function Ij(t){const e=[];return t.reduce((r,a)=>r.concat(a.weeks.slice()),e.slice())}function Ki(t,e){const[r,a]=k.useState(t);return[e===void 0?r:e,a]}function Dj(t,e){var T;const[r,a]=Pj(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Cm(t,r,a,e),[h,f]=Ki(u,t.month?u:void 0);k.useEffect(()=>{const D=Cm(t,r,a,e);f(D)},[t.timeZone]);const{months:p,weeks:y,days:v,previousMonth:w,nextMonth:b}=k.useMemo(()=>{const D=Tj(h,a,{numberOfMonths:t.numberOfMonths},e),C=Cj(D,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),A=Oj(D,C,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),G=Ij(A),Q=Nj(A),J=Rj(h,r,t,e),Z=Mj(h,a,t,e);return{months:A,weeks:G,days:Q,previousMonth:J,nextMonth:Z}},[e,h.getTime(),a==null?void 0:a.getTime(),r==null?void 0:r.getTime(),t.disableNavigation,t.broadcastCalendar,(T=t.endMonth)==null?void 0:T.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:_,onMonthChange:N}=t,E=D=>y.some(C=>C.days.some(A=>A.isEqualTo(D))),I=D=>{if(_)return;let C=o(D);r&&C<o(r)&&(C=o(r)),a&&C>o(a)&&(C=o(a)),f(C),N==null||N(C)};return{months:p,weeks:y,days:v,navStart:r,navEnd:a,previousMonth:w,nextMonth:b,goToMonth:I,goToDay:D=>{E(D)||I(D.date)}}}var kr;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(kr||(kr={}));function Nm(t){return!t[Je.disabled]&&!t[Je.hidden]&&!t[Je.outside]}function Aj(t,e,r,a){let o,l=-1;for(const u of t){const h=e(u);Nm(h)&&(h[Je.focused]&&l<kr.FocusedModifier?(o=u,l=kr.FocusedModifier):a!=null&&a.isEqualTo(u)&&l<kr.LastFocused?(o=u,l=kr.LastFocused):r(u.date)&&l<kr.Selected?(o=u,l=kr.Selected):h[Je.today]&&l<kr.Today&&(o=u,l=kr.Today))}return o||(o=t.find(u=>Nm(e(u)))),o}function Lj(t,e,r,a,o,l,u){const{ISOWeek:h,broadcastCalendar:f}=l,{addDays:p,addMonths:y,addWeeks:v,addYears:w,endOfBroadcastWeek:b,endOfISOWeek:_,endOfWeek:N,max:E,min:I,startOfBroadcastWeek:R,startOfISOWeek:j,startOfWeek:T}=u;let C={day:p,week:v,month:y,year:w,startOfWeek:A=>f?R(A,u):h?j(A):T(A),endOfWeek:A=>f?b(A):h?_(A):N(A)}[t](r,e==="after"?1:-1);return e==="before"&&a?C=E([a,C]):e==="after"&&o&&(C=I([o,C])),C}function Jp(t,e,r,a,o,l,u,h=0){if(h>365)return;const f=Lj(t,e,r.date,a,o,l,u),p=!!(l.disabled&&Br(f,l.disabled,u)),y=!!(l.hidden&&Br(f,l.hidden,u)),v=f,w=new Dp(f,v,u);return!p&&!y?w:Jp(t,e,w,a,o,l,u,h+1)}function $j(t,e,r,a,o){const{autoFocus:l}=t,[u,h]=k.useState(),f=Aj(e.days,r,a||(()=>!1),u),[p,y]=k.useState(l?f:void 0);return{isFocusTarget:N=>!!(f!=null&&f.isEqualTo(N)),setFocused:y,focused:p,blur:()=>{h(p),y(void 0)},moveFocus:(N,E)=>{if(!p)return;const I=Jp(N,E,p,e.navStart,e.navEnd,t,o);I&&(t.disableNavigation&&!e.days.some(j=>j.isEqualTo(I))||(e.goToDay(I),y(I)))}}}function Wj(t,e){const{selected:r,required:a,onSelect:o}=t,[l,u]=Ki(r,o?r:void 0),h=o?r:l,{isSameDay:f}=e,p=b=>(h==null?void 0:h.some(_=>f(_,b)))??!1,{min:y,max:v}=t;return{selected:h,select:(b,_,N)=>{let E=[...h??[]];if(p(b)){if((h==null?void 0:h.length)===y||a&&(h==null?void 0:h.length)===1)return;E=h==null?void 0:h.filter(I=>!f(I,b))}else(h==null?void 0:h.length)===v?E=[b]:E=[...E,b];return o||u(E),o==null||o(E,b,_,N),E},isSelected:p}}function Uj(t,e,r=0,a=0,o=!1,l=Nr){const{from:u,to:h}=e||{},{isSameDay:f,isAfter:p,isBefore:y}=l;let v;if(!u&&!h)v={from:t,to:r>0?void 0:t};else if(u&&!h)f(u,t)?r===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:y(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&h)if(f(u,t)&&f(h,t))o?v={from:u,to:h}:v=void 0;else if(f(u,t))v={from:u,to:r>0?void 0:t};else if(f(h,t))v={from:t,to:r>0?void 0:t};else if(y(t,u))v={from:t,to:h};else if(p(t,u))v={from:u,to:t};else if(p(t,h))v={from:u,to:t};else throw new Error("Invalid range");if(v!=null&&v.from&&(v!=null&&v.to)){const w=l.differenceInCalendarDays(v.to,v.from);a>0&&w>a?v={from:t,to:void 0}:r>1&&w<r&&(v={from:t,to:void 0})}return v}function Bj(t,e,r=Nr){const a=Array.isArray(e)?e:[e];let o=t.from;const l=r.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let h=0;h<=u;h++){if(a.includes(o.getDay()))return!0;o=r.addDays(o,1)}return!1}function Tm(t,e,r=Nr){return Ur(t,e.from,!1,r)||Ur(t,e.to,!1,r)||Ur(e,t.from,!1,r)||Ur(e,t.to,!1,r)}function zj(t,e,r=Nr){const a=Array.isArray(e)?e:[e];if(a.filter(h=>typeof h!="function").some(h=>typeof h=="boolean"?h:r.isDate(h)?Ur(t,h,!1,r):$p(h,r)?h.some(f=>Ur(t,f,!1,r)):Gi(h)?h.from&&h.to?Tm(t,{from:h.from,to:h.to},r):!1:Lp(h)?Bj(t,h.dayOfWeek,r):qu(h)?r.isAfter(h.before,h.after)?Tm(t,{from:r.addDays(h.after,1),to:r.addDays(h.before,-1)},r):Br(t.from,h,r)||Br(t.to,h,r):Hu(h)||Vu(h)?Br(t.from,h,r)||Br(t.to,h,r):!1))return!0;const u=a.filter(h=>typeof h=="function");if(u.length){let h=t.from;const f=r.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=f;p++){if(u.some(y=>y(h)))return!0;h=r.addDays(h,1)}}return!1}function Fj(t,e){const{disabled:r,excludeDisabled:a,selected:o,required:l,onSelect:u}=t,[h,f]=Ki(o,u?o:void 0),p=u?o:h;return{selected:p,select:(w,b,_)=>{const{min:N,max:E}=t,I=w?Uj(w,p,N,E,l,e):void 0;return a&&r&&(I!=null&&I.from)&&I.to&&zj({from:I.from,to:I.to},r,e)&&(I.from=w,I.to=void 0),u||f(I),u==null||u(I,w,b,_),I},isSelected:w=>p&&Ur(p,w,!1,e)}}function qj(t,e){const{selected:r,required:a,onSelect:o}=t,[l,u]=Ki(r,o?r:void 0),h=o?r:l,{isSameDay:f}=e;return{selected:h,select:(v,w,b)=>{let _=v;return!a&&h&&h&&f(v,h)&&(_=void 0),o||u(_),o==null||o(_,v,w,b),_},isSelected:v=>h?f(h,v):!1}}function Hj(t,e){const r=qj(t,e),a=Wj(t,e),o=Fj(t,e);switch(t.mode){case"single":return r;case"multiple":return a;case"range":return o;default:return}}function nr(t,e){return t instanceof Ct&&t.timeZone===e?t:new Ct(t,e)}function Is(t,e,r){return nr(t,e)}function Om(t,e,r){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Is(t,e):Array.isArray(t)?t.map(a=>a instanceof Date?Is(a,e):a):Gi(t)?{...t,from:t.from?nr(t.from,e):t.from,to:t.to?nr(t.to,e):t.to}:qu(t)?{before:Is(t.before,e),after:Is(t.after,e)}:Hu(t)?{after:Is(t.after,e)}:Vu(t)?{before:Is(t.before,e)}:t}function ru(t,e,r){return t&&(Array.isArray(t)?t.map(a=>Om(a,e)):Om(t,e))}function Vj(t){var ns;let e=t;const r=e.timeZone;if(r&&(e={...t,timeZone:r},e.today&&(e.today=nr(e.today,r)),e.month&&(e.month=nr(e.month,r)),e.defaultMonth&&(e.defaultMonth=nr(e.defaultMonth,r)),e.startMonth&&(e.startMonth=nr(e.startMonth,r)),e.endMonth&&(e.endMonth=nr(e.endMonth,r)),e.mode==="single"&&e.selected?e.selected=nr(e.selected,r):e.mode==="multiple"&&e.selected?e.selected=(ns=e.selected)==null?void 0:ns.map(_e=>nr(_e,r)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?nr(e.selected.from,r):e.selected.from,to:e.selected.to?nr(e.selected.to,r):e.selected.to}),e.disabled!==void 0&&(e.disabled=ru(e.disabled,r)),e.hidden!==void 0&&(e.hidden=ru(e.hidden,r)),e.modifiers)){const _e={};Object.keys(e.modifiers).forEach(Ce=>{var de;_e[Ce]=ru((de=e.modifiers)==null?void 0:de[Ce],r)}),e.modifiers=_e}const{components:a,formatters:o,labels:l,dateLib:u,locale:h,classNames:f}=k.useMemo(()=>{const _e={...Ip,...e.locale},Ce=e.broadcastCalendar?1:e.weekStartsOn,de=e.noonSafe&&e.timeZone?kj(e.timeZone,{weekStartsOn:Ce,locale:_e}):void 0,Oe=e.dateLib&&de?{...de,...e.dateLib}:e.dateLib??de,kt=new Kt({locale:_e,weekStartsOn:Ce,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Oe);return{dateLib:kt,components:tj(e.components),formatters:hj(e.formatters),labels:yj(e.labels,kt.options),locale:_e,classNames:{...nj(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:p,mode:y,navLayout:v,numberOfMonths:w=1,onDayBlur:b,onDayClick:_,onDayFocus:N,onDayKeyDown:E,onDayMouseEnter:I,onDayMouseLeave:R,onNextClick:j,onPrevClick:T,showWeekNumber:D,styles:C}=e,{formatCaption:A,formatDay:G,formatMonthDropdown:Q,formatWeekNumber:J,formatWeekNumberHeader:Z,formatWeekdayName:oe,formatYearDropdown:me}=o,ie=Dj(e,u),{days:ve,months:ee,navStart:we,navEnd:z,previousMonth:W,nextMonth:B,goToMonth:O}=ie,F=Z_(ve,e,we,z,u),{isSelected:pe,select:fe,selected:je}=Hj(e,u)??{},{blur:Se,focused:Pe,isFocusTarget:Me,moveFocus:Ae,setFocused:rt}=$j(e,ie,F,pe??(()=>!1),u),{labelDayButton:Yr,labelGridcell:X,labelGrid:Ue,labelMonthDropdown:bt,labelNav:Tr,labelPrevious:io,labelNext:Ys,labelWeekday:lo,labelWeekNumber:Gs,labelWeekNumberHeader:kn,labelYearDropdown:Gr}=l,Ks=k.useMemo(()=>xj(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Js=y!==void 0||_!==void 0,Zn=k.useCallback(()=>{W&&(O(W),T==null||T(W))},[W,O,T]),es=k.useCallback(()=>{B&&(O(B),j==null||j(B))},[O,B,j]),co=k.useCallback((_e,Ce)=>de=>{de.preventDefault(),de.stopPropagation(),rt(_e),!Ce.disabled&&(fe==null||fe(_e.date,Ce,de),_==null||_(_e.date,Ce,de))},[fe,_,rt]),Qs=k.useCallback((_e,Ce)=>de=>{rt(_e),N==null||N(_e.date,Ce,de)},[N,rt]),ts=k.useCallback((_e,Ce)=>de=>{Se(),b==null||b(_e.date,Ce,de)},[Se,b]),uo=k.useCallback((_e,Ce)=>de=>{const Oe={ArrowLeft:[de.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[de.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[de.shiftKey?"year":"week","after"],ArrowUp:[de.shiftKey?"year":"week","before"],PageUp:[de.shiftKey?"year":"month","before"],PageDown:[de.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Oe[de.key]){de.preventDefault(),de.stopPropagation();const[kt,Ne]=Oe[de.key];Ae(kt,Ne)}E==null||E(_e.date,Ce,de)},[Ae,E,e.dir]),_n=k.useCallback((_e,Ce)=>de=>{I==null||I(_e.date,Ce,de)},[I]),jn=k.useCallback((_e,Ce)=>de=>{R==null||R(_e.date,Ce,de)},[R]),Qi=k.useCallback(_e=>Ce=>{const de=Number(Ce.target.value),Oe=u.setMonth(u.startOfMonth(_e),de);O(Oe)},[u,O]),ho=k.useCallback(_e=>Ce=>{const de=Number(Ce.target.value),Oe=u.setYear(u.startOfMonth(_e),de);O(Oe)},[u,O]),{className:fo,style:Xi}=k.useMemo(()=>({className:[f[he.Root],e.className].filter(Boolean).join(" "),style:{...C==null?void 0:C[he.Root],...e.style}}),[f,e.className,e.style,C]),Xs=rj(e),rs=k.useRef(null);Ej(rs,!!e.animate,{classNames:f,months:ee,focused:Pe,dateLib:u});const Zs={dayPickerProps:e,selected:je,select:fe,isSelected:pe,months:ee,nextMonth:B,previousMonth:W,goToMonth:O,getModifiers:F,components:a,classNames:f,styles:C,labels:l,formatters:o};return re.createElement(Ap.Provider,{value:Zs},re.createElement(a.Root,{rootRef:e.animate?rs:void 0,className:fo,style:Xi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Xs},re.createElement(a.Months,{className:f[he.Months],style:C==null?void 0:C[he.Months]},!e.hideNavigation&&!v&&re.createElement(a.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[he.Nav],style:C==null?void 0:C[he.Nav],"aria-label":Tr(),onPreviousClick:Zn,onNextClick:es,previousMonth:W,nextMonth:B}),ee.map((_e,Ce)=>re.createElement(a.Month,{"data-animated-month":e.animate?"true":void 0,className:f[he.Month],style:C==null?void 0:C[he.Month],key:Ce,displayIndex:Ce,calendarMonth:_e},v==="around"&&!e.hideNavigation&&Ce===0&&re.createElement(a.PreviousMonthButton,{type:"button",className:f[he.PreviousMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":io(W),onClick:Zn,"data-animated-button":e.animate?"true":void 0},re.createElement(a.Chevron,{disabled:W?void 0:!0,className:f[he.Chevron],orientation:e.dir==="rtl"?"right":"left"})),re.createElement(a.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:f[he.MonthCaption],style:C==null?void 0:C[he.MonthCaption],calendarMonth:_e,displayIndex:Ce},p!=null&&p.startsWith("dropdown")?re.createElement(a.DropdownNav,{className:f[he.Dropdowns],style:C==null?void 0:C[he.Dropdowns]},(()=>{const de=p==="dropdown"||p==="dropdown-months"?re.createElement(a.MonthsDropdown,{key:"month",className:f[he.MonthsDropdown],"aria-label":bt(),classNames:f,components:a,disabled:!!e.disableNavigation,onChange:Qi(_e.date),options:vj(_e.date,we,z,o,u),style:C==null?void 0:C[he.Dropdown],value:u.getMonth(_e.date)}):re.createElement("span",{key:"month"},Q(_e.date,u)),Oe=p==="dropdown"||p==="dropdown-years"?re.createElement(a.YearsDropdown,{key:"year",className:f[he.YearsDropdown],"aria-label":Gr(u.options),classNames:f,components:a,disabled:!!e.disableNavigation,onChange:ho(_e.date),options:bj(we,z,o,u,!!e.reverseYears),style:C==null?void 0:C[he.Dropdown],value:u.getYear(_e.date)}):re.createElement("span",{key:"year"},me(_e.date,u));return u.getMonthYearOrder()==="year-first"?[Oe,de]:[de,Oe]})(),re.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},A(_e.date,u.options,u))):re.createElement(a.CaptionLabel,{className:f[he.CaptionLabel],role:"status","aria-live":"polite"},A(_e.date,u.options,u))),v==="around"&&!e.hideNavigation&&Ce===w-1&&re.createElement(a.NextMonthButton,{type:"button",className:f[he.NextMonthButton],tabIndex:B?void 0:-1,"aria-disabled":B?void 0:!0,"aria-label":Ys(B),onClick:es,"data-animated-button":e.animate?"true":void 0},re.createElement(a.Chevron,{disabled:B?void 0:!0,className:f[he.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ce===w-1&&v==="after"&&!e.hideNavigation&&re.createElement(a.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[he.Nav],style:C==null?void 0:C[he.Nav],"aria-label":Tr(),onPreviousClick:Zn,onNextClick:es,previousMonth:W,nextMonth:B}),re.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":y==="multiple"||y==="range","aria-label":Ue(_e.date,u.options,u)||void 0,className:f[he.MonthGrid],style:C==null?void 0:C[he.MonthGrid]},!e.hideWeekdays&&re.createElement(a.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:f[he.Weekdays],style:C==null?void 0:C[he.Weekdays]},D&&re.createElement(a.WeekNumberHeader,{"aria-label":kn(u.options),className:f[he.WeekNumberHeader],style:C==null?void 0:C[he.WeekNumberHeader],scope:"col"},Z()),Ks.map(de=>re.createElement(a.Weekday,{"aria-label":lo(de,u.options,u),className:f[he.Weekday],key:String(de),style:C==null?void 0:C[he.Weekday],scope:"col"},oe(de,u.options,u)))),re.createElement(a.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:f[he.Weeks],style:C==null?void 0:C[he.Weeks]},_e.weeks.map(de=>re.createElement(a.Week,{className:f[he.Week],key:de.weekNumber,style:C==null?void 0:C[he.Week],week:de},D&&re.createElement(a.WeekNumber,{week:de,style:C==null?void 0:C[he.WeekNumber],"aria-label":Gs(de.weekNumber,{locale:h}),className:f[he.WeekNumber],scope:"row",role:"rowheader"},J(de.weekNumber,u)),de.days.map(Oe=>{const{date:kt}=Oe,Ne=F(Oe);if(Ne[Je.focused]=!Ne.hidden&&!!(Pe!=null&&Pe.isEqualTo(Oe)),Ne[gr.selected]=(pe==null?void 0:pe(kt))||Ne.selected,Gi(je)){const{from:ss,to:Or}=je;Ne[gr.range_start]=!!(ss&&Or&&u.isSameDay(kt,ss)),Ne[gr.range_end]=!!(ss&&Or&&u.isSameDay(kt,Or)),Ne[gr.range_middle]=Ur(je,kt,!0,u)}const mo=wj(Ne,C,e.modifiersStyles),po=ej(Ne,f,e.modifiersClassNames),ea=!Js&&!Ne.hidden?X(kt,Ne,u.options,u):void 0;return re.createElement(a.Day,{key:`${Oe.isoDate}_${Oe.displayMonthId}`,day:Oe,modifiers:Ne,className:po.join(" "),style:mo,role:"gridcell","aria-selected":Ne.selected||void 0,"aria-label":ea,"data-day":Oe.isoDate,"data-month":Oe.outside?Oe.dateMonthId:void 0,"data-selected":Ne.selected||void 0,"data-disabled":Ne.disabled||void 0,"data-hidden":Ne.hidden||void 0,"data-outside":Oe.outside||void 0,"data-focused":Ne.focused||void 0,"data-today":Ne.today||void 0},!Ne.hidden&&Js?re.createElement(a.DayButton,{className:f[he.DayButton],style:C==null?void 0:C[he.DayButton],type:"button",day:Oe,modifiers:Ne,disabled:!Ne.focused&&Ne.disabled||void 0,"aria-disabled":Ne.focused&&Ne.disabled||void 0,tabIndex:Me(Oe)?0:-1,"aria-label":Yr(kt,Ne,u.options,u),onClick:co(Oe,Ne),onBlur:ts(Oe,Ne),onFocus:Qs(Oe,Ne),onKeyDown:uo(Oe,Ne),onMouseEnter:_n(Oe,Ne),onMouseLeave:jn(Oe,Ne)},G(kt,u.options,u)):!Ne.hidden&&G(Oe.date,u.options,u))})))))))),e.footer&&re.createElement(a.Footer,{className:f[he.Footer],style:C==null?void 0:C[he.Footer],role:"status","aria-live":"polite"},e.footer)))}function Xa({value:t,onChange:e,name:r}){const[a,o]=k.useState(!1),l=k.useRef(null),u=t?Dk(t,"yyyy-MM-dd",new Date):new Date,h=u?Gt(u,"dd-MM-yyyy"):"",f=p=>{if(p){const y=Gt(p,"yyyy-MM-dd");e({target:{name:r,value:y}})}o(!1)};return k.useEffect(()=>{const p=y=>{l.current&&!l.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),c.jsxs("div",{ref:l,className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>o(!a),className:"w-full px-4 py-3 rounded-xl text-left flex items-center gap-3",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{children:h})]}),a&&c.jsx("div",{className:"absolute z-50 mt-2 rounded-xl shadow-xl p-4",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--bg-tertiary)"},children:c.jsx(Vj,{mode:"single",selected:u,onSelect:f,locale:Ai,weekStartsOn:1,showOutsideDays:!0,fixedWeeks:!0,formatters:{formatWeekdayName:p=>["Do","Lu","Ma","Mi","Ju","Vi","Sa"][p.getDay()]},classNames:{months:"flex flex-col",month:"space-y-3",month_caption:"flex justify-center relative items-center h-10 mb-2",caption_label:"text-sm font-semibold",nav:"flex items-center",button_previous:"absolute left-0 h-7 w-7 bg-transparent p-0 hover:opacity-70 inline-flex items-center justify-center rounded-lg hover:bg-[var(--bg-tertiary)]",button_next:"absolute right-0 h-7 w-7 bg-transparent p-0 hover:opacity-70 inline-flex items-center justify-center rounded-lg hover:bg-[var(--bg-tertiary)]",month_grid:"w-full border-collapse",weekdays:"flex w-full",weekday:"w-9 h-9 font-medium text-xs flex items-center justify-center",week:"flex w-full",day:"w-9 h-9 text-center text-sm p-0",day_button:"w-full h-full rounded-full hover:bg-[var(--accent-primary)] hover:bg-opacity-20 flex items-center justify-center cursor-pointer transition-colors",selected:"rounded-full bg-[var(--accent-primary)] text-white hover:bg-[var(--accent-primary)]",today:"font-bold",outside:"opacity-40",disabled:"opacity-30 cursor-not-allowed"},styles:{caption_label:{color:"var(--text-primary)"},weekday:{color:"var(--text-secondary)"},day_button:{color:"var(--text-primary)"},button_previous:{color:"var(--text-primary)"},button_next:{color:"var(--text-primary)"}}})})]})}function Za({value:t,existingAttachment:e,onChange:r,onRemoveExisting:a,disabled:o=!1}){const l=k.useRef(null),[u,h]=k.useState(null),[f,p]=k.useState(!1);k.useEffect(()=>{if(t&&ym(t.name)){const C=URL.createObjectURL(t);return h(C),()=>URL.revokeObjectURL(C)}else h(null)},[t]);const y=C=>{if(C){if(C.size>5*1024*1024){alert("El archivo es demasiado grande. Maximo 5MB.");return}r(C)}},v=C=>{var A;y((A=C.target.files)==null?void 0:A[0])},w=k.useCallback(C=>{C.preventDefault(),C.stopPropagation(),o||p(!0)},[o]),b=k.useCallback(C=>{C.preventDefault(),C.stopPropagation(),p(!1)},[]),_=k.useCallback(C=>{C.preventDefault(),C.stopPropagation()},[]),N=k.useCallback(C=>{var G;if(C.preventDefault(),C.stopPropagation(),p(!1),o)return;const A=(G=C.dataTransfer.files)==null?void 0:G[0];y(A)},[o,r]),E=()=>{t?r(null):e&&a&&a(),l.current&&(l.current.value="")},I=t||e,R=(t==null?void 0:t.name)||(e==null?void 0:e.name),j=t==null?void 0:t.size,T=ym(R),D=u||T&&(e==null?void 0:e.url);return c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Adjunto (opcional)"}),c.jsx("input",{ref:l,type:"file",className:"hidden",onChange:v,disabled:o}),I?c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl",style:{backgroundColor:"var(--bg-tertiary)"},children:[T&&D?c.jsx("img",{src:D,alt:"Preview",className:"w-12 h-12 rounded-lg object-cover flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>(e==null?void 0:e.url)&&window.open(e.url,"_blank")}):c.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--bg-secondary)"},children:c.jsx("svg",{className:"w-6 h-6",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[e&&!t?c.jsx("button",{type:"button",onClick:()=>Xx(e.url,e.name),className:"text-sm font-medium truncate block hover:underline text-left",style:{color:"var(--accent-primary)"},children:R}):c.jsx("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:R}),j&&c.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:Qx(j)})]}),c.jsx("button",{type:"button",onClick:E,disabled:o,className:"w-10 h-10 rounded-lg flex items-center justify-center transition-colors hover:bg-red-500/20 disabled:opacity-50",style:{color:"var(--accent-red)"},children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):c.jsxs("button",{type:"button",onClick:()=>{var C;return(C=l.current)==null?void 0:C.click()},onDragEnter:w,onDragLeave:b,onDragOver:_,onDrop:N,disabled:o,className:`w-full flex flex-col items-center justify-center gap-2 px-4 py-6 rounded-xl border-2 border-dashed transition-all disabled:opacity-50 disabled:cursor-not-allowed ${f?"scale-[1.02]":""}`,style:{borderColor:f?"var(--accent-primary)":"var(--border-subtle)",backgroundColor:f?"rgba(20, 184, 166, 0.1)":"var(--bg-tertiary)",color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-8 h-8",style:{color:f?"var(--accent-primary)":"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-medium",children:f?"Solta el archivo aqui":"Arrastra un archivo o hace click"}),c.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Maximo 5MB"})]})]})]})}function Yj({movement:t,accounts:e=[],categories:r={ingresos:[],gastos:[]},onSave:a,onDelete:o,onDuplicate:l,onClose:u,loading:h=!1}){const[f,p]=k.useState({fecha:"",monto:"",cuenta:"",categoria:"",nota:""}),[y,v]=k.useState({fecha:"",cuentaSaliente:"",cuentaEntrante:"",montoSaliente:"",montoEntrante:"",nota:""}),[w,b]=k.useState(!1),[_,N]=k.useState(null),[E,I]=k.useState(!1),R=(t==null?void 0:t.tipo)==="transferencia";k.useEffect(()=>{var ee,we,z;if(t){const W=t.fecha?Gt(new Date(t.fecha),"yyyy-MM-dd"):Gt(new Date,"yyyy-MM-dd");R?v({fecha:W,cuentaSaliente:t.cuentaSaliente||"",cuentaEntrante:t.cuentaEntrante||"",montoSaliente:((ee=t.montoSaliente)==null?void 0:ee.toString())||"",montoEntrante:((we=t.montoEntrante)==null?void 0:we.toString())||"",nota:t.nota||""}):p({fecha:W,monto:((z=t.monto)==null?void 0:z.toString())||"",cuenta:t.cuenta||"",categoria:t.categoria||"",nota:t.nota||""}),N(null),I(!1)}},[t,R]);const j=ee=>{const{name:we,value:z}=ee.target;p(W=>({...W,[we]:z}))},T=ee=>{const{name:we,value:z}=ee.target;v(W=>({...W,[we]:z}))},D=ee=>{ee.preventDefault(),R?a==null||a({...t,fecha:y.fecha,cuentaSaliente:y.cuentaSaliente,cuentaEntrante:y.cuentaEntrante,montoSaliente:parseFloat(y.montoSaliente),montoEntrante:parseFloat(y.montoEntrante),nota:y.nota,newAttachment:_,removeAttachment:E&&!_}):a==null||a({...t,...f,monto:parseFloat(f.monto),newAttachment:_,removeAttachment:E&&!_})},{showError:C}=Au(),A=ee=>{if(ee.preventDefault(),ee.stopPropagation(),!(t!=null&&t.rowIndex)){C("No se puede eliminar el movimiento","Falta informacin del movimiento (rowIndex)");return}if(!o){C("No se puede eliminar el movimiento","Funcin de eliminacin no disponible");return}b(!0)},G=()=>{b(!1),o(t)},Q=()=>{const ee=Gt(new Date,"yyyy-MM-dd"),we={...t,fecha:ee,rowIndex:void 0};l==null||l(we)},J=(t==null?void 0:t.tipo)==="ingreso"?r.ingresos:r.gastos,Z=f.monto&&f.cuenta&&f.categoria,oe=y.montoSaliente&&y.montoEntrante&&y.cuentaSaliente&&y.cuentaEntrante,me=R?oe:Z,ie=()=>{switch(t==null?void 0:t.tipo){case"ingreso":return"Editar Ingreso";case"gasto":return"Editar Gasto";case"transferencia":return"Editar Transferencia";default:return"Editar Movimiento"}},ve=()=>{switch(t==null?void 0:t.tipo){case"ingreso":return"var(--accent-green)";case"gasto":return"var(--accent-red)";case"transferencia":return"var(--accent-blue)";default:return"var(--accent-primary)"}};return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:u}),c.jsxs("div",{className:"relative w-full max-w-md rounded-2xl p-5 max-h-[90vh] overflow-y-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:ie()}),c.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-opacity-80 transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[R?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Fecha"}),c.jsx(Xa,{name:"fecha",value:y.fecha,onChange:T})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cuenta origen"}),c.jsxs("select",{name:"cuentaSaliente",value:y.cuentaSaliente,onChange:T,className:"w-full px-4 py-3 rounded-xl appearance-none cursor-pointer",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[c.jsx("option",{value:"",children:"Seleccionar cuenta"}),e.map(ee=>c.jsx("option",{value:ee.nombre,children:ee.nombre},ee.nombre))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Monto saliente"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg",style:{color:"var(--text-secondary)"},children:"$"}),c.jsx("input",{type:"number",name:"montoSaliente",value:y.montoSaliente,onChange:T,placeholder:"0",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 rounded-xl text-lg",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cuenta destino"}),c.jsxs("select",{name:"cuentaEntrante",value:y.cuentaEntrante,onChange:T,className:"w-full px-4 py-3 rounded-xl appearance-none cursor-pointer",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[c.jsx("option",{value:"",children:"Seleccionar cuenta"}),e.map(ee=>c.jsx("option",{value:ee.nombre,children:ee.nombre},ee.nombre))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Monto entrante"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg",style:{color:"var(--text-secondary)"},children:"$"}),c.jsx("input",{type:"number",name:"montoEntrante",value:y.montoEntrante,onChange:T,placeholder:"0",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 rounded-xl text-lg",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Nota (opcional)"}),c.jsx("textarea",{name:"nota",value:y.nota,onChange:T,placeholder:"Agregar una nota...",rows:2,className:"w-full px-4 py-3 rounded-xl resize-none",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),c.jsx(Za,{value:_,existingAttachment:!E&&(t!=null&&t.attachmentUrl)?{url:t.attachmentUrl,name:t.attachmentName}:null,onChange:ee=>{N(ee),ee&&I(!0)},onRemoveExisting:()=>{I(!0),N(null)},disabled:h})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Fecha"}),c.jsx(Xa,{name:"fecha",value:f.fecha,onChange:j})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Monto"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg",style:{color:"var(--text-secondary)"},children:"$"}),c.jsx("input",{type:"number",name:"monto",value:f.monto,onChange:j,placeholder:"0",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 rounded-xl text-lg",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cuenta"}),c.jsxs("select",{name:"cuenta",value:f.cuenta,onChange:j,className:"w-full px-4 py-3 rounded-xl appearance-none cursor-pointer",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[c.jsx("option",{value:"",children:"Seleccionar cuenta"}),e.map(ee=>c.jsx("option",{value:ee.nombre,children:ee.nombre},ee.nombre))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Categoria"}),c.jsxs("select",{name:"categoria",value:f.categoria,onChange:j,className:"w-full px-4 py-3 rounded-xl appearance-none cursor-pointer",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[c.jsx("option",{value:"",children:"Seleccionar categoria"}),J==null?void 0:J.map(ee=>{const we=typeof ee=="string"?ee:ee.value,z=typeof ee=="string"?ee:ee.icon?`${ee.icon} ${ee.label}`:ee.label;return c.jsx("option",{value:we,children:z},we)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Nota (opcional)"}),c.jsx("textarea",{name:"nota",value:f.nota,onChange:j,placeholder:"Agregar una nota...",rows:2,className:"w-full px-4 py-3 rounded-xl resize-none",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),c.jsx(Za,{value:_,existingAttachment:!E&&(t!=null&&t.attachmentUrl)?{url:t.attachmentUrl,name:t.attachmentName}:null,onChange:ee=>{N(ee),ee&&I(!0)},onRemoveExisting:()=>{I(!0),N(null)},disabled:h})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx("button",{type:"button",onClick:A,disabled:h,className:"p-3 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 hover:scale-105",style:{backgroundColor:"rgba(239, 68, 68, 0.15)",color:"var(--accent-red)"},title:"Eliminar",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),l&&c.jsx("button",{type:"button",onClick:Q,disabled:h,className:"p-3 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 hover:scale-105",style:{backgroundColor:"rgba(59, 130, 246, 0.15)",color:"var(--accent-blue)"},title:"Duplicar con fecha de hoy",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),c.jsx("button",{type:"submit",disabled:!me||h,className:"flex-1 py-3 rounded-xl font-semibold text-white transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:ve()},children:h?c.jsxs(c.Fragment,{children:[c.jsx(zr,{size:"sm"}),"Guardando..."]}):"Guardar"})]})]}),w&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>b(!1)}),c.jsx("div",{className:"relative w-full max-w-sm rounded-2xl p-6 animate-scale-in",style:{backgroundColor:"var(--bg-secondary)"},children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.15)"},children:c.jsx("svg",{className:"w-7 h-7",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Eliminar movimiento"}),c.jsxs("p",{className:"text-sm mb-5",style:{color:"var(--text-secondary)"},children:["Ests seguro de que quieres eliminar este ",(t==null?void 0:t.tipo)==="transferencia"?"transferencia":t==null?void 0:t.tipo,"?",c.jsx("br",{}),c.jsx("span",{className:"font-semibold text-base",style:{color:ve()},children:(t==null?void 0:t.tipo)==="transferencia"?Ri(t==null?void 0:t.montoSaliente):Ri((t==null?void 0:t.montoPesos)||(t==null?void 0:t.monto))})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-3 rounded-xl font-medium transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:"Cancelar"}),c.jsx("button",{onClick:G,className:"flex-1 py-3 rounded-xl font-medium text-white transition-colors hover:opacity-90",style:{backgroundColor:"var(--accent-red)"},children:"Eliminar"})]})]})})]})]})]}):null}function Gj(){const[t,e]=k.useState([]),[r,a]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{async function h(){try{a(!0),l(null);const f=await xu();e(f.accounts||[])}catch(f){l(f.message),console.error("Error fetching accounts:",f)}finally{a(!1)}}h()},[]),{accounts:t,loading:r,error:o,refetch:async()=>{try{a(!0),l(null);const h=await xu();e(h.accounts||[])}catch(h){l(h.message)}finally{a(!1)}}}}function Kj(){const[t,e]=k.useState({ingresos:[],gastos:[]}),[r,a]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{async function h(){try{a(!0),l(null);const f=await bu();e(f.categorias||{ingresos:[],gastos:[]})}catch(f){l(f.message),console.error("Error fetching categories:",f)}finally{a(!1)}}h()},[]),{categories:t,loading:r,error:o,refetch:async()=>{try{a(!0),l(null);const h=await bu();e(h.categorias||{ingresos:[],gastos:[]})}catch(h){l(h.message)}finally{a(!1)}}}}const eo="icons",Jj=2*1024*1024,Qj=["image/png","image/jpeg","image/jpg","image/gif","image/webp","image/svg+xml"],Xj=async(t,e)=>{if(!t)throw new Error("No se proporcion ningn archivo");if(!Qj.includes(t.type))throw new Error("Tipo de archivo no permitido. Use PNG, JPG, GIF, WebP o SVG.");if(t.size>Jj)throw new Error("El archivo es demasiado grande. Mximo 2MB.");const r=t.name.split(".").pop(),a=`${Date.now()}-${Math.random().toString(36).substring(2,9)}.${r}`,o=`${e}/${a}`,{data:l,error:u}=await H.storage.from(eo).upload(o,t,{cacheControl:"3600",upsert:!1});if(u)throw console.error("Error uploading icon:",u),new Error("Error al subir el cono: "+u.message);const{data:h}=H.storage.from(eo).getPublicUrl(o);return{url:h.publicUrl,path:l.path}},Zj=async t=>{if(!t||t.startsWith("data:")||!t.includes("/"))return;const{error:e}=await H.storage.from(eo).remove([t]);if(e)throw console.error("Error deleting icon:",e),new Error("Error al eliminar el cono: "+e.message)},e2=async t=>{const{data:e,error:r}=await H.storage.from(eo).list(t,{limit:100,sortBy:{column:"created_at",order:"desc"}});if(r)throw console.error("Error listing icons:",r),new Error("Error al listar los conos: "+r.message);return(e||[]).filter(a=>a.name&&a.metadata).map(a=>{const o=`${t}/${a.name}`,{data:l}=H.storage.from(eo).getPublicUrl(o);return{name:a.name,url:l.publicUrl,path:o,createdAt:a.created_at}})},t2=t=>t?t.includes("supabase")&&t.includes("/storage/"):!1,r2=t=>t?Li(t)||t.startsWith("data:")||t.startsWith("http")||t.includes("supabase")?t:t.startsWith("/icons/catalog/")?`/${t.slice(1)}`:t.startsWith("/")?t:`/${t}`:"",Li=t=>t?t.length<=4&&!t.startsWith("data:")&&!t.startsWith("http")&&!t.startsWith("/"):!1,n2=t=>{if(!t||!t2(t))return null;const e=t.match(/\/icons\/(.+)$/);return e?e[1]:null},Pm=({icon:t,defaultIcon:e,size:r="md",className:a=""})=>{const o={sm:"w-5 h-5 text-sm",md:"w-6 h-6 text-base",lg:"w-8 h-8 text-lg"};if(!t&&!e)return null;const l=t||e;return Li(l)?c.jsx("span",{className:`flex items-center justify-center ${o[r]} ${a}`,children:l}):c.jsx("img",{src:r2(l),alt:"",className:`${o[r]} rounded object-cover flex-shrink-0 ${a}`})};function Fs({options:t,value:e,onChange:r,placeholder:a="Seleccionar...",name:o,icon:l,emptyMessage:u="No hay opciones",onCreateNew:h,createNewLabel:f="Crear nueva",defaultOptionIcon:p}){const[y,v]=k.useState(!1),[w,b]=k.useState(""),_=k.useRef(null),N=k.useRef(null),E=t.find(D=>typeof D=="string"?D===e:D.value===e),I=typeof E=="string"?E:(E==null?void 0:E.label)||"",R=typeof E=="object"?E==null?void 0:E.icon:null,j=t.filter(D=>(typeof D=="string"?D:D.label).toLowerCase().includes(w.toLowerCase())),T=D=>{const C=typeof D=="string"?D:D.value;r({target:{name:o,value:C}}),b(""),v(!1)};return k.useEffect(()=>{const D=C=>{_.current&&!_.current.contains(C.target)&&(v(!1),b(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),k.useEffect(()=>{y&&N.current&&N.current.focus()},[y]),c.jsxs("div",{ref:_,className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>v(!y),className:"w-full px-4 py-3 rounded-xl text-left flex items-center gap-3 transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:e?"var(--text-primary)":"var(--text-secondary)"},children:[e&&(R||p)?c.jsx(Pm,{icon:R,defaultIcon:p,size:"md"}):l?c.jsx("span",{style:{color:"var(--text-secondary)"},children:l}):null,c.jsx("span",{className:"flex-1 truncate",children:I||a}),c.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${y?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&c.jsxs("div",{className:"absolute z-50 mt-2 w-full rounded-xl shadow-xl overflow-hidden animate-scale-in",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:[c.jsx("div",{className:"p-2",style:{borderBottom:"1px solid var(--border-subtle)"},children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:N,type:"text",value:w,onChange:D=>b(D.target.value),placeholder:"Buscar...",className:"w-full pl-9 pr-3 py-2 rounded-lg text-sm",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})}),c.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[j.length===0?c.jsx("div",{className:"px-4 py-3 text-sm text-center",style:{color:"var(--text-secondary)"},children:u}):j.map((D,C)=>{const A=typeof D=="string"?D:D.value,G=typeof D=="string"?D:D.label,Q=typeof D=="object"?D.icon:null,J=A===e;return c.jsx("button",{type:"button",onClick:()=>T(D),className:`w-full px-4 py-3 text-left text-sm transition-colors ${J?"font-medium":""}`,style:{backgroundColor:J?"var(--accent-primary-dim)":"transparent",color:J?"var(--accent-primary)":"var(--text-primary)"},onMouseEnter:Z=>{J||(Z.currentTarget.style.backgroundColor="var(--bg-tertiary)")},onMouseLeave:Z=>{J||(Z.currentTarget.style.backgroundColor="transparent")},children:c.jsxs("div",{className:"flex items-center gap-2",children:[J&&c.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(Q||p)&&c.jsx(Pm,{icon:Q,defaultIcon:p,size:"sm"}),c.jsx("span",{className:J||Q||p?"":"ml-6",children:G})]})},A)}),h&&c.jsxs("button",{type:"button",onClick:()=>{v(!1),b(""),h(w)},className:"w-full px-4 py-3 text-left text-sm transition-colors flex items-center gap-2",style:{borderTop:"1px solid var(--border-subtle)",color:"var(--accent-primary)"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor="var(--accent-primary-dim)"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),c.jsx("span",{className:"font-medium",children:f}),w&&c.jsxs("span",{style:{color:"var(--text-secondary)"},children:['"',w,'"']})]})]})]})]})}const Su=[{id:"dinero",name:"Dinero",emojis:[{emoji:"",keywords:["dinero","money","bolsa","plata"]},{emoji:"",keywords:["billete","dolar","efectivo","cash"]},{emoji:"",keywords:["yen","billete","japon"]},{emoji:"",keywords:["euro","billete","europa"]},{emoji:"",keywords:["libra","billete","uk"]},{emoji:"",keywords:["dinero","volando","gasto"]},{emoji:"",keywords:["tarjeta","credito","debito","card"]},{emoji:"",keywords:["moneda","coin","crypto"]},{emoji:"",keywords:["diamante","lujo","valioso"]},{emoji:"",keywords:["banco","bank","edificio"]},{emoji:"",keywords:["cajero","atm","banco"]},{emoji:"",keywords:["grafico","acciones","subida"]},{emoji:"",keywords:["grafico","subida","crecimiento","inversion"]},{emoji:"",keywords:["grafico","bajada","perdida"]},{emoji:"",keywords:["recibo","factura","ticket"]},{emoji:"",keywords:["dolar","signo","precio"]},{emoji:"",keywords:["bitcoin","crypto","btc"]}]},{id:"comida",name:"Comida",emojis:[{emoji:"",keywords:["hamburguesa","burger","comida rapida"]},{emoji:"",keywords:["pizza","comida"]},{emoji:"",keywords:["papas","fries","comida rapida"]},{emoji:"",keywords:["taco","mexicano"]},{emoji:"",keywords:["burrito","wrap"]},{emoji:"",keywords:["ensalada","salad","saludable"]},{emoji:"",keywords:["sushi","japones"]},{emoji:"",keywords:["ramen","sopa","fideos"]},{emoji:"",keywords:["pasta","espagueti","italiano"]},{emoji:"",keywords:["guiso","paella","cocina"]},{emoji:"",keywords:["carne","asado","meat"]},{emoji:"",keywords:["bife","carne","steak"]},{emoji:"",keywords:["pollo","chicken"]},{emoji:"",keywords:["croissant","panaderia","desayuno"]},{emoji:"",keywords:["pan","bread","panaderia"]},{emoji:"",keywords:["cupcake","postre","dulce"]},{emoji:"",keywords:["torta","cake","postre"]},{emoji:"",keywords:["helado","ice cream","postre"]},{emoji:"",keywords:["dona","donut","dulce"]},{emoji:"",keywords:["cafe","coffee","bebida"]},{emoji:"",keywords:["cerveza","beer","alcohol"]},{emoji:"",keywords:["vino","wine","alcohol"]},{emoji:"",keywords:["super","supermercado","compras","carrito"]},{emoji:"",keywords:["bolsas","compras","shopping"]}]},{id:"transporte",name:"Transporte",emojis:[{emoji:"",keywords:["auto","carro","car","vehiculo"]},{emoji:"",keywords:["taxi","uber","cabify"]},{emoji:"",keywords:["colectivo","bus","bondi"]},{emoji:"",keywords:["subte","metro","tren"]},{emoji:"",keywords:["tren","train","ferrocarril"]},{emoji:"",keywords:["avion","vuelo","viaje","aerolinea"]},{emoji:"",keywords:["despegue","vuelo","aeropuerto"]},{emoji:"",keywords:["cohete","rapido","space"]},{emoji:"",keywords:["bici","bicicleta","bike"]},{emoji:"",keywords:["moto","scooter","delivery"]},{emoji:"",keywords:["moto","motorcycle"]},{emoji:"",keywords:["nafta","combustible","gas","gasolina"]},{emoji:"",keywords:["parking","estacionamiento"]},{emoji:"",keywords:["parada","colectivo","bus stop"]},{emoji:"",keywords:["barco","ferry","buquebus"]}]},{id:"hogar",name:"Hogar",emojis:[{emoji:"",keywords:["casa","home","hogar"]},{emoji:"",keywords:["casa","jardin","home"]},{emoji:"",keywords:["edificio","oficina","building"]},{emoji:"",keywords:["sofa","muebles","living"]},{emoji:"",keywords:["cama","dormitorio","bed"]},{emoji:"",keywords:["ducha","bao","shower"]},{emoji:"",keywords:["baera","bao","bath"]},{emoji:"",keywords:["luz","electricidad","lamp"]},{emoji:"",keywords:["electricidad","enchufe","plug"]},{emoji:"",keywords:["tv","television","tele"]},{emoji:"",keywords:["limpieza","escoba","cleaning"]},{emoji:"",keywords:["lavanderia","ropa","laundry"]},{emoji:"",keywords:["herramienta","reparacion","tool"]},{emoji:"",keywords:["martillo","reparacion","construccion"]},{emoji:"",keywords:["planta","jardin","maceta"]},{emoji:"",keywords:["temperatura","gas","calefaccion"]},{emoji:"",keywords:["agua","water","servicio"]},{emoji:"",keywords:["fuego","gas","calefaccion"]}]},{id:"entretenimiento",name:"Entretenimiento",emojis:[{emoji:"",keywords:["cine","pelicula","movie"]},{emoji:"",keywords:["videojuego","gaming","game"]},{emoji:"",keywords:["musica","auriculares","spotify"]},{emoji:"",keywords:["musica","music","cancion"]},{emoji:"",keywords:["karaoke","microfono","concierto"]},{emoji:"",keywords:["guitarra","musica","rock"]},{emoji:"",keywords:["teatro","show","espectaculo"]},{emoji:"",keywords:["circo","evento","show"]},{emoji:"",keywords:["dardos","juego","objetivo"]},{emoji:"",keywords:["dados","juego","casino"]},{emoji:"",keywords:["casino","tragamonedas","juego"]},{emoji:"",keywords:["libros","lectura","books"]},{emoji:"",keywords:["libro","lectura","book"]},{emoji:"",keywords:["arte","pintura","creative"]},{emoji:"",keywords:["regalo","gift","presente"]},{emoji:"",keywords:["fiesta","party","celebracion"]},{emoji:"",keywords:["confeti","fiesta","celebracion"]},{emoji:"",keywords:["celular","telefono","app"]},{emoji:"",keywords:["computadora","laptop","pc"]},{emoji:"",keywords:["monitor","desktop","pc"]}]},{id:"salud",name:"Salud",emojis:[{emoji:"",keywords:["medicamento","pastilla","farmacia"]},{emoji:"",keywords:["vacuna","inyeccion","medico"]},{emoji:"",keywords:["hospital","clinica","salud"]},{emoji:"",keywords:["medico","doctor","consulta"]},{emoji:"",keywords:["curita","herida","bandaid"]},{emoji:"",keywords:["crema","locion","farmacia"]},{emoji:"",keywords:["diente","dentista","odontologia"]},{emoji:"",keywords:["anteojos","lentes","optica"]},{emoji:"",keywords:["yoga","meditacion","wellness"]},{emoji:"",keywords:["gimnasio","gym","ejercicio","fitness"]},{emoji:"",keywords:["pesas","gimnasio","gym"]},{emoji:"",keywords:["mente","psicologia","terapia"]},{emoji:"",keywords:["corazon","salud","amor"]},{emoji:"",keywords:["rayos x","radiografia","estudio"]}]},{id:"educacion",name:"Educacin",emojis:[{emoji:"",keywords:["libros","estudio","universidad"]},{emoji:"",keywords:["graduacion","universidad","titulo"]},{emoji:"",keywords:["escuela","colegio","school"]},{emoji:"",keywords:["apuntes","nota","escribir"]},{emoji:"",keywords:["lapiz","escribir","estudio"]},{emoji:"",keywords:["regla","geometria","matematica"]},{emoji:"",keywords:["microscopio","ciencia","lab"]},{emoji:"",keywords:["quimica","laboratorio","ciencia"]},{emoji:"",keywords:["trabajo","maletin","oficina"]},{emoji:"",keywords:["lapicera","escribir","firma"]},{emoji:"",keywords:["cuaderno","notas","apuntes"]},{emoji:"",keywords:["internet","web","curso online"]}]},{id:"ropa",name:"Ropa y Belleza",emojis:[{emoji:"",keywords:["remera","camiseta","ropa"]},{emoji:"",keywords:["pantalon","jeans","ropa"]},{emoji:"",keywords:["vestido","dress","ropa"]},{emoji:"",keywords:["camisa","formal","trabajo"]},{emoji:"",keywords:["zapatillas","sneakers","calzado"]},{emoji:"",keywords:["tacos","zapatos","calzado"]},{emoji:"",keywords:["cartera","bolso","bag"]},{emoji:"",keywords:["mochila","backpack","bolso"]},{emoji:"",keywords:["sombrero","hat","accesorio"]},{emoji:"",keywords:["campera","abrigo","jacket"]},{emoji:"",keywords:["labial","maquillaje","makeup"]},{emoji:"",keywords:["uas","manicura","belleza"]},{emoji:"",keywords:["peluqueria","corte","pelo"]},{emoji:"",keywords:["shampoo","crema","higiene"]},{emoji:"",keywords:["bikini","playa","ropa"]},{emoji:"",keywords:["traje de bao","pileta","natacion"]}]},{id:"mascotas",name:"Mascotas",emojis:[{emoji:"",keywords:["perro","dog","mascota"]},{emoji:"",keywords:["gato","cat","mascota"]},{emoji:"",keywords:["pajaro","bird","mascota"]},{emoji:"",keywords:["pez","fish","pecera"]},{emoji:"",keywords:["hamster","mascota","roedor"]},{emoji:"",keywords:["conejo","rabbit","mascota"]},{emoji:"",keywords:["lagartija","reptil","mascota"]},{emoji:"",keywords:["huella","mascota","veterinaria"]},{emoji:"",keywords:["hueso","perro","mascota"]}]},{id:"viajes",name:"Viajes",emojis:[{emoji:"",keywords:["playa","beach","vacaciones"]},{emoji:"",keywords:["montaa","mountain","turismo"]},{emoji:"",keywords:["camping","carpa","naturaleza"]},{emoji:"",keywords:["torre","paris","turismo"]},{emoji:"",keywords:["estatua","new york","turismo"]},{emoji:"",keywords:["castillo","disney","turismo"]},{emoji:"",keywords:["palmera","tropical","vacaciones"]},{emoji:"",keywords:["valija","equipaje","viaje"]},{emoji:"",keywords:["mapa","viaje","turismo"]},{emoji:"",keywords:["hotel","alojamiento","hospedaje"]},{emoji:"",keywords:["sombrilla","playa","vacaciones"]},{emoji:"",keywords:["ski","nieve","invierno"]}]},{id:"trabajo",name:"Trabajo",emojis:[{emoji:"",keywords:["maletin","trabajo","oficina","business"]},{emoji:"",keywords:["edificio","oficina","empresa"]},{emoji:"",keywords:["laptop","trabajo","remoto"]},{emoji:"",keywords:["grafico","presentacion","reporte"]},{emoji:"",keywords:["clipboard","lista","tareas"]},{emoji:"",keywords:["carpeta","archivos","folder"]},{emoji:"",keywords:["impresora","printer","oficina"]},{emoji:"",keywords:["enviar","email","send"]},{emoji:"",keywords:["recibir","inbox","download"]},{emoji:"",keywords:["check","completado","tarea"]},{emoji:"",keywords:["calendario","agenda","fecha"]},{emoji:"",keywords:["reloj","alarma","tiempo"]}]},{id:"otros",name:"Otros",emojis:[{emoji:"",keywords:["estrella","favorito","star"]},{emoji:"",keywords:["campana","notificacion","bell"]},{emoji:"",keywords:["pin","marcador","importante"]},{emoji:"",keywords:["marcador","bookmark","etiqueta"]},{emoji:"",keywords:["etiqueta","tag","precio"]},{emoji:"",keywords:["candado","seguridad","lock"]},{emoji:"",keywords:["telefono","llamada","phone"]},{emoji:"",keywords:["sobre","mail","correo"]},{emoji:"",keywords:["calendario","fecha","evento"]},{emoji:"",keywords:["rayo","energia","rapido"]},{emoji:"",keywords:["brillante","especial","destacado"]},{emoji:"",keywords:["pregunta","duda","question"]},{emoji:"",keywords:["importante","atencion","warning"]},{emoji:"",keywords:["mas","agregar","plus"]},{emoji:"",keywords:["menos","quitar","minus"]},{emoji:"",keywords:["actualizar","refresh","sync"]},{emoji:"",keywords:["reciclar","ecologia","verde"]},{emoji:"",keywords:["objetivo","meta","target"]}]}],Eu=()=>Su.flatMap(t=>t.emojis.map(e=>({...e,category:t.name}))),s2=t=>{if(!t)return Eu();const e=t.toLowerCase().trim();return Eu().filter(r=>r.keywords.some(a=>a.includes(e))||r.emoji===e)};function a2({isOpen:t,onClose:e,onConfirm:r,title:a="Confirmar",message:o="Ests seguro?",confirmText:l="Eliminar",cancelText:u="Cancelar",variant:h="danger",loading:f=!1,icon:p,children:y}){if(k.useEffect(()=>{const _=N=>{N.key==="Escape"&&t&&!f&&e()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,f,e]),!t)return null;const w=(()=>{switch(h){case"warning":return{bg:"rgba(245, 158, 11, 0.15)",color:"var(--accent-yellow)",button:"var(--accent-yellow)"};case"info":return{bg:"rgba(59, 130, 246, 0.15)",color:"var(--accent-blue)",button:"var(--accent-blue)"};case"danger":default:return{bg:"rgba(239, 68, 68, 0.15)",color:"var(--accent-red)",button:"var(--accent-red)"}}})(),b=c.jsx("svg",{className:"w-7 h-7",style:{color:w.color},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:f?void 0:e}),c.jsx("div",{className:"relative w-full max-w-sm rounded-2xl p-6 animate-scale-in",style:{backgroundColor:"var(--bg-secondary)"},children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{backgroundColor:w.bg},children:p||b}),c.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:a}),c.jsx("p",{className:"text-sm mb-5",style:{color:"var(--text-secondary)"},children:o}),y,c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:e,disabled:f,className:"flex-1 py-3 rounded-xl font-medium transition-colors hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:u}),c.jsx("button",{onClick:r,disabled:f,className:"flex-1 py-3 rounded-xl font-medium text-white transition-colors hover:opacity-90 disabled:opacity-50 flex items-center justify-center gap-2",style:{backgroundColor:w.button},children:f?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Procesando..."]}):l})]})]})})]})}function o2({isOpen:t,onClose:e,onSelect:r,currentIcon:a,currentIconCatalogId:o}){const{user:l}=Qn(),[u,h]=k.useState("logo"),[f,p]=k.useState(""),[y,v]=k.useState("all"),[w,b]=k.useState("all"),_=k.useRef(null),N=k.useRef(null),[E,I]=k.useState(!1),[R,j]=k.useState([]),[T,D]=k.useState(!1),[C,A]=k.useState(null),[G,Q]=k.useState({isOpen:!1,iconPath:null}),[J,Z]=k.useState(!1),oe=k.useRef(null),{icons:me,loading:ie,groupedIcons:ve,categories:ee,searchIcons:we,getIconUrl:z}=n1();k.useEffect(()=>{t&&l&&W()},[t,l]),k.useEffect(()=>{t||(p(""),v("all"),b("all"),A(null))},[t]),k.useEffect(()=>{const X=Ue=>{G.isOpen||Ue.key==="Escape"&&e()};if(t)return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[t,e,G.isOpen]),k.useEffect(()=>{const X=Ue=>{G.isOpen||_.current&&!_.current.contains(Ue.target)&&e()};if(t)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[t,e,G.isOpen]);const W=async()=>{if(l){D(!0);try{const X=await e2(l.id);j(X)}catch(X){console.error("Error loading uploaded icons:",X)}finally{D(!1)}}},B=async X=>{var bt;const Ue=(bt=X.target.files)==null?void 0:bt[0];if(!(!Ue||!l)){I(!0),A(null);try{const{url:Tr}=await Xj(Ue,l.id);await W(),r({type:"upload",value:Tr,iconCatalogId:null}),e()}catch(Tr){A(Tr.message)}finally{I(!1),oe.current&&(oe.current.value="")}}},O=(X,Ue)=>{Ue.stopPropagation(),Q({isOpen:!0,iconPath:X})},F=async()=>{const X=G.iconPath;if(X){Z(!0);try{await Zj(X),j(Ue=>Ue.filter(bt=>bt.path!==X)),a&&n2(a)===X&&r({type:"emoji",value:null,iconCatalogId:null}),Q({isOpen:!1,iconPath:null})}catch(Ue){A(Ue.message)}finally{Z(!1)}}},pe=X=>{r({type:"upload",value:X.url,iconCatalogId:null}),e()},fe=()=>{if(f)return s2(f);if(y==="all")return Eu();const X=Su.find(Ue=>Ue.id===y);return X?X.emojis:[]},je=()=>f?we(f):w==="all"?me:ve[w]||[],Se=X=>{r({type:"emoji",value:X.emoji,iconCatalogId:null}),e()},Pe=X=>{r({type:"logo",value:X.filename,iconCatalogId:X.id}),e()},Me=()=>{r({type:"emoji",value:null,iconCatalogId:null}),e()};if(k.useEffect(()=>{const X=N.current;if(!X||!t)return;const Ue=bt=>{bt.preventDefault(),X.scrollLeft+=bt.deltaY};return X.addEventListener("wheel",Ue,{passive:!1}),()=>X.removeEventListener("wheel",Ue)},[t,u,f]),!t)return null;const Ae=a||o,rt=u==="logo"||u==="emoji",Yr=rt&&!f;return c.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[c.jsxs("div",{ref:_,className:"w-full max-w-md rounded-2xl overflow-hidden shadow-2xl animate-scale-in max-h-[85vh] flex flex-col",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4",style:{borderBottom:"1px solid var(--border-color)"},children:[c.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Elegir cono"}),c.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-colors hover:bg-white/10",style:{color:"var(--text-secondary)"},children:c.jsx("svg",{width:20,height:20,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex px-5 pt-3 gap-2",children:[{id:"logo",label:"Logos"},{id:"emoji",label:"Emojis"},{id:"upload",label:"Subir"}].map(X=>c.jsx("button",{onClick:()=>{h(X.id),p("")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u===X.id?"bg-teal-500/20 text-teal-400":"hover:bg-white/5"}`,style:{color:u===X.id?void 0:"var(--text-secondary)"},children:X.label},X.id))}),rt&&c.jsx("div",{className:"px-5 pt-4",children:c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:[c.jsx("svg",{width:18,height:18,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-muted)",flexShrink:0},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{type:"text",value:f,onChange:X=>p(X.target.value),placeholder:u==="emoji"?"Buscar emoji...":"Buscar logo...",className:"flex-1 bg-transparent outline-none text-sm",style:{color:"var(--text-primary)"},autoFocus:!0}),f&&c.jsx("button",{onClick:()=>p(""),className:"p-1 rounded hover:bg-white/10",children:c.jsx("svg",{width:14,height:14,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-muted)"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),Yr&&c.jsx("div",{className:"px-5 pt-3 relative",children:c.jsxs("div",{ref:N,className:"flex gap-2 overflow-x-auto pb-2 chips-scroll",children:[c.jsx("button",{onClick:()=>u==="emoji"?v("all"):b("all"),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all flex-shrink-0 ${(u==="emoji"?y:w)==="all"?"bg-teal-500/20 text-teal-400":"hover:bg-white/5"}`,style:{color:(u==="emoji"?y:w)==="all"?void 0:"var(--text-secondary)"},children:"Todos"}),u==="emoji"?Su.map(X=>c.jsx("button",{onClick:()=>v(X.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all flex-shrink-0 ${y===X.id?"bg-teal-500/20 text-teal-400":"hover:bg-white/5"}`,style:{color:y===X.id?void 0:"var(--text-secondary)"},children:X.name},X.id)):ee.map(X=>c.jsx("button",{onClick:()=>b(X),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all flex-shrink-0 ${w===X?"bg-teal-500/20 text-teal-400":"hover:bg-white/5"}`,style:{color:w===X?void 0:"var(--text-secondary)"},children:X},X))]})}),C&&c.jsx("div",{className:"mx-5 mt-3 px-4 py-3 rounded-lg bg-red-500/10 border border-red-500/20",children:c.jsx("p",{className:"text-sm text-red-400",children:C})}),c.jsxs("div",{className:"p-5 min-h-0 flex-1 overflow-y-auto",children:[u==="logo"&&c.jsx(c.Fragment,{children:ie?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"w-8 h-8 border-2 border-teal-500/30 border-t-teal-500 rounded-full animate-spin"})}):c.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[je().map(X=>c.jsxs("button",{onClick:()=>Pe(X),className:`flex flex-col items-center gap-1.5 p-2 rounded-xl transition-all hover:bg-white/10 ${o===X.id?"ring-2 ring-teal-500 bg-teal-500/10":""}`,title:X.name,children:[c.jsx("img",{src:z(X.filename),alt:X.name,className:"w-10 h-10 rounded-lg object-contain",loading:"lazy"}),c.jsx("span",{className:"text-[10px] text-center truncate w-full leading-tight",style:{color:"var(--text-muted)"},children:X.name})]},X.id)),je().length===0&&c.jsx("div",{className:"col-span-5 py-8 text-center",children:c.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"No se encontraron logos"})})]})}),u==="emoji"&&c.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[fe().map((X,Ue)=>{var bt;return c.jsx("button",{onClick:()=>Se(X),className:`flex items-center justify-center p-3 rounded-xl text-2xl transition-all hover:bg-white/10 ${a===X.emoji&&!o?"ring-2 ring-teal-500 bg-teal-500/10":""}`,title:(bt=X.keywords)==null?void 0:bt.join(", "),children:X.emoji},`${X.emoji}-${Ue}`)}),fe().length===0&&c.jsx("div",{className:"col-span-6 py-8 text-center",children:c.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"No se encontraron emojis"})})]}),u==="upload"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onClick:()=>{var X;return!E&&((X=oe.current)==null?void 0:X.click())},className:`flex flex-col items-center justify-center gap-3 p-8 rounded-xl border-2 border-dashed transition-all cursor-pointer ${E?"opacity-50 cursor-wait":"hover:bg-white/5 hover:border-teal-500/50"}`,style:{borderColor:"var(--border-color)"},children:[E?c.jsx("svg",{width:32,height:32,className:"animate-spin text-teal-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})}):c.jsx("svg",{width:32,height:32,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-muted)"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:E?"Subiendo...":"Click para subir imagen"}),c.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"PNG, JPG, GIF, WebP o SVG (max. 2MB)"})]}),c.jsx("input",{ref:oe,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp,image/svg+xml",onChange:B,className:"hidden"})]}),R.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium mb-3",style:{color:"var(--text-muted)"},children:"conos subidos anteriormente"}),c.jsx("div",{className:"grid grid-cols-5 gap-3",children:R.map(X=>c.jsxs("div",{className:`relative group rounded-xl overflow-hidden transition-all ${a===X.url?"ring-2 ring-teal-500":""}`,children:[c.jsx("button",{onClick:()=>pe(X),className:"w-full aspect-square p-2 hover:bg-white/10",children:c.jsx("img",{src:X.url,alt:"Uploaded icon",className:"w-full h-full object-cover rounded-lg"})}),c.jsx("button",{onClick:Ue=>O(X.path,Ue),className:"absolute top-1 right-1 p-1 rounded bg-red-500/80 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("svg",{width:12,height:12,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"text-white",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},X.path))})]}),T&&c.jsx("div",{className:"flex items-center justify-center py-4",children:c.jsx("div",{className:"w-6 h-6 border-2 border-teal-500/30 border-t-teal-500 rounded-full animate-spin"})}),!T&&R.length===0&&c.jsx("p",{className:"text-center text-sm py-4",style:{color:"var(--text-muted)"},children:"No tens conos subidos"})]})]}),Ae&&c.jsx("div",{className:"px-5 py-3",style:{borderTop:"1px solid var(--border-color)"},children:c.jsx("button",{onClick:Me,className:"w-full py-2.5 rounded-xl text-sm font-medium text-red-400 hover:bg-red-500/10 transition-colors",children:"Quitar cono"})})]}),c.jsx(a2,{isOpen:G.isOpen,onClose:()=>Q({isOpen:!1,iconPath:null}),onConfirm:F,title:"Eliminar cono",message:"Ests seguro de que quers eliminar este cono? Esta accin no se puede deshacer.",confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger",loading:J})]})}function Qp({isOpen:t,onClose:e,type:r,onCategoryCreated:a}){const[o,l]=k.useState(""),[u,h]=k.useState(null),[f,p]=k.useState(null),[y,v]=k.useState(!1),[w,b]=k.useState(!1),[_,N]=k.useState(""),[E,I]=k.useState(null);k.useEffect(()=>{t&&(l(""),h(null),p(null),I(null),N(""))},[t]);const R=r==="ingreso",j=R?"ingreso":"gasto",T=R?"var(--accent-green)":"var(--accent-red)",D=({type:Q,value:J,iconCatalogId:Z})=>{Q==="logo"?(h(null),p(Z),I(J)):(h(J),p(null),I(null))},C=async Q=>{if(Q.preventDefault(),Q.stopPropagation(),!!o.trim()){b(!0),N("");try{let J=o.trim();const Z=u&&Li(u);Z&&!f&&(J=`${u} ${J}`),await c1({nombre:J,tipo:r,icon:Z||f?null:u,icon_catalog_id:f||null}),a(J),l(""),h(null),p(null),I(null),e()}catch(J){console.error("Error creating category:",J),N(J.message||"Error al crear la categora")}finally{b(!1)}}};if(!t)return null;const A=u||f,G=()=>f&&E?c.jsx("img",{src:$u(E),alt:"",className:"w-7 h-7 rounded object-contain"}):u&&Li(u)?c.jsx("span",{className:"text-xl",children:u}):c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});return c.jsxs("div",{className:"fixed inset-0 z-[110] flex items-start justify-center pt-16 p-4 bg-black/50",children:[c.jsx("div",{className:"fixed inset-0",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-sm rounded-2xl p-5 animate-scale-in card-elevated",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 25px 80px -20px rgba(0, 0, 0, 0.5)"},children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 rounded-t-2xl",style:{backgroundColor:T}}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:T},children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold",style:{color:"var(--text-primary)"},children:["Nueva categora de ",j]}),c.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Se agregar a tu lista de categoras"})]})]}),c.jsxs("form",{onSubmit:C,children:[c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("button",{type:"button",onClick:()=>v(!0),className:"w-12 h-12 flex-shrink-0 rounded-xl flex items-center justify-center transition-all duration-200 border-2 border-dashed hover:border-solid",style:{backgroundColor:"var(--bg-tertiary)",borderColor:A?T:"var(--border-medium)"},title:"Elegir cono",children:G()}),c.jsx("input",{type:"text",value:o,onChange:Q=>l(Q.target.value),placeholder:"Nombre de la categora",className:"flex-1 px-4 py-3 rounded-xl transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},autoFocus:!0})]}),_&&c.jsx("p",{className:"text-sm mb-3",style:{color:"var(--accent-red)"},children:_}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:w||!o.trim(),className:"flex-1 py-3 rounded-xl font-medium text-white transition-all disabled:opacity-50",style:{backgroundColor:T},children:w?"Creando...":"Crear"})]})]})]}),c.jsx(o2,{isOpen:y,onClose:()=>v(!1),onSelect:D,currentIcon:u,currentIconCatalogId:f})]})}function i2({accounts:t,categories:e,onSubmit:r,loading:a,prefillData:o,onCategoryCreated:l}){var C;const u=new Date().toISOString().split("T")[0],[h,f]=k.useState({fecha:(o==null?void 0:o.fecha)||u,monto:((C=o==null?void 0:o.monto)==null?void 0:C.toString())||"",cuenta:(o==null?void 0:o.cuenta)||"",categoria:(o==null?void 0:o.categoria)||"",nota:(o==null?void 0:o.nota)||""}),[p,y]=k.useState(!1),[v,w]=k.useState(!1),[b,_]=k.useState(null),N=A=>{const{name:G,value:Q}=A.target;f(J=>({...J,[G]:Q}))},E=async A=>{if(A.preventDefault(),!h.monto||!h.cuenta||!h.categoria)return;await r({type:"income",data:{...h,monto:parseFloat(h.monto),attachment:b}})!==!1&&(y(!0),_(null),setTimeout(()=>y(!1),1500))},I=h.monto&&h.cuenta&&h.categoria,R=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),T=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),D=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:E,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fecha"]}),c.jsx(Xa,{name:"fecha",value:h.fecha,onChange:N})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[R,"Monto"]}),c.jsx("div",{className:"relative rounded-2xl p-4 transition-all duration-200",style:{backgroundColor:"var(--bg-tertiary)",border:"2px solid transparent"},children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--accent-green)"},children:"$"}),c.jsx("input",{type:"number",name:"monto",value:h.monto,onChange:N,placeholder:"0",min:"0",step:"0.01",className:"flex-1 text-3xl font-bold bg-transparent outline-none",style:{color:"var(--text-primary)"}})]})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[j,"Cuenta"]}),c.jsx(Fs,{name:"cuenta",value:h.cuenta,onChange:N,options:t.map(A=>({value:A.nombre,label:A.nombre,icon:A.icon||null})),placeholder:"Seleccionar cuenta",icon:j,emptyMessage:"No hay cuentas",defaultOptionIcon:""})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[T,"Categora"]}),c.jsx(Fs,{name:"categoria",value:h.categoria,onChange:N,options:e,placeholder:"Seleccionar categora",icon:T,emptyMessage:"No hay categoras",onCreateNew:()=>w(!0),createNewLabel:"Crear categora",defaultOptionIcon:""})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[D,"Nota (opcional)"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-3",style:{color:"var(--text-secondary)"},children:D}),c.jsx("textarea",{name:"nota",value:h.nota,onChange:N,placeholder:"Agregar una nota...",rows:2,className:"w-full pl-12 pr-4 py-3 rounded-xl resize-none transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),c.jsx(Za,{value:b,onChange:_,disabled:a}),c.jsx("button",{type:"submit",disabled:!I||a||p,className:"w-full py-4 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",style:{backgroundColor:"var(--accent-green)"},children:p?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-6 h-6 animate-check-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),"Guardado"]}):a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Registrar Ingreso"]})})]}),c.jsx(Qp,{isOpen:v,onClose:()=>w(!1),type:"ingreso",onCategoryCreated:A=>{f(G=>({...G,categoria:A})),l&&l()}})]})}const l2=[1,3,6,12,18,24];function c2(t,e){if(!t||!e)return null;const r=new Date(t);r.getDate()<=e?r.setMonth(r.getMonth()+1):r.setMonth(r.getMonth()+2);const o=new Date(r.getFullYear(),r.getMonth()+1,0).getDate();return r.setDate(Math.min(e,o)),r}function u2({accounts:t,categories:e,onSubmit:r,loading:a,prefillData:o,onCategoryCreated:l}){var we;const u=new Date().toISOString().split("T")[0],[h,f]=k.useState({fecha:(o==null?void 0:o.fecha)||u,monto:((we=o==null?void 0:o.monto)==null?void 0:we.toString())||"",cuenta:(o==null?void 0:o.cuenta)||"",categoria:(o==null?void 0:o.categoria)||"",nota:(o==null?void 0:o.nota)||""}),[p,y]=k.useState(1),[v,w]=k.useState(!1),[b,_]=k.useState("ARS"),[N,E]=k.useState(!1),[I,R]=k.useState(null),j=k.useMemo(()=>t.find(z=>z.nombre===h.cuenta),[t,h.cuenta]),T=(j==null?void 0:j.esTarjetaCredito)||!1,D=(j==null?void 0:j.diaCierre)||null,C=k.useMemo(()=>!h.monto||p<1?0:parseFloat(h.monto)/p,[h.monto,p]),A=k.useMemo(()=>!T||!D||p<=1?null:c2(h.fecha,D),[h.fecha,D,T,p]),G=z=>{const{name:W,value:B}=z.target;if(f(O=>({...O,[W]:B})),W==="cuenta"){const O=t.find(F=>F.nombre===B);O!=null&&O.esTarjetaCredito||y(1),_("ARS")}},Q=async z=>{if(z.preventDefault(),!h.monto||!h.cuenta||!h.categoria)return;const W=T&&p>1;await r({type:W?"expense_installments":"expense",data:W?{fechaInicio:h.fecha,montoTotal:parseFloat(h.monto),cuenta:h.cuenta,categoria:h.categoria,descripcion:h.nota||`Compra en ${p} cuotas`,cuotas:p,moneda:T?b:void 0}:{...h,monto:parseFloat(h.monto),moneda:T?b:void 0,attachment:I}})!==!1&&(w(!0),R(null),setTimeout(()=>w(!1),1500))},J=h.monto&&h.cuenta&&h.categoria,Z=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),oe=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),me=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),ie=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),ve=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),ee=()=>v?"Guardado":a?"Guardando...":T&&p>1?`Registrar Gasto en ${p} cuotas`:"Registrar Gasto";return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Q,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fecha"]}),c.jsx(Xa,{name:"fecha",value:h.fecha,onChange:G})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[Z,T&&p>1?"Monto Total":"Monto"]}),c.jsxs("div",{className:"relative rounded-2xl p-4 transition-all duration-200",style:{backgroundColor:"var(--bg-tertiary)",border:"2px solid transparent"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--accent-red)"},children:b==="USD"?"US$":"$"}),c.jsx("input",{type:"number",name:"monto",value:h.monto,onChange:G,placeholder:"0",min:"0",step:"0.01",className:"flex-1 text-3xl font-bold bg-transparent outline-none",style:{color:"var(--text-primary)"}})]}),T&&c.jsxs("div",{className:"flex gap-2 mt-3 pt-3",style:{borderTop:"1px solid var(--border-subtle)"},children:[c.jsx("button",{type:"button",onClick:()=>_("ARS"),className:`flex-1 py-2 rounded-xl text-sm font-medium transition-all ${b==="ARS"?"ring-2":"opacity-60"}`,style:{backgroundColor:b==="ARS"?"rgba(239, 68, 68, 0.15)":"var(--bg-secondary)",color:b==="ARS"?"var(--accent-red)":"var(--text-secondary)","--tw-ring-color":"var(--accent-red)"},children:"$ Pesos"}),c.jsx("button",{type:"button",onClick:()=>_("USD"),className:`flex-1 py-2 rounded-xl text-sm font-medium transition-all ${b==="USD"?"ring-2":"opacity-60"}`,style:{backgroundColor:b==="USD"?"rgba(34, 197, 94, 0.15)":"var(--bg-secondary)",color:b==="USD"?"var(--accent-green)":"var(--text-secondary)","--tw-ring-color":"var(--accent-green)"},children:"US$ Dlares"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[oe,"Cuenta"]}),c.jsx(Fs,{name:"cuenta",value:h.cuenta,onChange:G,options:t.map(z=>({value:z.nombre,label:z.nombre,icon:z.icon||null,badge:z.esTarjetaCredito?"TC":null})),defaultOptionIcon:"",placeholder:"Seleccionar cuenta",icon:oe,emptyMessage:"No hay cuentas"})]}),T&&c.jsxs("div",{className:"rounded-2xl p-4 space-y-4 animate-fade-in",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--accent-purple)"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[ve,c.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"En cuantas cuotas?"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 relative rounded-xl overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:c.jsx("input",{type:"number",min:"1",max:"48",value:p,onChange:z=>{const W=parseInt(z.target.value)||1;y(Math.max(1,Math.min(48,W)))},className:"w-full px-4 py-3 text-center text-xl font-bold bg-transparent outline-none",style:{color:"var(--accent-purple)"}})}),c.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:p===1?"cuota (contado)":"cuotas"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:l2.map(z=>c.jsx("button",{type:"button",onClick:()=>y(z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${p===z?"ring-2 ring-[var(--accent-purple)]":"opacity-60 hover:opacity-100"}`,style:{backgroundColor:p===z?"rgba(20, 184, 166, 0.2)":"var(--bg-secondary)",color:p===z?"var(--accent-purple)":"var(--text-secondary)"},children:z},z))})]}),p>1&&h.monto&&c.jsxs("div",{className:"p-3 rounded-xl space-y-2",style:{backgroundColor:"var(--bg-secondary)"},children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Monto por cuota:"}),c.jsx("span",{className:"font-bold",style:{color:"var(--accent-purple)"},children:Ri(C,b)})]}),A&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Primera cuota:"}),c.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:Gt(A,"d 'de' MMMM yyyy",{locale:Ai})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Ultima cuota:"}),c.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:A&&Gt(new Date(A.getFullYear(),A.getMonth()+p-1,A.getDate()),"MMMM yyyy",{locale:Ai})})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[me,"Categoria"]}),c.jsx(Fs,{name:"categoria",value:h.categoria,onChange:G,options:e,placeholder:"Seleccionar categoria",icon:me,emptyMessage:"No hay categorias",onCreateNew:()=>E(!0),createNewLabel:"Crear categora",defaultOptionIcon:""})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[ie,"Nota (opcional)"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-3",style:{color:"var(--text-secondary)"},children:ie}),c.jsx("textarea",{name:"nota",value:h.nota,onChange:G,placeholder:"Agregar una nota...",rows:2,className:"w-full pl-12 pr-4 py-3 rounded-xl resize-none transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),!(T&&p>1)&&c.jsx(Za,{value:I,onChange:R,disabled:a}),c.jsx("button",{type:"submit",disabled:!J||a||v,className:"w-full py-4 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",style:{backgroundColor:v?"var(--accent-green)":T&&p>1?"var(--accent-purple)":"var(--accent-red)"},children:v?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-6 h-6 animate-check-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),"Guardado"]}):a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):c.jsxs(c.Fragment,{children:[T&&p>1?c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}):c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),ee()]})})]}),c.jsx(Qp,{isOpen:N,onClose:()=>E(!1),type:"gasto",onCategoryCreated:z=>{f(W=>({...W,categoria:z})),l&&l()}})]})}function d2({accounts:t,onSubmit:e,loading:r,prefillData:a}){var T,D;const o=new Date().toISOString().split("T")[0],[l,u]=k.useState({fecha:(a==null?void 0:a.fecha)||o,cuentaSaliente:(a==null?void 0:a.cuentaSaliente)||"",cuentaEntrante:(a==null?void 0:a.cuentaEntrante)||"",montoSaliente:((T=a==null?void 0:a.montoSaliente)==null?void 0:T.toString())||"",montoEntrante:((D=a==null?void 0:a.montoEntrante)==null?void 0:D.toString())||"",nota:(a==null?void 0:a.nota)||""}),h=a?a.montoSaliente===a.montoEntrante:!0,[f,p]=k.useState(h),[y,v]=k.useState(!1),[w,b]=k.useState(null);k.useEffect(()=>{f&&l.montoSaliente&&u(C=>({...C,montoEntrante:C.montoSaliente}))},[f,l.montoSaliente]);const _=C=>{const{name:A,value:G}=C.target;u(Q=>({...Q,[A]:G}))},N=async C=>{if(C.preventDefault(),!l.cuentaSaliente||!l.cuentaEntrante||!l.montoSaliente||!l.montoEntrante||l.cuentaSaliente===l.cuentaEntrante)return;await e({type:"transfer",data:{...l,montoSaliente:parseFloat(l.montoSaliente),montoEntrante:parseFloat(l.montoEntrante),attachment:w}})!==!1&&(v(!0),b(null),setTimeout(()=>v(!1),1500))},E=l.cuentaSaliente&&l.cuentaEntrante&&l.montoSaliente&&l.montoEntrante&&l.cuentaSaliente!==l.cuentaEntrante,I=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),R=c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),j=t.filter(C=>C.nombre!==l.cuentaSaliente).map(C=>({value:C.nombre,label:C.nombre,icon:C.icon||null}));return c.jsxs("form",{onSubmit:N,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fecha"]}),c.jsx(Xa,{name:"fecha",value:l.fecha,onChange:_})]}),c.jsxs("div",{className:"p-4 rounded-2xl",style:{backgroundColor:"var(--bg-tertiary)"},children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cuenta de origen"]}),c.jsx(Fs,{name:"cuentaSaliente",value:l.cuentaSaliente,onChange:_,options:t.map(C=>({value:C.nombre,label:C.nombre,icon:C.icon||null})),placeholder:"Seleccionar cuenta",icon:I,emptyMessage:"No hay cuentas",defaultOptionIcon:""})]}),c.jsx("div",{className:"flex justify-center my-2",children:c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--accent-blue-dim)"},children:c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--accent-blue)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-green)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Cuenta de destino"]}),c.jsx(Fs,{name:"cuentaEntrante",value:l.cuentaEntrante,onChange:_,options:j,placeholder:"Seleccionar cuenta",icon:I,emptyMessage:l.cuentaSaliente?"No hay otras cuentas":"Selecciona cuenta de origen primero",defaultOptionIcon:""})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>p(!f),className:"relative w-12 h-7 rounded-full transition-all duration-300 active:scale-95",style:{backgroundColor:f?"var(--accent-primary)":"var(--bg-tertiary)",boxShadow:f?"0 4px 12px var(--accent-primary-glow)":"none"},children:c.jsx("span",{className:"absolute top-1 w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300",style:{left:f?"calc(100% - 24px)":"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),c.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Mismo monto en ambas cuentas"})]}),c.jsxs("div",{className:f?"":"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f?"Monto":"Monto saliente"]}),c.jsx("div",{className:"relative rounded-2xl p-4 transition-all duration-200",style:{backgroundColor:"var(--bg-tertiary)",border:"2px solid transparent"},children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--accent-blue)"},children:"$"}),c.jsx("input",{type:"number",name:"montoSaliente",value:l.montoSaliente,onChange:_,placeholder:"0",min:"0",step:"0.01",className:"flex-1 text-3xl font-bold bg-transparent outline-none",style:{color:"var(--text-primary)"}})]})})]}),!f&&c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Monto entrante"]}),c.jsx("div",{className:"relative rounded-2xl p-4 transition-all duration-200",style:{backgroundColor:"var(--bg-tertiary)",border:"2px solid transparent"},children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--accent-green)"},children:"$"}),c.jsx("input",{type:"number",name:"montoEntrante",value:l.montoEntrante,onChange:_,placeholder:"0",min:"0",step:"0.01",className:"flex-1 text-3xl font-bold bg-transparent outline-none",style:{color:"var(--text-primary)"}})]})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[R,"Nota (opcional)"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-3",style:{color:"var(--text-secondary)"},children:R}),c.jsx("textarea",{name:"nota",value:l.nota,onChange:_,placeholder:"Agregar una nota...",rows:2,className:"w-full pl-12 pr-4 py-3 rounded-xl resize-none transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"}})]})]}),c.jsx(Za,{value:w,onChange:b,disabled:r}),c.jsx("button",{type:"submit",disabled:!E||r||y,className:"w-full py-4 rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",style:{backgroundColor:y?"var(--accent-green)":"var(--accent-blue)"},children:y?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-6 h-6 animate-check-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),"Guardado"]}):r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Registrar Transferencia"]})})]})}const h2=[{id:"ingreso",label:"Ingreso",color:"var(--accent-green)",bgDim:"var(--accent-green-dim)"},{id:"gasto",label:"Gasto",color:"var(--accent-red)",bgDim:"var(--accent-red-dim)"},{id:"transferencia",label:"Transferir",color:"var(--accent-blue)",bgDim:"var(--accent-blue-dim)"}];function f2({accounts:t,categories:e,onSubmit:r,loading:a,prefillData:o,hideTypeSelector:l,onCategoryCreated:u}){const h=()=>(o==null?void 0:o.tipo)==="ingreso"?"ingreso":(o==null?void 0:o.tipo)==="transferencia"?"transferencia":((o==null?void 0:o.tipo)==="gasto","gasto"),[f,p]=k.useState(h()),y=()=>{const v={accounts:t,onSubmit:r,loading:a,onCategoryCreated:u},w=b=>o&&o.tipo===b?o:null;switch(f){case"ingreso":return c.jsx("div",{className:"animate-slide-tab",children:c.jsx(i2,{...v,categories:e.ingresos,prefillData:w("ingreso")})},"ingreso");case"gasto":return c.jsx("div",{className:"animate-slide-tab",children:c.jsx(u2,{...v,categories:e.gastos,prefillData:w("gasto")})},"gasto");case"transferencia":return c.jsx("div",{className:"animate-slide-tab",children:c.jsx(d2,{...v,prefillData:w("transferencia")})},"transferencia");default:return null}};return c.jsxs("div",{children:[!l&&c.jsx("div",{className:"inline-flex p-1 rounded-lg mb-5",style:{backgroundColor:"var(--bg-tertiary)"},children:h2.map(v=>{const w=f===v.id;return c.jsx("button",{onClick:()=>p(v.id),className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-150",style:{backgroundColor:w?v.bgDim:"transparent",color:w?v.color:"var(--text-muted)"},children:v.label},v.id)})}),y()]})}function m2({message:t,type:e="success",onClose:r,duration:a=3e3}){k.useEffect(()=>{const u=setTimeout(()=>{r()},a);return()=>clearTimeout(u)},[r,a]);const o={success:{bg:"rgba(0, 217, 154, 0.12)",border:"rgba(0, 217, 154, 0.25)",color:"var(--accent-green)",glow:"rgba(0, 217, 154, 0.2)",icon:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})},error:{bg:"rgba(255, 92, 114, 0.12)",border:"rgba(255, 92, 114, 0.25)",color:"var(--accent-red)",glow:"rgba(255, 92, 114, 0.2)",icon:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bg:"rgba(59, 130, 246, 0.12)",border:"rgba(59, 130, 246, 0.25)",color:"var(--accent-blue)",glow:"rgba(59, 130, 246, 0.2)",icon:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bg:"rgba(245, 158, 11, 0.12)",border:"rgba(245, 158, 11, 0.25)",color:"#f59e0b",glow:"rgba(245, 158, 11, 0.2)",icon:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}},l=o[e]||o.info;return c.jsxs("div",{className:"fixed top-4 left-4 right-4 z-[100] animate-bounce-in pointer-events-none",children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 rounded-2xl backdrop-blur-xl max-w-md mx-auto pointer-events-auto relative overflow-hidden",style:{backgroundColor:l.bg,border:`1px solid ${l.border}`,boxShadow:`0 8px 32px ${l.glow}, 0 4px 12px rgba(0,0,0,0.2)`},children:[c.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:l.bg,border:`1px solid ${l.border}`,color:l.color},children:l.icon}),c.jsx("p",{className:"flex-1 text-sm font-semibold",style:{color:"var(--text-primary)"},children:t}),c.jsx("button",{onClick:r,className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200 hover:bg-white/10 active:scale-95",style:{color:"var(--text-secondary)"},children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 overflow-hidden",style:{backgroundColor:"transparent"},children:c.jsx("div",{className:"h-full",style:{backgroundColor:l.color,animation:`shrink ${a}ms linear forwards`,opacity:.6}})})]}),c.jsx("style",{children:`
        @keyframes shrink {
          from {
            width: 100%;
          }
          to {
            width: 0%;
          }
        }
      `})]})}function p2({isOpen:t,onClose:e,defaultType:r}){const{accounts:a,loading:o,refetch:l}=Gj(),{categories:u,loading:h,refetch:f}=Kj(),[p,y]=k.useState(!1),[v,w]=k.useState(null),[b,_]=k.useState(0);k.useEffect(()=>{const R=j=>{j.key==="Escape"&&t&&!p&&e()};return t&&(document.addEventListener("keydown",R),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",R),document.body.style.overflow=""}},[t,p,e]),k.useEffect(()=>{t&&(_(R=>R+1),w(null))},[t]);const N=async({type:R,data:j})=>{y(!0);try{let T;switch(R){case"income":T=await f1(j);break;case"expense":T=await h1(j);break;case"expense_installments":T=await S1(j);break;case"transfer":T=await w1(j);break;default:throw new Error("Tipo de movimiento no vlido")}let D=T.message||"Movimiento registrado correctamente";R==="expense_installments"&&T.filasCreadas&&(D=`Gasto en ${T.filasCreadas} cuotas registrado correctamente`),w({message:D,type:"success"}),l(),setTimeout(()=>{e()},1500)}catch(T){w({message:T.message||"Error al registrar el movimiento",type:"error"})}finally{y(!1)}};if(!t)return null;const E=o||h,I=()=>{if(!r)return"Nuevo Movimiento";switch(r){case"expense":return"Nuevo Gasto";case"income":return"Nuevo Ingreso";case"transfer":return"Nueva Transferencia";default:return"Nuevo Movimiento"}};return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:p?void 0:e}),c.jsxs("div",{className:"relative w-full max-w-md my-auto rounded-xl animate-scale-in",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)",maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b flex-shrink-0",style:{borderColor:"var(--border-subtle)"},children:[c.jsx("h2",{className:"text-base font-medium",style:{color:"var(--text-primary)"},children:I()}),c.jsx("button",{onClick:e,disabled:p,className:"p-1.5 rounded-md transition-colors duration-150 hover:bg-[var(--bg-tertiary)] disabled:opacity-50",style:{color:"var(--text-muted)"},children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:E?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(zr,{size:"md"})}):c.jsx(f2,{accounts:a,categories:u,onSubmit:N,loading:p,prefillData:r?{tipo:r==="income"?"ingreso":r==="expense"?"gasto":"transferencia"}:null,hideTypeSelector:!!r,onCategoryCreated:f},b)}),v&&c.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:c.jsx(m2,{message:v.message,type:v.type,onClose:()=>w(null)})})]})]})}function Mm({src:t,name:e,email:r,size:a="md",className:o=""}){var y,v;const[l,u]=k.useState(!1),h={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base",xl:"w-12 h-12 text-lg"},f=h[a]||h.md,p=((v=(y=e||r)==null?void 0:y[0])==null?void 0:v.toUpperCase())||"?";return t&&!l?c.jsx("img",{src:t,alt:e||r||"Avatar",className:`${f} rounded-full object-cover ${o}`,onError:()=>u(!0),loading:"lazy"}):c.jsx("div",{className:`${f} rounded-full flex items-center justify-center font-bold ${o}`,style:{backgroundColor:"var(--accent-green-dim)",color:"var(--accent-green)"},children:p})}function zt({children:t,darkMode:e,toggleDarkMode:r}){const{user:a,profile:o,signOut:l}=Qn(),{showError:u}=Au(),[h,f]=k.useState(!1),[p,y]=k.useState(!1),[v,w]=k.useState(!1),[b,_]=k.useState(null),[N,E]=k.useState([]),[I,R]=k.useState({ingresos:[],gastos:[]}),[j,T]=k.useState(!1),[D,C]=k.useState(window.innerWidth>=1024),[A,G]=k.useState(()=>{const W=localStorage.getItem("sidebarCollapsed");return W?JSON.parse(W):!1}),[Q,J]=k.useState(!1),Z=Hr(),oe=Ui(),me=()=>{D?w(!0):oe("/nuevo")},ie=[{key:"K",alt:!0,label:"Buscar",action:()=>y(!0)},{key:"N",alt:!0,label:"Nuevo movimiento",action:me},{key:"?",ctrl:!1,shift:!0,label:"Mostrar atajos",action:()=>J(!0)},{key:"H",ctrl:!1,alt:!0,label:"Ir al inicio",action:()=>oe("/")},{key:"E",ctrl:!1,alt:!0,label:"Estadsticas",action:()=>oe("/estadisticas")},{key:"C",ctrl:!1,alt:!0,label:"Comparador",action:()=>oe("/comparador")},{key:"R",ctrl:!1,alt:!0,label:"Por categora",action:()=>oe("/resumen-categorias")},{key:"G",ctrl:!1,alt:!0,label:"Gastos",action:()=>oe("/gastos")},{key:"I",ctrl:!1,alt:!0,label:"Ingresos",action:()=>oe("/ingresos")},{key:"T",ctrl:!1,alt:!0,label:"Transferencias",action:()=>oe("/transferencias")},{key:"J",ctrl:!1,alt:!0,label:"Tarjetas",action:()=>oe("/tarjetas")},{key:"U",ctrl:!1,alt:!0,label:"Cuentas",action:()=>oe("/cuentas")},{key:"A",ctrl:!1,alt:!0,label:"Categoras",action:()=>oe("/categorias")},{key:"D",ctrl:!1,alt:!0,label:"Adjuntos",action:()=>oe("/adjuntos")},{key:"B",ctrl:!1,alt:!0,label:"Colapsar men",action:()=>G(W=>!W)},{key:"Escape",ctrl:!1,label:"Cerrar modal",action:()=>{J(!1),y(!1),w(!1)}}];k.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(A))},[A]),k.useEffect(()=>{const W=()=>{C(window.innerWidth>=1024)};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),k.useEffect(()=>{async function W(){try{const[B,O]=await Promise.all([xu(),bu()]);E(B.accounts||[]),R(O.categorias||{ingresos:[],gastos:[]})}catch(B){console.error("Error loading data for search:",B)}}a&&W()},[a]),k.useEffect(()=>{if(!D)return;const W=B=>{if(!((B.target.tagName==="INPUT"||B.target.tagName==="TEXTAREA"||B.target.isContentEditable)&&B.key!=="Escape"))for(const O of ie){const F=O.ctrl?B.ctrlKey||B.metaKey:!(B.ctrlKey||B.metaKey),pe=O.alt?B.altKey:!O.alt||!B.altKey,fe=O.shift?B.shiftKey:!O.shift||!B.shiftKey,je=B.key.toLowerCase()===O.key.toLowerCase()||B.key===O.key;if(F&&pe&&fe&&je){B.preventDefault(),O.action();return}}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[D,oe,ie]);const ve=async W=>{try{T(!0),await m1(W),_(null),window.location.reload()}catch(B){console.error("Error updating movement:",B),u("No se pudo guardar el movimiento",B.message)}finally{T(!1)}},ee=async W=>{_(null);try{await p1(W),window.location.reload()}catch(B){console.error("Error deleting movement:",B),u("No se pudo eliminar el movimiento",B.message)}},we=[{path:"/estadisticas",label:"Estadisticas",icon:"statistics",color:"var(--accent-purple)"},{path:"/comparador",label:"Comparador",icon:"comparador",color:"var(--accent-blue)"},{path:"/resumen-categorias",label:"Por categora",icon:"categorysum",color:"var(--accent-primary)"},{path:"/gastos",label:"Gastos",icon:"expense",color:"var(--accent-red)"},{path:"/ingresos",label:"Ingresos",icon:"income",color:"var(--accent-green)"},{path:"/transferencias",label:"Transferencias",icon:"transfer",color:"var(--accent-blue)"},{path:"/tarjetas",label:"Tarjetas",icon:"creditcard",color:"var(--accent-purple)"},{path:"/cuentas",label:"Cuentas",icon:"accounts",color:"var(--accent-primary)"},{path:"/categorias",label:"Categorias",icon:"categories",color:"var(--accent-primary)"},{path:"/adjuntos",label:"Adjuntos",icon:"attachments",color:"var(--accent-primary)"},{path:"/integraciones",label:"Integraciones",icon:"integrations",color:"var(--accent-primary)"}],z=W=>{const B="w-full h-full";switch(W){case"statistics":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"comparador":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})});case"expense":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})});case"income":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M5 10l7-7m0 0l7 7m-7-7v18"})});case"transfer":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});case"accounts":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})});case"creditcard":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"categories":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})});case"categorysum":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"attachments":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})});case"integrations":return c.jsx("svg",{className:B,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})});default:return null}};return c.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"var(--bg-primary)"},children:[D&&c.jsxs("aside",{className:`fixed left-0 top-0 bottom-0 flex flex-col z-40 transition-all duration-200 ${A?"w-[68px]":"w-[240px]"}`,style:{backgroundColor:"var(--bg-secondary)",borderRight:"1px solid var(--border-subtle)"},children:[c.jsxs(pn,{to:"/",className:`p-3 flex items-center ${A?"justify-center":"gap-2.5"} hover:opacity-80 transition-all duration-200`,title:"Ir al inicio",children:[c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-9 h-9 rounded-xl flex-shrink-0"}),!A&&c.jsx("div",{className:"overflow-hidden",children:c.jsx("h1",{className:"font-medium text-base tracking-tight whitespace-nowrap",style:{color:"var(--text-primary)"},children:"Cash"})})]}),c.jsx("div",{className:`${A?"px-2":"px-3"} mb-4`,children:c.jsxs("button",{onClick:me,className:`group flex items-center justify-center ${A?"w-11 h-11":"gap-2 w-full py-2.5"} rounded-lg font-medium transition-all duration-200`,style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-medium)"},title:A?"Nuevo Movimiento (Alt+N)":void 0,children:[c.jsx("svg",{className:"w-4 h-4 flex-shrink-0 transition-transform duration-200 group-hover:rotate-90",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),!A&&c.jsx("span",{className:"text-sm",children:"Nuevo"})]})}),c.jsxs("nav",{className:`flex-1 ${A?"px-2":"px-3"} overflow-y-auto`,children:[c.jsx("div",{className:"mb-1",children:c.jsxs(pn,{to:"/",end:!0,className:`group flex items-center ${A?"justify-center":"gap-2.5"} px-2.5 py-2 rounded-lg transition-all duration-150`,style:({isActive:W})=>({backgroundColor:W?"var(--bg-tertiary)":"transparent",color:W?"var(--text-primary)":"var(--text-secondary)"}),title:A?"Inicio":void 0,children:[c.jsx("svg",{className:"w-[18px] h-[18px] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),!A&&c.jsx("span",{className:"text-sm",children:"Inicio"})]})}),!A&&c.jsx("p",{className:"text-[10px] font-medium uppercase tracking-widest px-2.5 mb-1.5 mt-4",style:{color:"var(--text-muted)"},children:"Anlisis"}),A&&c.jsx("div",{className:"my-2 mx-2 border-t",style:{borderColor:"var(--border-subtle)"}}),we.slice(0,3).map(W=>c.jsxs(pn,{to:W.path,className:`flex items-center ${A?"justify-center":"gap-2.5"} px-2.5 py-2 rounded-lg transition-all duration-150 mb-0.5`,style:({isActive:B})=>({backgroundColor:B?"var(--bg-tertiary)":"transparent",color:B?"var(--text-primary)":"var(--text-secondary)"}),title:A?W.label:void 0,children:[c.jsx("div",{className:"w-[18px] h-[18px] flex-shrink-0",children:z(W.icon)}),!A&&c.jsx("span",{className:"text-sm",children:W.label})]},W.path)),!A&&c.jsx("p",{className:"text-[10px] font-medium uppercase tracking-widest px-2.5 mb-1.5 mt-4",style:{color:"var(--text-muted)"},children:"Movimientos"}),A&&c.jsx("div",{className:"my-2 mx-2 border-t",style:{borderColor:"var(--border-subtle)"}}),we.slice(3,6).map(W=>c.jsxs(pn,{to:W.path,className:`flex items-center ${A?"justify-center":"gap-2.5"} px-2.5 py-2 rounded-lg transition-all duration-150 mb-0.5`,style:({isActive:B})=>({backgroundColor:B?"var(--bg-tertiary)":"transparent",color:B?"var(--text-primary)":"var(--text-secondary)"}),title:A?W.label:void 0,children:[c.jsx("div",{className:"w-[18px] h-[18px] flex-shrink-0",children:z(W.icon)}),!A&&c.jsx("span",{className:"text-sm",children:W.label})]},W.path)),!A&&c.jsx("p",{className:"text-[10px] font-medium uppercase tracking-widest px-2.5 mb-1.5 mt-4",style:{color:"var(--text-muted)"},children:"Ajustes"}),A&&c.jsx("div",{className:"my-2 mx-2 border-t",style:{borderColor:"var(--border-subtle)"}}),we.slice(6).map(W=>c.jsxs(pn,{to:W.path,className:`flex items-center ${A?"justify-center":"gap-2.5"} px-2.5 py-2 rounded-lg transition-all duration-150 mb-0.5`,style:({isActive:B})=>({backgroundColor:B?"var(--bg-tertiary)":"transparent",color:B?"var(--text-primary)":"var(--text-secondary)"}),title:A?W.label:void 0,children:[c.jsx("div",{className:"w-[18px] h-[18px] flex-shrink-0",children:z(W.icon)}),!A&&c.jsx("span",{className:"text-sm",children:W.label})]},W.path))]}),c.jsxs("div",{className:`${A?"p-2":"p-3"} border-t`,style:{borderColor:"var(--border-subtle)"},children:[!A&&a&&c.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[c.jsx(Mm,{src:o==null?void 0:o.avatar_url,name:o==null?void 0:o.full_name,email:a.email,size:"sm"}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-xs font-medium truncate",style:{color:"var(--text-primary)"},children:(o==null?void 0:o.full_name)||"Usuario"})})]}),c.jsxs("div",{className:`flex ${A?"flex-col items-center gap-1":"items-center justify-between"}`,children:[c.jsx(mm,{darkMode:e,toggleDarkMode:r}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:async()=>{await l(),oe("/")},className:"p-1.5 rounded-md transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-muted)"},title:"Cerrar sesin",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),c.jsx("button",{onClick:()=>G(!A),className:"p-1.5 rounded-md transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-muted)"},title:A?"Expandir men":"Colapsar men",children:c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${A?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]})]})]})]}),c.jsxs("div",{className:`flex-1 flex flex-col min-h-screen transition-all duration-200 ${D?A?"ml-[68px]":"ml-[240px]":""}`,children:[!D&&c.jsxs("header",{className:"sticky top-0 z-50 px-4 py-2.5 flex items-center justify-between",style:{backgroundColor:"var(--bg-glass)",borderBottom:"1px solid var(--border-subtle)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[c.jsxs("button",{onClick:()=>oe("/"),className:"flex items-center gap-2 active:scale-95 transition-transform duration-150",style:{background:"none",border:"none",cursor:"pointer"},children:[c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-8 h-8 rounded-lg"}),c.jsx("span",{className:"text-base font-medium",style:{color:"var(--text-primary)"},children:"Cash"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Gx,{onClick:()=>y(!0)}),c.jsx(mm,{darkMode:e,toggleDarkMode:r})]})]}),D&&c.jsxs("header",{className:"sticky top-0 z-30 px-6 py-3 flex items-center justify-between",style:{backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--border-subtle)"},children:[c.jsx("div",{}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-secondary)",border:"1px solid var(--border-subtle)"},children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("span",{className:"text-sm",children:"Buscar..."}),c.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-[10px] rounded font-mono",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},children:"Alt+K"})]}),c.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-secondary)",border:"1px solid var(--border-subtle)"},title:"Atajos de teclado",children:[c.jsx("span",{className:"text-sm",children:"Atajos"}),c.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-[10px] rounded font-mono",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},children:"Shift+?"})]})]})]}),c.jsx("main",{className:`flex-1 animate-fade-in ${D?"px-8 py-6":"px-4 py-4 pb-24"}`,children:t},Z.pathname)]}),!D&&c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 safe-bottom",style:{backgroundColor:"var(--bg-glass)",borderTop:"1px solid var(--border-subtle)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:c.jsxs("div",{className:"flex items-center justify-around py-1.5 px-2 max-w-md mx-auto",children:[c.jsxs(pn,{to:"/",className:"flex flex-col items-center px-4 py-1.5 rounded-lg transition-colors duration-150 active:scale-95",style:({isActive:W})=>({color:W?"var(--text-primary)":"var(--text-muted)"}),children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),c.jsx("span",{className:"text-[10px] mt-0.5",children:"Inicio"})]}),c.jsxs(pn,{to:"/nuevo",className:"flex flex-col items-center px-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center -mt-4 transition-transform duration-150 active:scale-95",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-medium)"},children:c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsx("span",{className:"text-[10px] mt-1",style:{color:Z.pathname==="/nuevo"?"var(--text-primary)":"var(--text-muted)"},children:"Nuevo"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"flex flex-col items-center px-4 py-1.5 rounded-lg transition-colors duration-150 active:scale-95",style:{color:h?"var(--text-primary)":"var(--text-muted)"},children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M4 6h16M4 12h16M4 18h16"})}),c.jsx("span",{className:"text-[10px] mt-0.5",children:"Men"})]})]})}),!D&&h&&c.jsxs("div",{className:"fixed inset-0 z-[60]",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:()=>f(!1)}),c.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-[260px] animate-slide-in-right overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"1px solid var(--border-subtle)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid var(--border-subtle)"},children:[c.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Men"}),c.jsx("button",{onClick:()=>f(!1),className:"p-1.5 rounded-md transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-muted)"},children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-2 space-y-0.5 overflow-y-auto",style:{maxHeight:"calc(100vh - 120px)"},children:we.map(W=>c.jsxs(pn,{to:W.path,onClick:()=>f(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-lg transition-colors duration-150 active:scale-[0.98]",style:({isActive:B})=>({backgroundColor:B?"var(--bg-tertiary)":"transparent",color:B?"var(--text-primary)":"var(--text-secondary)"}),children:[c.jsx("div",{className:"w-[18px] h-[18px]",children:z(W.icon)}),c.jsx("span",{className:"text-sm",children:W.label})]},W.path))}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 py-3",style:{borderTop:"1px solid var(--border-subtle)",backgroundColor:"var(--bg-primary)"},children:a&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mm,{src:o==null?void 0:o.avatar_url,name:o==null?void 0:o.full_name,email:a.email,size:"sm"}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-xs font-medium truncate",style:{color:"var(--text-primary)"},children:(o==null?void 0:o.full_name)||"Usuario"})}),c.jsx("button",{onClick:async()=>{f(!1),await l(),oe("/")},className:"p-1.5 rounded-md transition-colors duration-150 hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-muted)"},title:"Cerrar sesin",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})]}),c.jsx("style",{children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
          }
          to {
            transform: translateX(0);
          }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `}),c.jsx(y_,{isOpen:p,onClose:()=>y(!1),onMovementClick:_}),Q&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>J(!1),children:c.jsxs("div",{className:"w-full max-w-lg rounded-2xl p-6 animate-fade-in",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},onClick:W=>W.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:c.jsx("svg",{className:"w-5 h-5",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),c.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Atajos de Teclado"})]}),c.jsx("button",{onClick:()=>J(!1),className:"p-2 rounded-xl transition-colors hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-secondary)"},children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-secondary)"},children:"General"}),c.jsx("div",{className:"space-y-2",children:ie.filter(W=>W.ctrl||W.key==="Escape"||W.shift).map((W,B)=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl",style:{backgroundColor:"var(--bg-tertiary)"},children:[c.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:W.label}),c.jsxs("div",{className:"flex items-center gap-1",children:[W.ctrl&&c.jsx("kbd",{className:"px-2 py-1 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:"Ctrl"}),W.shift&&c.jsx("kbd",{className:"px-2 py-1 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:"Shift"}),W.alt&&c.jsx("kbd",{className:"px-2 py-1 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:"Alt"}),c.jsx("span",{className:"text-xs mx-1",style:{color:"var(--text-secondary)"},children:"+"}),c.jsx("kbd",{className:"px-2 py-1 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:W.key})]})]},B))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-secondary)"},children:"Navegacin (Alt + Tecla)"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:ie.filter(W=>W.alt&&!W.ctrl).map((W,B)=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl",style:{backgroundColor:"var(--bg-tertiary)"},children:[c.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:W.label}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:"Alt"}),c.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"+"}),c.jsx("kbd",{className:"px-1.5 py-0.5 text-xs rounded font-mono",style:{backgroundColor:"var(--bg-elevated)",color:"var(--accent-primary)"},children:W.key})]})]},B))})]})]}),c.jsx("div",{className:"mt-6 pt-4",style:{borderTop:"1px solid var(--border-subtle)"},children:c.jsxs("p",{className:"text-xs text-center",style:{color:"var(--text-secondary)"},children:["Presiona ",c.jsx("kbd",{className:"px-1.5 py-0.5 rounded font-mono text-xs",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--accent-primary)"},children:"Esc"})," para cerrar"]})})]})}),b&&c.jsx(Yj,{movement:b,accounts:N,categories:I,onSave:ve,onDelete:ee,onClose:()=>_(null),loading:j}),c.jsx(p2,{isOpen:v,onClose:()=>w(!1)})]})}function Ji(){const t=k.useRef(null),e=k.useRef([]),r=k.useRef(null),a=[{src:"icons/catalog/banco-ciudad.svg",size:28},{src:"icons/catalog/banco-galicia.svg",size:28},{src:"icons/catalog/banco-nacion.svg",size:30},{src:"icons/catalog/banco-provincia.svg",size:28},{src:"icons/catalog/banco-supervielle.svg",size:26},{src:"icons/catalog/belo.svg",size:26},{src:"icons/catalog/brubank.svg",size:28},{src:"icons/catalog/buenbit.svg",size:26},{src:"icons/catalog/cocos.svg",size:28},{src:"icons/catalog/cuenta-dni.svg",size:28},{src:"icons/catalog/HSBC.svg",size:28},{src:"icons/catalog/ieb.svg",size:26},{src:"icons/catalog/lemon.svg",size:28},{src:"icons/catalog/mercadopago.svg",size:30},{src:"icons/catalog/modo.svg",size:28},{src:"icons/catalog/naranja-x.svg",size:28},{src:"icons/catalog/uala.svg",size:28}];k.useEffect(()=>{const u=t.current;if(!u)return;const h=u.getBoundingClientRect(),f=a.map((y,v)=>({x:Math.random()*(h.width-y.size-100)+50,y:Math.random()*(h.height-y.size-100)+50,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*.3,size:y.size})),p=()=>{const y=u.getBoundingClientRect();f.forEach((v,w)=>{const b=e.current[w];b&&(v.x+=v.vx,v.y+=v.vy,v.rotation+=v.rotationSpeed,(v.x<=0||v.x>=y.width-v.size)&&(v.vx*=-1,v.x=Math.max(0,Math.min(v.x,y.width-v.size))),(v.y<=0||v.y>=y.height-v.size)&&(v.vy*=-1,v.y=Math.max(0,Math.min(v.y,y.height-v.size))),b.style.transform=`translate(${v.x}px, ${v.y}px) rotate(${v.rotation}deg)`)}),r.current=requestAnimationFrame(p)};return r.current=requestAnimationFrame(p),()=>{r.current&&cancelAnimationFrame(r.current)}},[]);const o=u=>h=>{e.current[u]=h},l="/";return c.jsxs("div",{ref:t,className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full opacity-30 blur-[100px]",style:{background:"radial-gradient(circle, var(--accent-primary) 0%, transparent 70%)",top:"-200px",right:"-200px",animation:"float-slow 20s ease-in-out infinite"}}),c.jsx("div",{className:"absolute w-[500px] h-[500px] rounded-full opacity-20 blur-[100px]",style:{background:"radial-gradient(circle, var(--accent-green) 0%, transparent 70%)",bottom:"-150px",left:"-150px",animation:"float-slow 25s ease-in-out infinite reverse"}}),c.jsx("div",{className:"absolute w-[400px] h-[400px] rounded-full opacity-15 blur-[80px]",style:{background:"radial-gradient(circle, var(--accent-blue) 0%, transparent 70%)",top:"40%",left:"50%",animation:"pulse-soft 15s ease-in-out infinite"}}),a.map((u,h)=>c.jsx("img",{ref:o(h),src:`${l}${u.src}`,alt:"",className:"absolute select-none rounded-lg",style:{width:u.size,height:u.size,opacity:.15,top:0,left:0,willChange:"transform"}},h)),c.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`
            linear-gradient(var(--text-primary) 1px, transparent 1px),
            linear-gradient(90deg, var(--text-primary) 1px, transparent 1px)
          `,backgroundSize:"60px 60px"}})]})}const g2=()=>{const{user:t,loading:e}=Qn();return e?c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsx(zr,{size:"lg"})}):t?c.jsx(to,{to:"/home",replace:!0}):c.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[c.jsx(Ji,{}),c.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[c.jsxs("header",{className:"p-4 md:p-6 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-10 h-10 rounded-xl"}),c.jsx("span",{className:"font-display font-bold text-xl",style:{color:"var(--text-primary)"},children:"Cash"})]}),c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[c.jsx(sr,{to:"/login",className:"px-3 sm:px-4 py-2 rounded-xl font-medium text-sm transition-all hover:opacity-80",style:{color:"var(--text-secondary)"},children:"Iniciar sesin"}),c.jsx(sr,{to:"/register",className:"px-3 sm:px-4 py-2 rounded-xl font-medium text-sm transition-all hover:opacity-90 hover:scale-105",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Registrarse"})]})]}),c.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center py-12",children:[c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8 relative",children:[c.jsx("div",{className:"absolute inset-0 w-24 h-24 mx-auto rounded-3xl blur-xl opacity-50",style:{backgroundColor:"var(--accent-primary)"}}),c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-24 h-24 mx-auto rounded-3xl relative animate-float",style:{boxShadow:"0 8px 32px rgba(20, 184, 166, 0.4)"}})]}),c.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold mb-4 animate-fade-in",style:{color:"var(--text-primary)"},children:["Tus finanzas,"," ",c.jsxs("span",{className:"relative",children:[c.jsx("span",{style:{color:"var(--accent-primary)"},children:"simplificadas"}),c.jsx("svg",{className:"absolute -bottom-2 left-0 w-full",viewBox:"0 0 200 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 5.5C47.5 2 152.5 2 199 5.5",stroke:"var(--accent-primary)",strokeWidth:"2",strokeLinecap:"round",style:{opacity:.5}})})]})]}),c.jsx("p",{className:"text-lg md:text-xl mb-10 max-w-lg mx-auto animate-fade-in stagger-1",style:{color:"var(--text-secondary)"},children:"Control tus ingresos, gastos y transferencias en un solo lugar. Multi-moneda, tarjetas de crdito y ms."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in stagger-2",children:[c.jsxs(sr,{to:"/register",className:"group px-8 py-4 rounded-2xl font-semibold text-lg transition-all hover:scale-105 active:scale-95 relative overflow-hidden",style:{backgroundColor:"var(--accent-primary)",color:"white",boxShadow:"0 4px 20px rgba(20, 184, 166, 0.4)"},children:[c.jsx("span",{className:"relative z-10",children:"Comenzar gratis"}),c.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(135deg, var(--accent-primary-light) 0%, var(--accent-primary) 100%)"}})]}),c.jsx(sr,{to:"/login",className:"px-8 py-4 rounded-2xl font-semibold text-lg transition-all hover:scale-105 active:scale-95 backdrop-blur-sm",style:{backgroundColor:"var(--bg-glass)",color:"var(--text-primary)",border:"1px solid var(--border-medium)"},children:"Ya tengo cuenta"})]})]}),c.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 max-w-4xl mx-auto px-4 w-full",children:[c.jsx(nu,{icon:"",title:"Multi-moneda",description:"Manej pesos y dlares con tipo de cambio en tiempo real",delay:"0"}),c.jsx(nu,{icon:"",title:"Tarjetas de crdito",description:"Control tus compras en cuotas y fechas de cierre",delay:"1"}),c.jsx(nu,{icon:"",title:"Estadsticas",description:"Visualiz tus gastos por categora y perodo",delay:"2"})]})]}),c.jsx("footer",{className:"p-6 text-center relative",style:{color:"var(--text-muted)"},children:c.jsx("p",{className:"text-sm",children:" 2026 Cash. Hecho con  para manejar tus finanzas."})})]})]})},nu=({icon:t,title:e,description:r,delay:a})=>c.jsxs("div",{className:`p-6 rounded-2xl text-left backdrop-blur-sm transition-all hover:scale-105 hover:shadow-lg animate-fade-in stagger-${a}`,style:{backgroundColor:"var(--bg-glass)",border:"1px solid var(--border-subtle)"},children:[c.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl mb-4",style:{backgroundColor:"var(--bg-tertiary)"},children:t}),c.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:"var(--text-primary)"},children:e}),c.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:r})]}),y2=()=>{var A,G;const[t,e]=k.useState(""),[r,a]=k.useState(""),[o,l]=k.useState(""),[u,h]=k.useState(!1),[f,p]=k.useState(!1),[y,v]=k.useState(!1),{signIn:w,signInWithGoogle:b,resetPassword:_,user:N,loading:E}=Qn(),I=Ui(),j=((G=(A=Hr().state)==null?void 0:A.from)==null?void 0:G.pathname)||"/home";if(E)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsx(zr,{size:"lg"})});if(N)return c.jsx(to,{to:"/home",replace:!0});const T=async Q=>{Q.preventDefault(),l(""),h(!0);const{error:J}=await w(t,r);J?(J.message.includes("Invalid login credentials")?l("Email o contrasea incorrectos"):J.message.includes("Email not confirmed")?l("Por favor confirm tu email antes de iniciar sesin"):l(J.message),h(!1)):I(j,{replace:!0})},D=async()=>{l("");const{error:Q}=await b();Q&&l(Q.message)},C=async Q=>{if(Q.preventDefault(),!t){l("Ingres tu email para recuperar la contrasea");return}h(!0),l("");const{error:J}=await _(t);J?l(J.message):v(!0),h(!1)};return c.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[c.jsx(Ji,{}),c.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[c.jsx("header",{className:"p-4",children:c.jsxs(sr,{to:"/",className:"flex items-center gap-3 w-fit",children:[c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-10 h-10 rounded-xl"}),c.jsx("span",{className:"font-display font-bold text-xl",style:{color:"var(--text-primary)"},children:"Cash"})]})}),c.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-8",children:c.jsxs("div",{className:"w-full max-w-md p-8 rounded-3xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:[c.jsx("h1",{className:"font-display text-2xl font-bold text-center mb-2",style:{color:"var(--text-primary)"},children:f?"Recuperar contrasea":"Bienvenido de vuelta"}),c.jsx("p",{className:"text-center mb-6",style:{color:"var(--text-secondary)"},children:f?"Te enviaremos un email para restablecer tu contrasea":"Ingres a tu cuenta para continuar"}),y?c.jsxs("div",{className:"p-4 rounded-xl text-center mb-4",style:{backgroundColor:"var(--accent-green-dim)",color:"var(--accent-green)"},children:[c.jsx("p",{className:"font-medium",children:"Email enviado!"}),c.jsx("p",{className:"text-sm mt-1",children:"Revis tu bandeja de entrada para restablecer tu contrasea"})]}):c.jsxs(c.Fragment,{children:[!f&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:D,className:"w-full py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-3 transition-all hover:opacity-90 active:scale-98",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-medium)"},children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]}),c.jsxs("div",{className:"flex items-center gap-4 my-6",children:[c.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:"var(--border-medium)"}}),c.jsx("span",{style:{color:"var(--text-muted)"},className:"text-sm",children:"o"}),c.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:"var(--border-medium)"}})]})]}),o&&c.jsx("div",{className:"p-3 rounded-xl text-sm mb-4",style:{backgroundColor:"var(--accent-red-dim)",color:"var(--accent-red)"},children:o}),c.jsxs("form",{onSubmit:f?C:T,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email"}),c.jsx("input",{type:"email",value:t,onChange:Q=>e(Q.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"tu@email.com",required:!0})]}),!f&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Contrasea"}),c.jsx("input",{type:"password",value:r,onChange:Q=>a(Q.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"",required:!0})]})]}),!f&&c.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm mt-3 hover:underline",style:{color:"var(--accent-primary)"},children:"Olvidaste tu contrasea?"}),c.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 px-4 rounded-xl font-semibold mt-6 transition-all hover:opacity-90 active:scale-98 disabled:opacity-50",style:{backgroundColor:"var(--accent-green)",color:"#000"},children:u?c.jsx(zr,{size:"sm"}):f?"Enviar email":"Iniciar sesin"}),f&&c.jsx("button",{type:"button",onClick:()=>{p(!1),v(!1),l("")},className:"w-full py-3 px-4 rounded-xl font-medium mt-3 transition-all hover:opacity-80",style:{color:"var(--text-secondary)"},children:"Volver al login"})]})]}),!f&&!y&&c.jsxs("p",{className:"text-center mt-6",style:{color:"var(--text-secondary)"},children:["No tens cuenta?"," ",c.jsx(sr,{to:"/register",className:"font-medium hover:underline",style:{color:"var(--accent-green)"},children:"Registrate"})]})]})})]})]})},v2=()=>{const[t,e]=k.useState(""),[r,a]=k.useState(""),[o,l]=k.useState(""),[u,h]=k.useState(""),[f,p]=k.useState(""),[y,v]=k.useState(!1),[w,b]=k.useState(!1),{signUp:_,signInWithGoogle:N,user:E,loading:I}=Qn();if(I)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsx(zr,{size:"lg"})});if(E)return c.jsx(to,{to:"/home",replace:!0});const R=async T=>{if(T.preventDefault(),p(""),o!==u){p("Las contraseas no coinciden");return}if(o.length<6){p("La contrasea debe tener al menos 6 caracteres");return}v(!0);const{error:D}=await _(r,o,t);D?(D.message.includes("already registered")?p("Este email ya est registrado"):p(D.message),v(!1)):(b(!0),v(!1))},j=async()=>{p("");const{error:T}=await N();T&&p(T.message)};return c.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[c.jsx(Ji,{}),c.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[c.jsx("header",{className:"p-4",children:c.jsxs(sr,{to:"/",className:"flex items-center gap-3 w-fit",children:[c.jsx("img",{src:"/icons/icon-192.png",alt:"Cash",className:"w-10 h-10 rounded-xl"}),c.jsx("span",{className:"font-display font-bold text-xl",style:{color:"var(--text-primary)"},children:"Cash"})]})}),c.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-8",children:c.jsx("div",{className:"w-full max-w-md p-8 rounded-3xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:w?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--accent-green-dim)"},children:c.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:"var(--accent-green)"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"font-display text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Revis tu email!"}),c.jsxs("p",{style:{color:"var(--text-secondary)"},className:"mb-6",children:["Te enviamos un link de confirmacin a ",c.jsx("strong",{children:r}),". Hac click en el link para activar tu cuenta."]}),c.jsx(sr,{to:"/login",className:"inline-block px-6 py-3 rounded-xl font-medium transition-all hover:opacity-90",style:{backgroundColor:"var(--accent-green)",color:"#000"},children:"Ir al login"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"font-display text-2xl font-bold text-center mb-2",style:{color:"var(--text-primary)"},children:"Cre tu cuenta"}),c.jsx("p",{className:"text-center mb-6",style:{color:"var(--text-secondary)"},children:"Empez a controlar tus finanzas hoy"}),c.jsxs("button",{onClick:j,className:"w-full py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-3 transition-all hover:opacity-90 active:scale-98",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-medium)"},children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Registrarse con Google"]}),c.jsxs("div",{className:"flex items-center gap-4 my-6",children:[c.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:"var(--border-medium)"}}),c.jsx("span",{style:{color:"var(--text-muted)"},className:"text-sm",children:"o"}),c.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:"var(--border-medium)"}})]}),f&&c.jsx("div",{className:"p-3 rounded-xl text-sm mb-4",style:{backgroundColor:"var(--accent-red-dim)",color:"var(--accent-red)"},children:f}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Nombre completo"}),c.jsx("input",{type:"text",value:t,onChange:T=>e(T.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"Juan Prez",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email"}),c.jsx("input",{type:"email",value:r,onChange:T=>a(T.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"tu@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Contrasea"}),c.jsx("input",{type:"password",value:o,onChange:T=>l(T.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"Mnimo 6 caracteres",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirmar contrasea"}),c.jsx("input",{type:"password",value:u,onChange:T=>h(T.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},placeholder:"Repet tu contrasea",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:y,className:"w-full py-3 px-4 rounded-xl font-semibold mt-6 transition-all hover:opacity-90 active:scale-98 disabled:opacity-50",style:{backgroundColor:"var(--accent-green)",color:"#000"},children:y?c.jsx(zr,{size:"sm"}):"Crear cuenta"})]}),c.jsxs("p",{className:"text-center mt-6",style:{color:"var(--text-secondary)"},children:["Ya tens cuenta?"," ",c.jsx(sr,{to:"/login",className:"font-medium hover:underline",style:{color:"var(--accent-green)"},children:"Inici sesin"})]})]})})})]})]})};function w2(){const[t,e]=k.useState("loading"),[r,a]=k.useState(""),[o,l]=k.useState(""),[u,h]=k.useState(!1);k.useEffect(()=>{const w=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,b=new URLSearchParams(w),_=b.get("access_token"),N=b.get("refresh_token");if(!_||!N){e("missing"),l("Link invlido o incompleto. Solicita nuevamente el correo de recuperacin.");return}(async()=>{const{error:I}=await H.auth.setSession({access_token:_,refresh_token:N});I?(e("error"),l(I.message||"No se pudo validar el enlace.")):e("ready")})()},[]);const f=async w=>{if(w.preventDefault(),!r){l("Ingresa una nueva contrasea.");return}h(!0),l("");const{error:b}=await H.auth.updateUser({password:r});b?(e("error"),l(b.message||"No se pudo actualizar la contrasea.")):(e("done"),l("Contrasea actualizada. Ya puedes iniciar sesin.")),h(!1)},p={backgroundColor:"var(--bg-secondary)"},y={color:"var(--text-primary)"},v={color:"var(--text-secondary)"};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[c.jsx(Ji,{}),c.jsxs("div",{className:"w-full max-w-md rounded-2xl p-6 shadow-lg relative z-10",style:p,children:[c.jsx("h1",{className:"text-xl font-semibold mb-2",style:y,children:"Recuperar contrasea"}),c.jsx("p",{className:"text-sm mb-4",style:v,children:"Define una nueva contrasea para tu cuenta."}),o&&c.jsx("div",{className:"mb-4 text-sm p-3 rounded-xl",style:{backgroundColor:"var(--bg-tertiary)",color:t==="error"?"var(--accent-red)":"var(--text-primary)"},children:o}),t==="ready"&&c.jsxs("form",{onSubmit:f,className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",style:v,children:"Nueva contrasea"}),c.jsx("input",{type:"password",value:r,onChange:w=>a(w.target.value),className:"w-full px-4 py-3 rounded-xl transition-all duration-200 border-2 border-transparent focus:border-[var(--accent-primary)]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},placeholder:"",autoFocus:!0})]}),c.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-xl font-semibold text-white disabled:opacity-60 transition-colors",style:{backgroundColor:"var(--accent-primary)"},children:u?"Guardando...":"Guardar nueva contrasea"})]}),t==="done"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm",style:y,children:"Tu contrasea fue actualizada."}),c.jsx(sr,{to:"/login",className:"block text-center py-3 rounded-xl font-semibold text-white",style:{backgroundColor:"var(--accent-primary)"},children:"Ir a iniciar sesin"})]}),t==="loading"&&c.jsx("p",{className:"text-sm",style:v,children:"Validando enlace..."}),t==="missing"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm",style:y,children:o}),c.jsx(sr,{to:"/login",className:"block text-center py-3 rounded-xl font-semibold text-white",style:{backgroundColor:"var(--accent-primary)"},children:"Volver al login"})]}),t==="error"&&o&&!["ready","done","missing"].includes(t)&&c.jsx("p",{className:"text-sm",style:y,children:o})]})]})}function x2(){return c.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Poltica de Privacidad"}),c.jsx("p",{className:"text-zinc-400 mb-8",children:"ltima actualizacin: Enero 2026"}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Informacin que recopilamos"}),c.jsx("p",{className:"text-zinc-300 mb-4",children:"Cash recopila la siguiente informacin para brindarte el servicio:"}),c.jsxs("ul",{className:"list-disc list-inside text-zinc-300 space-y-2 ml-4",children:[c.jsx("li",{children:"Informacin de tu cuenta de Google (nombre, email, foto de perfil) cuando inicis sesin"}),c.jsx("li",{children:"Datos financieros que ingress voluntariamente (cuentas, categoras, movimientos)"}),c.jsx("li",{children:"Tu nmero de WhatsApp si decids vincular el bot"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"2. Cmo usamos tu informacin"}),c.jsx("p",{className:"text-zinc-300 mb-4",children:"Usamos tu informacin exclusivamente para:"}),c.jsxs("ul",{className:"list-disc list-inside text-zinc-300 space-y-2 ml-4",children:[c.jsx("li",{children:"Permitirte acceder a tu cuenta"}),c.jsx("li",{children:"Guardar y mostrar tus datos financieros"}),c.jsx("li",{children:"Procesar mensajes del bot de WhatsApp"}),c.jsx("li",{children:"Mejorar el servicio"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"3. Almacenamiento de datos"}),c.jsx("p",{className:"text-zinc-300",children:"Tus datos se almacenan de forma segura en Supabase, con encriptacin en trnsito y en reposo. No compartimos tu informacin con terceros, excepto los servicios necesarios para operar (Supabase para la base de datos, Meta para WhatsApp)."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"4. Bot de WhatsApp"}),c.jsx("p",{className:"text-zinc-300",children:"Si vinculs tu cuenta con WhatsApp, procesamos los mensajes que envis al bot para registrar movimientos y responder consultas. No almacenamos el contenido de los mensajes ms all de lo necesario para procesar cada solicitud."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"5. Tus derechos"}),c.jsx("p",{className:"text-zinc-300 mb-4",children:"Tens derecho a:"}),c.jsxs("ul",{className:"list-disc list-inside text-zinc-300 space-y-2 ml-4",children:[c.jsx("li",{children:"Acceder a todos tus datos desde la app"}),c.jsx("li",{children:"Eliminar tu cuenta y todos los datos asociados"}),c.jsx("li",{children:"Desvincular WhatsApp en cualquier momento"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"6. Contacto"}),c.jsxs("p",{className:"text-zinc-300",children:["Si tens preguntas sobre esta poltica, pods contactarnos en"," ",c.jsx("a",{href:"mailto:privacidad@cashe.ar",className:"text-teal-400 hover:underline",children:"privacidad@cashe.ar"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"7. Cambios a esta poltica"}),c.jsx("p",{className:"text-zinc-300",children:"Podemos actualizar esta poltica ocasionalmente. Te notificaremos de cambios significativos a travs de la app."})]}),c.jsx("div",{className:"mt-12 pt-8 border-t border-zinc-800",children:c.jsx("a",{href:"/",className:"text-teal-400 hover:underline",children:" Volver a Cash"})})]})})}const b2=k.lazy(()=>Jt(()=>import("./Home-BhMmwUhc.js"),__vite__mapDeps([0,1]))),k2=k.lazy(()=>Jt(()=>import("./NewMovement-7Pvz5xKA.js"),[])),_2=k.lazy(()=>Jt(()=>import("./Accounts-V13ftgKu.js"),__vite__mapDeps([2,3]))),j2=k.lazy(()=>Jt(()=>import("./Categories-CFFANx5P.js"),__vite__mapDeps([4,3]))),S2=k.lazy(()=>Jt(()=>import("./Expenses-C1ijGbC6.js"),__vite__mapDeps([5,6,1,3]))),E2=k.lazy(()=>Jt(()=>import("./Income-yceNiKwJ.js"),__vite__mapDeps([7,6,1,3]))),C2=k.lazy(()=>Jt(()=>import("./Transfers-BF5z0ELl.js"),__vite__mapDeps([8,6,1,3]))),N2=k.lazy(()=>Jt(()=>import("./Statistics-8jvpnf3M.js"),__vite__mapDeps([9,1,10,11]))),T2=k.lazy(()=>Jt(()=>import("./Comparador-DPqPPSjF.js"),__vite__mapDeps([12,1,10,11]))),O2=k.lazy(()=>Jt(()=>import("./CategorySummary-CGgA59nN.js"),__vite__mapDeps([13,1,10]))),P2=k.lazy(()=>Jt(()=>import("./CreditCards-DufTSbRC.js"),[])),M2=k.lazy(()=>Jt(()=>import("./Attachments-7FLtvVT7.js"),[])),R2=k.lazy(()=>Jt(()=>import("./Integrations-D-N-t0YJ.js"),[])),Ft=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsx(zr,{size:"lg"})});function I2(){const[t,e]=k.useState(()=>{const o=localStorage.getItem("darkMode");return o!==null?JSON.parse(o):!0});k.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(t)),t?document.documentElement.classList.remove("light"):document.documentElement.classList.add("light")},[t]);const r=()=>e(!t);return c.jsx(Hx,{children:c.jsx(qx,{children:c.jsxs(s0,{basename:"/",children:[c.jsx(Vx,{}),c.jsx(Yx,{}),c.jsxs(Jv,{children:[c.jsx(lt,{path:"/",element:c.jsx(g2,{})}),c.jsx(lt,{path:"/login",element:c.jsx(y2,{})}),c.jsx(lt,{path:"/register",element:c.jsx(v2,{})}),c.jsx(lt,{path:"/reset-password",element:c.jsx(w2,{})}),c.jsx(lt,{path:"/privacidad",element:c.jsx(x2,{})}),c.jsx(lt,{path:"/home",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(b2,{})})})})}),c.jsx(lt,{path:"/nuevo",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(k2,{})})})})}),c.jsx(lt,{path:"/cuentas",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(_2,{})})})})}),c.jsx(lt,{path:"/categorias",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(j2,{})})})})}),c.jsx(lt,{path:"/gastos",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(S2,{})})})})}),c.jsx(lt,{path:"/ingresos",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(E2,{})})})})}),c.jsx(lt,{path:"/transferencias",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(C2,{})})})})}),c.jsx(lt,{path:"/estadisticas",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(N2,{})})})})}),c.jsx(lt,{path:"/comparador",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(T2,{})})})})}),c.jsx(lt,{path:"/resumen-categorias",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(O2,{})})})})}),c.jsx(lt,{path:"/tarjetas",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(P2,{})})})})}),c.jsx(lt,{path:"/adjuntos",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(M2,{})})})})}),c.jsx(lt,{path:"/integraciones",element:c.jsx(Bt,{children:c.jsx(zt,{darkMode:t,toggleDarkMode:r,children:c.jsx(k.Suspense,{fallback:c.jsx(Ft,{}),children:c.jsx(R2,{})})})})}),c.jsx(lt,{path:"*",element:c.jsx(to,{to:"/",replace:!0})})]})]})})})}sv.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(I2,{})}));export{p2 as $,h1 as A,f1 as B,Qn as C,e2 as D,Yj as E,Su as F,a2 as G,Xj as H,Zj as I,n2 as J,s2 as K,zr as L,f2 as M,Eu as N,W2 as O,$2 as P,U2 as Q,B2 as R,J2 as S,m2 as T,$u as U,o2 as V,c1 as W,z2 as X,F2 as Y,q2 as Z,Y2 as _,r2 as a,eS as a0,Z2 as a1,G2 as a2,K2 as a3,V2 as a4,H2 as a5,ym as a6,Xx as a7,Fs as a8,W1 as a9,b1 as aa,kp as ab,A2 as ac,Ky as ad,Cu as ae,Zy as af,yp as ag,Vj as ah,Qx as ai,tS as aj,Lk as ak,nS as al,rS as am,H as an,Kx as ao,L2 as ap,Gt as b,Ai as c,sS as d,_p as e,Ri as f,Au as g,$1 as h,Li as i,c as j,U1 as k,Q2 as l,X2 as m,xu as n,bu as o,p1 as p,m1 as q,k as r,Fr as s,Te as t,Ui as u,Hr as v,Gj as w,Kj as x,w1 as y,S1 as z};
