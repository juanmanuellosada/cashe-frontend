import{af as Nn,ag as An,ah as kn,ai as En,aj as On,r as l,ak as tr,j as n,b as X,e as ee,i as Ke,a as _e,f as K,v as Cn,w as Sn,al as nt,s as st,p as it,am as In}from"./index-MY64-eYD.js";import{c as te,s as pe,r as Dn,i as de,a as ja,b as U,d as z,e as Pa,f as Mn,g as Ln,h as ue,j as Tn,k as wa,p as rr,l as $n,m as Na,n as ar,o as Rn,q as Kn,t as _n,u as Bn,v as Wn,w as Fn,x as V,D as Ae,Z as me,y as yt,z as ne,A as Aa,B as ka,C as se,E as Xe,F as zn,G as Gn,H as Vn,L as G,P as qn,I as Un,J as gt,K as Ea,M as Oa,T as Ca,N as Hn,O as Yn,Q as Xn,R as ke,S as ct,U as nr,V as Zn,W as Jn,X as Qn,Y as Te,_ as es,$ as ts,a0 as bt,a1 as $e,a2 as jt,a3 as rs,a4 as as,a5 as Be,a6 as Pt,a7 as we,a8 as ns,a9 as sr,aa as ir,ab as or,ac as lr,ad as Y,ae as ss,af as is,ag as os,ah as ls,ai as cs,aj as Or,ak as ds,al as us,am as ms,an as fs,ao as he,ap as Cr,aq as Ze,ar as ps,as as wt,at as Nt,au as hs,av as Sa,aw as Ia,ax as Da,ay as Ma,az as La,aA as Ta,aB as $a,aC as Ra,aD as xs,aE as dt,aF as vs,aG as ys,aH as gs,aI as cr,aJ as dr,aK as bs,aL as js,aM as Ps,aN as ws,aO as Ns,aP as St,aQ as Ka,aR as As,aS as ks,aT as Es,aU as ur,aV as At,aW as Os,aX as Cs,aY as _a,aZ as Ba,a_ as Ss,a$ as Is,b0 as Ds,b1 as Ms,b2 as Ls,b3 as Ts,b4 as $s,b5 as Rs,b6 as Ks,b7 as _s,b8 as Bs,b9 as Wa,ba as Ws,bb as Fs,bc as Sr,bd as zs,be as Gs,bf as Vs,bg as qs,bh as Us,bi as Hs,bj as Fa,bk as Ys,bl as Xs,bm as za,bn as Ga,bo as Va,bp as qa,bq as Ua,br as Zs,bs as kt,bt as Et,bu as ut,bv as Js}from"./PieChart-Xut2Dk2U.js";import{C as B,a as W,b as F,c as Z,d as J,A as xe,e as Je,B as Ee,T as Oe,f as ve,g as ye,h as mr,i as Ot,j as Qs,k as ei,l as Ir,m as fe}from"./AnimatedChart-BCLUfbW0.js";import"./DateRangePicker-DmAyJk5W.js";function ti(e,t,r){const[a,s]=Nn(r==null?void 0:r.in,e,t),i=Dr(a,s),o=Math.abs(An(a,s));a.setDate(a.getDate()-i*o);const c=+(Dr(a,s)===-i),d=i*(o-c);return d===0?0:d}function Dr(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function ri(e,t){const{start:r,end:a}=kn(t==null?void 0:t.in,e);let s=+r>+a;const i=s?+r:+a,o=s?a:r;o.setHours(0,0,0,0);let c=1;const d=[];for(;+o<=i;)d.push(En(r,o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return s?d.reverse():d}function Mr(e,t,r){return On(e,-t,r)}var ai=["points","className","baseLinePoints","connectNulls"],Lr;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},De.apply(null,arguments)}function ni(e,t){if(e==null)return{};var r,a,s=si(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function si(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ii(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Tr=e=>e&&e.x===+e.x&&e.y===+e.y,oi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(a=>{Tr(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),Tr(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ge=(e,t)=>{var r=oi(e);t&&(r=[r.reduce((s,i)=>[...s,...i],[])]);var a=r.map(s=>s.reduce((i,o,c)=>Dn(Lr||(Lr=ii(["","","",",",""])),i,c===0?"M":"L",o.x,o.y),"")).join("");return r.length===1?"".concat(a,"Z"):a},li=(e,t,r)=>{var a=Ge(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ge(Array.from(t).reverse(),r).slice(1))},fr=e=>{var{points:t,className:r,baseLinePoints:a,connectNulls:s}=e,i=ni(e,ai);if(!t||!t.length)return null;var o=te("recharts-polygon",r);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",d=li(t,a,s);return l.createElement("g",{className:o},l.createElement("path",De({},pe(i),{fill:d.slice(-1)==="Z"?i.fill:"none",stroke:"none",d})),c?l.createElement("path",De({},pe(i),{fill:"none",d:Ge(t,s)})):null,c?l.createElement("path",De({},pe(i),{fill:"none",d:Ge(a,s)})):null)}var m=Ge(t,s);return l.createElement("path",De({},pe(i),{fill:m.slice(-1)==="Z"?i.fill:"none",className:o,d:m}))};function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jt.apply(null,arguments)}var pr=e=>{var{cx:t,cy:r,r:a,className:s}=e,i=te("recharts-dot",s);return de(t)&&de(r)&&de(a)?l.createElement("circle",Jt({},U(e),ja(e),{className:i,cx:t,cy:r,r:a})):null},hr=(e,t,r)=>{switch(t){case"angleAxis":return ar(e,r);case"radiusAxis":return Na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xr=(e,t,r)=>{switch(t){case"angleAxis":return Kn(e,r);case"radiusAxis":return Rn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},We=z([hr,Pa,Mn,xr],Ln),Ha=z([ue,_n,Bn,rr],Wn),Fe=z([ue,hr,Pa,We,Tn,xr,wa,Ha,rr],$n),ci=z([Fe],e=>{if(e){var t=new Map;return e.forEach(r=>{var a=(r.coordinate+360)%360;t.has(a)||t.set(a,r)}),Array.from(t.values())}});z([ue,hr,We,xr,wa,Ha,rr],Fn);var di=(e,t)=>Fe(e,"angleAxis",t,!1),ui=z([di],e=>{if(e)return e.map(t=>t.coordinate)}),mi=(e,t)=>Fe(e,"radiusAxis",t,!1),fi=z([mi],e=>{if(e)return e.map(t=>t.coordinate)}),pi=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function hi(e,t){if(e==null)return{};var r,a,s=xi(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xi(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ae.apply(null,arguments)}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$r(Object(r),!0).forEach(function(a){vi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vi(e,t,r){return(t=yi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yi(e){var t=gi(e,"string");return typeof t=="symbol"?t:t+""}function gi(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bi=(e,t,r,a)=>{var s="";return a.forEach((i,o)=>{var c=ne(t,r,e,i);o?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},ji=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,polarAngles:i,radialLines:o}=e;if(!i||!i.length||!o)return null;var c=qe({stroke:"#ccc"},U(e));return l.createElement("g",{className:"recharts-polar-grid-angle"},i.map(d=>{var m=ne(t,r,a,d),f=ne(t,r,s,d);return l.createElement("line",ae({key:"line-".concat(d)},c,{x1:m.x,y1:m.y,x2:f.x,y2:f.y}))}))},Rr=e=>{var{cx:t,cy:r,radius:a}=e,s=qe({stroke:"#ccc",fill:"none"},U(e));return l.createElement("circle",ae({},s,{className:te("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:r,r:a}))},Kr=e=>{var{radius:t}=e,r=qe({stroke:"#ccc",fill:"none"},U(e));return l.createElement("path",ae({},r,{className:te("recharts-polar-grid-concentric-polygon",e.className),d:bi(t,e.cx,e.cy,e.polarAngles)}))},Pi=e=>{var{polarRadius:t,gridType:r}=e;if(!t||!t.length)return null;var a=Math.max(...t),s=e.fill&&e.fill!=="none";return l.createElement("g",{className:"recharts-polar-grid-concentric"},s&&r==="circle"&&l.createElement(Rr,ae({},e,{radius:a})),s&&r!=="circle"&&l.createElement(Kr,ae({},e,{radius:a})),t.map((i,o)=>{var c=o;return r==="circle"?l.createElement(Rr,ae({key:c},e,{fill:"none",radius:i})):l.createElement(Kr,ae({key:c},e,{fill:"none",radius:i}))}))},Ya=e=>{var t,r,a,s,i,o,c,d,m,{gridType:f="polygon",radialLines:u=!0,angleAxisId:p=0,radiusAxisId:x=0,cx:h,cy:v,innerRadius:b,outerRadius:y,polarAngles:k,polarRadius:O}=e,N=hi(e,pi),P=V(yt),g=V(j=>ui(j,p)),I=V(j=>fi(j,x)),E=Array.isArray(k)?k:g,D=Array.isArray(O)?O:I;if(E==null||D==null)return null;var S=qe(qe({cx:(t=(r=P==null?void 0:P.cx)!==null&&r!==void 0?r:h)!==null&&t!==void 0?t:0,cy:(a=(s=P==null?void 0:P.cy)!==null&&s!==void 0?s:v)!==null&&a!==void 0?a:0,innerRadius:(i=(o=P==null?void 0:P.innerRadius)!==null&&o!==void 0?o:b)!==null&&i!==void 0?i:0,outerRadius:(c=(d=P==null?void 0:P.outerRadius)!==null&&d!==void 0?d:y)!==null&&c!==void 0?c:0,polarAngles:E,polarRadius:D},N),{},{zIndex:(m=N.zIndex)!==null&&m!==void 0?m:Ae.grid}),{outerRadius:A}=S;return A<=0?null:l.createElement(me,{zIndex:S.zIndex},l.createElement("g",{className:"recharts-polar-grid"},l.createElement(Pi,ae({gridType:f,radialLines:u},S,{polarAngles:E,polarRadius:D})),l.createElement(ji,ae({gridType:f,radialLines:u},S,{polarAngles:E,polarRadius:D}))))};Ya.displayName="PolarGrid";var It={},Dt={},_r;function wi(){return _r||(_r=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){if(r.length===0)return;let s=r[0],i=a(s,0,r);for(let o=1;o<r.length;o++){const c=r[o],d=a(c,o,r);d>i&&(i=d,s=c)}return s}e.maxBy=t})(Dt)),Dt}var Br;function Ni(){return Br||(Br=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wi(),r=ka(),a=Aa();function s(i,o){if(i!=null)return t.maxBy(Array.from(i),a.iteratee(o??r.identity))}e.maxBy=s})(It)),It}var Mt,Wr;function Ai(){return Wr||(Wr=1,Mt=Ni().maxBy),Mt}var ki=Ai();const Ei=tr(ki);var Lt={},Tt={},Fr;function Oi(){return Fr||(Fr=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){if(r.length===0)return;let s=r[0],i=a(s,0,r);for(let o=1;o<r.length;o++){const c=r[o],d=a(c,o,r);d<i&&(i=d,s=c)}return s}e.minBy=t})(Tt)),Tt}var zr;function Ci(){return zr||(zr=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oi(),r=ka(),a=Aa();function s(i,o){if(i!=null)return t.minBy(Array.from(i),a.iteratee(o??r.identity))}e.minBy=s})(Lt)),Lt}var $t,Gr;function Si(){return Gr||(Gr=1,$t=Ci().minBy),$t}var Ii=Si();const Di=tr(Ii);var Mi=["cx","cy","angle","axisLine"],Li=["angle","tickFormatter","stroke","tick"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ue.apply(null,arguments)}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vr(Object(r),!0).forEach(function(a){Ti(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ti(e,t,r){return(t=$i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $i(e){var t=Ri(e,"string");return typeof t=="symbol"?t:t+""}function Ri(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(e,t){if(e==null)return{};var r,a,s=Ki(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ki(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var _i="radiusAxis";function Bi(e){var t=Xe();return l.useEffect(()=>(t(zn(e)),()=>{t(Gn(e))})),null}var Wi=(e,t,r,a)=>{var{coordinate:s}=e;return ne(r,a,s,t)},Fi=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},zi=(e,t,r,a)=>{var s=Ei(a,o=>o.coordinate||0),i=Di(a,o=>o.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:(i==null?void 0:i.coordinate)||0,outerRadius:(s==null?void 0:s.coordinate)||0,clockWise:!1}},Gi=(e,t)=>{var{cx:r,cy:a,angle:s,axisLine:i}=e,o=Xa(e,Mi),c=t.reduce((u,p)=>[Math.min(u[0],p.coordinate),Math.max(u[1],p.coordinate)],[1/0,-1/0]),d=ne(r,a,c[0],s),m=ne(r,a,c[1],s),f=ce(ce(ce({},U(o)),{},{fill:"none"},U(i)),{},{x1:d.x,y1:d.y,x2:m.x,y2:m.y});return l.createElement("line",Ue({className:"recharts-polar-radius-axis-line"},f))},Vi=(e,t,r)=>{var a;return l.isValidElement(e)?a=l.cloneElement(e,t):typeof e=="function"?a=e(t):a=l.createElement(Ca,Ue({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),a},qi=(e,t)=>{var{angle:r,tickFormatter:a,stroke:s,tick:i}=e,o=Xa(e,Li),c=Fi(e.orientation),d=U(o),m=gt(i),f=t.map((u,p)=>{var x=Wi(u,e.angle,e.cx,e.cy),h=ce(ce(ce(ce({textAnchor:c,transform:"rotate(".concat(90-r,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:s},m),{},{index:p},x),{},{payload:u});return l.createElement(G,Ue({className:te("recharts-polar-radius-axis-tick",Oa(i)),key:"tick-".concat(u.coordinate)},Ea(e,u,p)),Vi(i,h,a?a(u.value,p):u.value))});return l.createElement(G,{className:"recharts-polar-radius-axis-ticks"},f)},Ui=e=>{var{radiusAxisId:t}=e,r=V(yt),a=V(d=>We(d,"radiusAxis",t)),s=V(d=>Fe(d,"radiusAxis",t,!1));if(r==null||!s||!s.length||a==null)return null;var i=ce(ce({},e),{},{scale:a},r),{tick:o,axisLine:c}=i;return l.createElement(me,{zIndex:i.zIndex},l.createElement(G,{className:te("recharts-polar-radius-axis",_i,i.className)},c&&Gi(i,s),o&&qi(i,s),l.createElement(qn,zi(i.angle,i.cx,i.cy,s),l.createElement(Un,{label:i.label}),i.children)))};function Za(e){var t=se(e,Vn);return l.createElement(l.Fragment,null,l.createElement(Bi,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),l.createElement(Ui,t))}Za.displayName="PolarRadiusAxis";var Hi=["children"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(null,arguments)}function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qr(Object(r),!0).forEach(function(a){Yi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yi(e,t,r){return(t=Xi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xi(e){var t=Zi(e,"string");return typeof t=="symbol"?t:t+""}function Zi(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(e,t){if(e==null)return{};var r,a,s=Qi(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Qi(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ur=1e-5,eo=Math.cos(ct(45)),to="angleAxis";function ro(e){var t=Xe(),r=l.useMemo(()=>{var{children:i}=e,o=Ji(e,Hi);return o},[e]),a=V(i=>ar(i,r.id)),s=r===a;return l.useEffect(()=>(t(Hn(r)),()=>{t(Yn(r))}),[t,r]),s?e.children:null}var ao=(e,t)=>{var{cx:r,cy:a,radius:s,orientation:i,tickSize:o}=t,c=o||8,d=ne(r,a,s,e.coordinate),m=ne(r,a,s+(i==="inner"?-1:1)*c,e.coordinate);return{x1:d.x,y1:d.y,x2:m.x,y2:m.y}},no=(e,t)=>{var r=Math.cos(ct(-e.coordinate));return r>Ur?t==="outer"?"start":"end":r<-Ur?t==="outer"?"end":"start":"middle"},so=e=>{var t=Math.cos(ct(-e.coordinate)),r=Math.sin(ct(-e.coordinate));return Math.abs(t)<=eo?r>0?"start":"end":"middle"},io=e=>{var{cx:t,cy:r,radius:a,axisLineType:s,axisLine:i,ticks:o}=e;if(!i)return null;var c=le(le({},U(e)),{},{fill:"none"},U(i));if(s==="circle")return l.createElement(pr,Ne({className:"recharts-polar-angle-axis-line"},c,{cx:t,cy:r,r:a}));var d=o.map(m=>ne(t,r,a,m.coordinate));return l.createElement(fr,Ne({className:"recharts-polar-angle-axis-line"},c,{points:d}))},oo=e=>{var{tick:t,tickProps:r,value:a}=e;return t?l.isValidElement(t)?l.cloneElement(t,r):typeof t=="function"?t(r):l.createElement(Ca,Ne({},r,{className:"recharts-polar-angle-axis-tick-value"}),a):null},lo=e=>{var{tick:t,tickLine:r,tickFormatter:a,stroke:s,ticks:i}=e,o=U(e),c=gt(t),d=le(le({},o),{},{fill:"none"},U(r)),m=i.map((f,u)=>{var p=ao(f,e),x=no(f,e.orientation),h=so(f),v=le(le(le({},o),{},{textAnchor:x,verticalAnchor:h,stroke:"none",fill:s},c),{},{index:u,payload:f,x:p.x2,y:p.y2});return l.createElement(G,Ne({className:te("recharts-polar-angle-axis-tick",Oa(t)),key:"tick-".concat(f.coordinate)},Ea(e,f,u)),r&&l.createElement("line",Ne({className:"recharts-polar-angle-axis-tick-line"},d,p)),l.createElement(oo,{tick:t,tickProps:v,value:a?a(f.value,u):f.value}))});return l.createElement(G,{className:"recharts-polar-angle-axis-ticks"},m)},co=e=>{var{angleAxisId:t}=e,r=V(yt),a=V(c=>We(c,"angleAxis",t)),s=ke(),i=V(c=>ci(c,"angleAxis",t,s));if(r==null||!i||!i.length||a==null)return null;var o=le(le(le({},e),{},{scale:a},r),{},{radius:r.outerRadius,ticks:i});return l.createElement(me,{zIndex:o.zIndex},l.createElement(G,{className:te("recharts-polar-angle-axis",to,o.className)},l.createElement(io,o),l.createElement(lo,o)))};function Ja(e){var t=se(e,Xn);return l.createElement(ro,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},l.createElement(co,t))}Ja.displayName="PolarAngleAxis";var uo=["points"];function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hr(Object(r),!0).forEach(function(a){mo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mo(e,t,r){return(t=fo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e){var t=po(e,"string");return typeof t=="symbol"?t:t+""}function po(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mt.apply(null,arguments)}function ho(e,t){if(e==null)return{};var r,a,s=xo(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xo(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function vo(e){var{option:t,dotProps:r,className:a}=e;if(l.isValidElement(t))return l.cloneElement(t,r);if(typeof t=="function")return t(r);var s=te(a,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=ho(i,uo);return l.createElement(pr,mt({},c,{className:s}))}function yo(e,t){return e==null?!1:t?!0:e.length===1}function vr(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:i,baseProps:o,needClip:c,clipPathId:d,zIndex:m=Ae.scatter}=e;if(!yo(t,r))return null;var f=nr(r),u=Zn(r),p=t.map((h,v)=>{var b,y,k=Rt(Rt(Rt({r:3},o),u),{},{index:v,cx:(b=h.x)!==null&&b!==void 0?b:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return l.createElement(vo,{key:"dot-".concat(v),option:r,dotProps:k,className:s})}),x={};return c&&d!=null&&(x.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(d,")")),l.createElement(me,{zIndex:m},l.createElement(G,mt({className:a},x),p))}function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yr(Object(r),!0).forEach(function(a){go(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function go(e,t,r){return(t=bo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bo(e){var t=jo(e,"string");return typeof t=="symbol"?t:t+""}function jo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Po=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Kt(Kt(Kt({},c),gt(s)),ja(s)),m;return l.isValidElement(s)?m=l.cloneElement(s,d):typeof s=="function"?m=s(d):m=l.createElement(pr,d),l.createElement(G,{className:"recharts-active-dot",clipPath:o},m)};function ft(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:i,zIndex:o=Ae.activeDot}=e,c=V(Jn),d=Qn();if(t==null||d==null)return null;var m=t.find(f=>d.includes(f.payload));return Te(m)?null:l.createElement(me,{zIndex:o},l.createElement(Po,{point:m,childIndex:Number(c),mainColor:r,dataKey:s,activeDot:a,clipPath:i}))}function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xr(Object(r),!0).forEach(function(a){wo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wo(e,t,r){return(t=No(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function No(e){var t=Ao(e,"string");return typeof t=="symbol"?t:t+""}function Ao(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qa=(e,t)=>We(e,"radiusAxis",t),ko=z([Qa],e=>{if(e!=null)return{scale:e}}),Eo=z([Na,Qa],(e,t)=>{if(!(e==null||t==null))return pt(pt({},e),{},{scale:t})}),Oo=(e,t,r,a)=>Fe(e,"radiusAxis",t,a),en=(e,t,r)=>ar(e,r),tn=(e,t,r)=>We(e,"angleAxis",r),Co=z([en,tn],(e,t)=>{if(!(e==null||t==null))return pt(pt({},e),{},{scale:t})}),So=(e,t,r,a)=>Fe(e,"angleAxis",r,a),Io=z([en,tn,yt],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Do=(e,t,r,a,s)=>s,Mo=z([ue,Eo,Oo,Co,So],(e,t,r,a,s)=>bt(e,"radiusAxis")?$e(t,r,!1):$e(a,s,!1)),Lo=z([ts,Do],(e,t)=>{if(e!=null){var r=e.find(a=>a.type==="radar"&&t===a.id);return r==null?void 0:r.dataKey}}),To=z([ko,Io,es,Lo,Mo],(e,t,r,a,s)=>{var{chartData:i,dataStartIndex:o,dataEndIndex:c}=r;if(!(e==null||t==null||i==null||s==null||a==null)){var d=i.slice(o,c+1);return Vo({radiusAxis:e,angleAxis:t,displayedData:d,dataKey:a,bandSize:s})}}),$o=["id"];function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},He.apply(null,arguments)}function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zr(Object(r),!0).forEach(function(a){Ro(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ro(e,t,r){return(t=Ko(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e){var t=_o(e,"string");return typeof t=="symbol"?t:t+""}function _o(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bo(e,t){if(e==null)return{};var r,a,s=Wo(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wo(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function yr(e,t){return e&&e!=="none"?e:t}var Fo=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:yr(a,s),value:Be(r,t),payload:e}]},zo=l.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:i,hide:o,tooltipType:c,id:d}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:Be(i,t),hide:o,type:c,color:yr(r,s),unit:"",graphicalItemId:d}};return l.createElement(Pt,{tooltipEntrySettings:m})});function Go(e){var{points:t,props:r}=e,{dot:a,dataKey:s}=r,{id:i}=r,o=Bo(r,$o),c=U(o);return l.createElement(vr,{points:t,dot:a,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:s,baseProps:c})}function Vo(e){var{radiusAxis:t,angleAxis:r,displayedData:a,dataKey:s,bandSize:i}=e,{cx:o,cy:c}=r,d=!1,m=[],f=r.type!=="number"?i??0:0;a.forEach((p,x)=>{var h=we(p,r.dataKey,x),v=we(p,s),b=r.scale(h)+f,y=Array.isArray(v)?ns(v):v,k=Te(y)?0:t.scale(y);Array.isArray(v)&&v.length>=2&&(d=!0),m.push(Q(Q({},ne(o,c,k,b)),{},{name:h,value:v,cx:o,cy:c,radius:k,angle:b,payload:p}))});var u=[];return d&&m.forEach(p=>{if(Array.isArray(p.value)){var x=p.value[0],h=Te(x)?0:t.scale(x);u.push(Q(Q({},p),{},{radius:h},ne(o,c,h,p.angle)))}else u.push(p)}),{points:m,isRange:d,baseLinePoints:u}}function qo(e){var{showLabels:t,points:r,children:a}=e,s=r.map(i=>{var o,c={x:i.x,y:i.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Q(Q({},c),{},{value:(o=i.value)!==null&&o!==void 0?o:"",payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return l.createElement(lr,{value:t?s:void 0},a)}function Uo(e){var{points:t,baseLinePoints:r,props:a}=e;if(t==null)return null;var{shape:s,isRange:i,connectNulls:o}=a,c=f=>{var{onMouseEnter:u}=a;u&&u(a,f)},d=f=>{var{onMouseLeave:u}=a;u&&u(a,f)},m;return l.isValidElement(s)?m=l.cloneElement(s,Q(Q({},a),{},{points:t})):typeof s=="function"?m=s(Q(Q({},a),{},{points:t})):m=l.createElement(fr,He({},pe(a),{onMouseEnter:c,onMouseLeave:d,points:t,baseLinePoints:i?r:void 0,connectNulls:o})),l.createElement(G,{className:"recharts-radar-polygon"},m,l.createElement(Go,{props:a,points:t}))}var Jr=(e,t,r)=>(a,s)=>{var i=e&&e[Math.floor(s*t)];return i?Q(Q({},a),{},{x:Y(i.x,a.x,r),y:Y(i.y,a.y,r)}):Q(Q({},a),{},{x:Y(a.cx,a.x,r),y:Y(a.cy,a.y,r)})};function Ho(e){var{props:t,previousPointsRef:r,previousBaseLinePointsRef:a}=e,{points:s,baseLinePoints:i,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:f,onAnimationStart:u}=t,p=r.current,x=a.current,h=p?p.length/s.length:1,v=x?x.length/i.length:1,b=sr(t,"recharts-radar-"),[y,k]=l.useState(!1),O=!y,N=l.useCallback(()=>{typeof f=="function"&&f(),k(!1)},[f]),P=l.useCallback(()=>{typeof u=="function"&&u(),k(!0)},[u]);return l.createElement(qo,{showLabels:O,points:s},l.createElement(ir,{animationId:b,begin:c,duration:d,isActive:o,easing:m,key:"radar-".concat(b),onAnimationEnd:N,onAnimationStart:P},g=>{var I=g===1?s:s.map(Jr(p,h,g)),E=g===1?i:i==null?void 0:i.map(Jr(x,v,g));return g>0&&(r.current=I,a.current=E),l.createElement(Uo,{points:I,baseLinePoints:E,props:t})}),l.createElement(or,{label:t.label}),t.children)}function Yo(e){var t=l.useRef(void 0),r=l.useRef(void 0);return l.createElement(Ho,{props:e,previousPointsRef:t,previousBaseLinePointsRef:r})}var Xo={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Ae.area};function Zo(e){var{hide:t,className:r,points:a}=e;if(t)return null;var s=te("recharts-radar",r);return l.createElement(me,{zIndex:e.zIndex},l.createElement(G,{className:s},l.createElement(Yo,e)),l.createElement(ft,{points:a,mainColor:yr(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function Jo(e){var t=ke(),r=V(a=>To(a,e.radiusAxisId,e.angleAxisId,t,e.id));return(r==null?void 0:r.points)==null?null:l.createElement(Zo,He({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}function Qt(e){var t=se(e,Xo);return l.createElement(jt,{id:t.id,type:"radar"},r=>l.createElement(l.Fragment,null,l.createElement(rs,{type:"radar",id:r,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),l.createElement(as,{legendPayload:Fo(t)}),l.createElement(zo,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:r}),l.createElement(Jo,He({},t,{id:r}))))}Qt.displayName="Radar";function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qr(Object(r),!0).forEach(function(a){Qo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qo(e,t,r){return(t=el(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function el(e){var t=tl(e,"string");return typeof t=="symbol"?t:t+""}function tl(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ht.apply(null,arguments)}var rl=(e,t)=>{var r;if(l.isValidElement(e))r=l.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!he(t.x1)||!he(t.y1)||!he(t.x2)||!he(t.y2))return null;r=l.createElement("line",ht({},t,{className:"recharts-reference-line-line"}))}return r},al=(e,t,r,a,s,i)=>{var{x:o,width:c}=i,d=s.y.apply(e,{position:r});if(Ze(d)||t==="discard"&&!s.y.isInRange(d))return null;var m=[{x:o+c,y:d},{x:o,y:d}];return a==="left"?m.reverse():m},nl=(e,t,r,a,s,i)=>{var{y:o,height:c}=i,d=s.x.apply(e,{position:r});if(Ze(d)||t==="discard"&&!s.x.isInRange(d))return null;var m=[{x:d,y:o+c},{x:d,y:o}];return a==="top"?m.reverse():m},sl=(e,t,r,a)=>{var s=e.map(i=>a.apply(i,{position:r}));return t==="discard"&&s.some(i=>!a.isInRange(i))?null:s},il=(e,t,r,a,s,i)=>{var{x:o,y:c,segment:d,ifOverflow:m}=i,f=Cr(o),u=Cr(c);return u?al(c,m,r,s,e,t):f?nl(o,m,r,a,e,t):d!=null&&d.length===2?sl(d,m,r,e):null};function ol(e){var t=Xe();return l.useEffect(()=>(t(ss(e)),()=>{t(is(e))})),null}function ll(e){var{xAxisId:t,yAxisId:r,shape:a,className:s,ifOverflow:i}=e,o=ke(),c=os(),d=V(g=>ls(g,t)),m=V(g=>cs(g,r)),f=V(g=>Or(g,"xAxis",t,o)),u=V(g=>Or(g,"yAxis",r,o)),p=ds();if(!c||!p||d==null||m==null||f==null||u==null)return null;var x=us({x:f,y:u}),h=il(x,p,e.position,d.orientation,m.orientation,e);if(!h)return null;var[{x:v,y:b},{x:y,y:k}]=h,O=i==="hidden"?"url(#".concat(c,")"):void 0,N=ea(ea({clipPath:O},pe(e)),{},{x1:v,y1:b,x2:y,y2:k}),P=ps({x1:v,y1:b,x2:y,y2:k});return l.createElement(me,{zIndex:e.zIndex},l.createElement(G,{className:te("recharts-reference-line",s)},rl(a,N),l.createElement(ms,ht({},P,{lowerWidth:P.width,upperWidth:P.width}),l.createElement(fs,{label:e.label}),e.children)))}var cl={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Ae.line};function gr(e){var t=se(e,cl);return l.createElement(l.Fragment,null,l.createElement(ol,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),l.createElement(ll,t))}gr.displayName="ReferenceLine";var rn=(e,t,r,a)=>wt(e,"xAxis",t,a),an=(e,t,r,a)=>Nt(e,"xAxis",t,a),nn=(e,t,r,a)=>wt(e,"yAxis",r,a),sn=(e,t,r,a)=>Nt(e,"yAxis",r,a),dl=z([ue,rn,nn,an,sn],(e,t,r,a,s)=>bt(e,"xAxis")?$e(t,a,!1):$e(r,s,!1)),ul=(e,t,r,a,s)=>s;function ml(e){return e.type==="line"}var fl=z([Sa,ul],(e,t)=>e.filter(ml).find(r=>r.id===t)),pl=z([ue,rn,nn,an,sn,fl,dl,hs],(e,t,r,a,s,i,o,c)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:f}=c;if(!(i==null||t==null||r==null||a==null||s==null||a.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:u,data:p}=i,x;if(p!=null&&p.length>0?x=p:x=d==null?void 0:d.slice(m,f+1),x!=null)return Ll({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:u,bandSize:o,displayedData:x})}});function on(e){var t=gt(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=a),{r:o,strokeWidth:c}}return{r,strokeWidth:a}}var hl=["id"],xl=["type","layout","connectNulls","needClip","shape"],vl=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ye.apply(null,arguments)}function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ta(Object(r),!0).forEach(function(a){yl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yl(e,t,r){return(t=gl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gl(e){var t=bl(e,"string");return typeof t=="symbol"?t:t+""}function bl(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t){if(e==null)return{};var r,a,s=jl(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jl(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Pl=e=>{var{dataKey:t,name:r,stroke:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Be(r,t),payload:e}]},wl=l.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:d,tooltipType:m,id:f}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Be(o,t),hide:c,type:m,color:a,unit:d,graphicalItemId:f}};return l.createElement(Pt,{tooltipEntrySettings:u})}),ln=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Nl(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...r];return a}var Al=(e,t,r)=>{var a=r.reduce((u,p)=>u+p);if(!a)return ln(t,e);for(var s=Math.floor(e/a),i=e%a,o=t-e,c=[],d=0,m=0;d<r.length;m+=r[d],++d)if(m+r[d]>i){c=[...r.slice(0,d),i-m];break}var f=c.length%2===0?[0,o]:[o];return[...Nl(r,s),...c,...f].map(u=>"".concat(u,"px")).join(", ")};function kl(e){var{clipPathId:t,points:r,props:a}=e,{dot:s,dataKey:i,needClip:o}=a,{id:c}=a,d=br(a,hl),m=U(d);return l.createElement(vr,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:m,needClip:o,clipPathId:t})}function El(e){var{showLabels:t,children:r,points:a}=e,s=l.useMemo(()=>a==null?void 0:a.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return oe(oe({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[a]);return l.createElement(lr,{value:t?s:void 0},r)}function ra(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:s,props:i}=e,{type:o,layout:c,connectNulls:d,needClip:m,shape:f}=i,u=br(i,xl),p=oe(oe({},pe(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:a,type:o,layout:c,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return l.createElement(l.Fragment,null,(a==null?void 0:a.length)>1&&l.createElement(vs,Ye({shapeType:"curve",option:f},p,{pathRef:r})),l.createElement(kl,{points:a,clipPathId:t,props:i}))}function Ol(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Cl(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:m,animationDuration:f,animationEasing:u,animateNewValues:p,width:x,height:h,onAnimationEnd:v,onAnimationStart:b}=r,y=s.current,k=sr(o,"recharts-line-"),O=l.useRef(k),[N,P]=l.useState(!1),g=!N,I=l.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),E=l.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),D=Ol(a.current),S=l.useRef(0);O.current!==k&&(S.current=i.current,O.current=k);var A=S.current;return l.createElement(El,{points:o,showLabels:g},r.children,l.createElement(ir,{animationId:k,begin:m,duration:f,isActive:d,easing:u,onAnimationEnd:I,onAnimationStart:E,key:k},j=>{var w=Y(A,D+A,j),C=Math.min(w,D),M;if(d)if(c){var T="".concat(c).split(/[,\s]+/gim).map($=>parseFloat($));M=Al(C,D,T)}else M=ln(D,C);else M=c==null?void 0:String(c);if(j>0&&D>0&&(s.current=o,i.current=Math.max(i.current,C)),y){var L=y.length/o.length,R=j===1?o:o.map(($,H)=>{var ge=Math.floor(H*L);if(y[ge]){var Qe=y[ge];return oe(oe({},$),{},{x:Y(Qe.x,$.x,j),y:Y(Qe.y,$.y,j)})}return p?oe(oe({},$),{},{x:Y(x*2,$.x,j),y:Y(h/2,$.y,j)}):oe(oe({},$),{},{x:$.x,y:$.y})});return s.current=R,l.createElement(ra,{props:r,points:R,clipPathId:t,pathRef:a,strokeDasharray:M})}return l.createElement(ra,{props:r,points:o,clipPathId:t,pathRef:a,strokeDasharray:M})}),l.createElement(or,{label:r.label}))}function Sl(e){var{clipPathId:t,props:r}=e,a=l.useRef(null),s=l.useRef(0),i=l.useRef(null);return l.createElement(Cl,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var Il=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:we(e.payload,t)}};class Dl extends l.Component{render(){var{hide:t,dot:r,points:a,className:s,xAxisId:i,yAxisId:o,top:c,left:d,width:m,height:f,id:u,needClip:p,zIndex:x}=this.props;if(t)return null;var h=te("recharts-line",s),v=u,{r:b,strokeWidth:y}=on(r),k=nr(r),O=b*2+y,N=p?"url(#clipPath-".concat(k?"":"dots-").concat(v,")"):void 0;return l.createElement(me,{zIndex:x},l.createElement(G,{className:h},p&&l.createElement("defs",null,l.createElement(Ra,{clipPathId:v,xAxisId:i,yAxisId:o}),!k&&l.createElement("clipPath",{id:"clipPath-dots-".concat(v)},l.createElement("rect",{x:d-O/2,y:c-O/2,width:m+O,height:f+O}))),l.createElement(xs,{xAxisId:i,yAxisId:o,data:a,dataPointFormatter:Il,errorBarOffset:0},l.createElement(Sl,{props:this.props,clipPathId:v}))),l.createElement(ft,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var cn={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ae.line,type:"linear"};function Ml(e){var t=se(e,cn),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,hide:m,isAnimationActive:f,label:u,legendType:p,xAxisId:x,yAxisId:h,id:v}=t,b=br(t,vl),{needClip:y}=La(x,h),k=Ta(),O=$a(),N=ke(),P=V(S=>pl(S,x,h,N,v));if(O!=="horizontal"&&O!=="vertical"||P==null||k==null)return null;var{height:g,width:I,x:E,y:D}=k;return l.createElement(Dl,Ye({},b,{id:v,connectNulls:c,dot:d,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:m,label:u,legendType:p,xAxisId:x,yAxisId:h,points:P,layout:O,height:g,width:I,left:E,top:D,needClip:y}))}function Ll(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((m,f)=>{var u=we(m,o);if(t==="horizontal"){var p=dt({axis:r,ticks:s,bandSize:c,entry:m,index:f}),x=Te(u)?null:a.scale(u);return{x:p,y:x,value:u,payload:m}}var h=Te(u)?null:r.scale(u),v=dt({axis:a,ticks:i,bandSize:c,entry:m,index:f});return h==null||v==null?null:{x:h,y:v,value:u,payload:m}}).filter(Boolean)}function Tl(e){var t=se(e,cn),r=ke();return l.createElement(jt,{id:t.id,type:"line"},a=>l.createElement(l.Fragment,null,l.createElement(Da,{legendPayload:Pl(t)}),l.createElement(wl,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),l.createElement(Ma,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),l.createElement(Ml,Ye({},t,{id:a}))))}var jr=l.memo(Tl,Ia);jr.displayName="Line";var dn=(e,t,r)=>wt(e,"xAxis",cr(e,t),r),un=(e,t,r)=>Nt(e,"xAxis",cr(e,t),r),mn=(e,t,r)=>wt(e,"yAxis",dr(e,t),r),fn=(e,t,r)=>Nt(e,"yAxis",dr(e,t),r),$l=z([ue,dn,mn,un,fn],(e,t,r,a,s)=>bt(e,"xAxis")?$e(t,a,!1):$e(r,s,!1)),Rl=(e,t)=>t,pn=z([Sa,Rl],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),hn=e=>{var t=ue(e),r=bt(t,"xAxis");return r?"yAxis":"xAxis"},Kl=(e,t)=>{var r=hn(e);return r==="yAxis"?dr(e,t):cr(e,t)},_l=(e,t,r)=>bs(e,hn(e),Kl(e,t),r),Bl=z([pn,_l],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:a}=e,s=js(e);if(!(a==null||s==null)){var i=(r=t[a])===null||r===void 0?void 0:r.stackedData,o=i==null?void 0:i.find(c=>c.key===s);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),Wl=z([ue,dn,mn,un,fn,Bl,ys,$l,pn,gs],(e,t,r,a,s,i,o,c,d,m)=>{var{chartData:f,dataStartIndex:u,dataEndIndex:p}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||c==null)){var{data:x}=d,h;if(x&&x.length>0?h=x:h=f==null?void 0:f.slice(u,p+1),h!=null)return ic({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:u,areaSettings:d,stackedData:i,displayedData:h,chartBaseValue:m,bandSize:c})}}),Fl=["id"],zl=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pe.apply(null,arguments)}function xn(e,t){if(e==null)return{};var r,a,s=Gl(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Gl(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(r),!0).forEach(function(a){Vl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vl(e,t,r){return(t=ql(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ql(e){var t=Ul(e,"string");return typeof t=="symbol"?t:t+""}function Ul(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t){return e&&e!=="none"?e:t}var Hl=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:xt(a,s),value:Be(r,t),payload:e}]},Yl=l.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:d,tooltipType:m,id:f}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Be(o,t),hide:c,type:m,color:xt(a,i),unit:d,graphicalItemId:f}};return l.createElement(Pt,{tooltipEntrySettings:u})});function Xl(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:i,dataKey:o}=a,c=U(a);return l.createElement(vr,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:s,clipPathId:t})}function Zl(e){var{showLabels:t,children:r,points:a}=e,s=a.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Me(Me({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return l.createElement(lr,{value:t?s:void 0},r)}function na(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:c,stroke:d,connectNulls:m,isRange:f}=i,{id:u}=i,p=xn(i,Fl),x=U(p),h=pe(p);return l.createElement(l.Fragment,null,(t==null?void 0:t.length)>1&&l.createElement(G,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},l.createElement(St,Pe({},h,{id:u,points:t,connectNulls:m,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&l.createElement(St,Pe({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:t})),d!=="none"&&f&&l.createElement(St,Pe({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:r}))),l.createElement(Xl,{points:t,props:p,clipPathId:s}))}function Jl(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,d=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!he(c)||!he(d))return null;var m=a*Math.abs(c-d),f=Math.max(...i.map(u=>u.x||0));return de(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(u=>u.x||0),f)),de(f)?l.createElement("rect",{x:0,y:c<d?c:c-m,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(m)}):null}function Ql(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,d=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!he(c)||!he(d))return null;var m=a*Math.abs(c-d),f=Math.max(...i.map(u=>u.y||0));return de(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(u=>u.y||0),f)),de(f)?l.createElement("rect",{x:c<d?c:c-m,y:0,width:m,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}function ec(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return r==="vertical"?l.createElement(Jl,{alpha:t,points:a,baseLine:s,strokeWidth:i}):l.createElement(Ql,{alpha:t,points:a,baseLine:s,strokeWidth:i})}function tc(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:d,animationBegin:m,animationDuration:f,animationEasing:u,onAnimationStart:p,onAnimationEnd:x}=a,h=l.useMemo(()=>({points:o,baseLine:c}),[o,c]),v=sr(h,"recharts-area-"),b=Ns(),[y,k]=l.useState(!1),O=!y,N=l.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),P=l.useCallback(()=>{typeof p=="function"&&p(),k(!0)},[p]);if(b==null)return null;var g=s.current,I=i.current;return l.createElement(Zl,{showLabels:O,points:o},a.children,l.createElement(ir,{animationId:v,begin:m,duration:f,isActive:d,easing:u,onAnimationEnd:N,onAnimationStart:P,key:v},E=>{if(g){var D=g.length/o.length,S=E===1?o:o.map((j,w)=>{var C=Math.floor(w*D);if(g[C]){var M=g[C];return Me(Me({},j),{},{x:Y(M.x,j.x,E),y:Y(M.y,j.y,E)})}return j}),A;return de(c)?A=Y(I,c,E):Te(c)||Ze(c)?A=Y(I,0,E):A=c.map((j,w)=>{var C=Math.floor(w*D);if(Array.isArray(I)&&I[C]){var M=I[C];return Me(Me({},j),{},{x:Y(M.x,j.x,E),y:Y(M.y,j.y,E)})}return j}),E>0&&(s.current=S,i.current=A),l.createElement(na,{points:S,baseLine:A,needClip:t,clipPathId:r,props:a})}return E>0&&(s.current=o,i.current=c),l.createElement(G,null,d&&l.createElement("defs",null,l.createElement("clipPath",{id:"animationClipPath-".concat(r)},l.createElement(ec,{alpha:E,points:o,baseLine:c,layout:b,strokeWidth:a.strokeWidth}))),l.createElement(G,{clipPath:"url(#animationClipPath-".concat(r,")")},l.createElement(na,{points:o,baseLine:c,needClip:t,clipPathId:r,props:a})))}),l.createElement(or,{label:a.label}))}function rc(e){var{needClip:t,clipPathId:r,props:a}=e,s=l.useRef(null),i=l.useRef();return l.createElement(tc,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class ac extends l.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:i,left:o,needClip:c,xAxisId:d,yAxisId:m,width:f,height:u,id:p,baseLine:x,zIndex:h}=this.props;if(t)return null;var v=te("recharts-area",s),b=p,{r:y,strokeWidth:k}=on(r),O=nr(r),N=y*2+k,P=c?"url(#clipPath-".concat(O?"":"dots-").concat(b,")"):void 0;return l.createElement(me,{zIndex:h},l.createElement(G,{className:v},c&&l.createElement("defs",null,l.createElement(Ra,{clipPathId:b,xAxisId:d,yAxisId:m}),!O&&l.createElement("clipPath",{id:"clipPath-dots-".concat(b)},l.createElement("rect",{x:o-N/2,y:i-N/2,width:f+N,height:u+N}))),l.createElement(rc,{needClip:c,clipPathId:b,props:this.props})),l.createElement(ft,{points:a,mainColor:xt(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(x)&&l.createElement(ft,{points:x,mainColor:xt(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var vn={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ae.area};function nc(e){var t,r=se(e,vn),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,fill:m,fillOpacity:f,hide:u,isAnimationActive:p,legendType:x,stroke:h,xAxisId:v,yAxisId:b}=r,y=xn(r,zl),k=$a(),O=ws(),{needClip:N}=La(v,b),P=ke(),{points:g,isRange:I,baseLine:E}=(t=V(C=>Wl(C,e.id,P)))!==null&&t!==void 0?t:{},D=Ta();if(k!=="horizontal"&&k!=="vertical"||D==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:S,width:A,x:j,y:w}=D;return!g||!g.length?null:l.createElement(ac,Pe({},y,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:E,connectNulls:c,dot:d,fill:m,fillOpacity:f,height:S,hide:u,layout:k,isAnimationActive:p==="auto"?!Ka.isSsr:p,isRange:I,legendType:x,needClip:N,points:g,stroke:h,width:A,left:j,top:w,xAxisId:v,yAxisId:b}))}var sc=(e,t,r,a,s)=>{var i=r??t;if(de(i))return i;var o=e==="horizontal"?s:a,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),m=Math.min(c[0],c[1]);return i==="dataMin"?m:i==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function ic(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:m,dataStartIndex:f,xAxisTicks:u,yAxisTicks:p,bandSize:x}=e,h=s&&s.length,v=sc(i,o,r,c,d),b=i==="horizontal",y=!1,k=m.map((N,P)=>{var g,I,E;if(h)E=s[f+P];else{var D=we(N,a);Array.isArray(D)?(E=D,y=!0):E=[v,D]}var S=(g=(I=E)===null||I===void 0?void 0:I[1])!==null&&g!==void 0?g:null,A=S==null||h&&!t&&we(N,a)==null;return b?{x:dt({axis:c,ticks:u,bandSize:x,entry:N,index:P}),y:A?null:d.scale(S),value:E,payload:N}:{x:A?null:c.scale(S),y:dt({axis:d,ticks:p,bandSize:x,entry:N,index:P}),value:E,payload:N}}),O;return h||y?O=k.map(N=>{var P=Array.isArray(N.value)?N.value[0]:null;return b?{x:N.x,y:P!=null&&N.y!=null?d.scale(P):null,payload:N.payload}:{x:P!=null?c.scale(P):null,y:N.y,payload:N.payload}}):O=b?d.scale(v):c.scale(v),{points:k,baseLine:O,isRange:y}}function oc(e){var t=se(e,vn),r=ke();return l.createElement(jt,{id:t.id,type:"area"},a=>l.createElement(l.Fragment,null,l.createElement(Da,{legendPayload:Hl(t)}),l.createElement(Yl,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),l.createElement(Ma,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ps(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),l.createElement(nc,Pe({},t,{id:a}))))}var yn=l.memo(oc,Ia);yn.displayName="Area";var lc={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}};function cc(e){var t=se(e,lc),{animationId:r,from:a,to:s,attributeName:i,isActive:o,canBegin:c,duration:d,easing:m,begin:f,onAnimationEnd:u,onAnimationStart:p,children:x}=t,h=o==="auto"?!Ka.isSsr:o,v=As(r+i,t.animationManager),[b,y]=l.useState(()=>h?a:s),k=l.useRef(!1),O=l.useCallback(()=>{y(a),p()},[a,p]);if(l.useEffect(()=>{if(!h||!c)return ks;k.current=!0;var P=v.subscribe(y);return v.start([O,f,s,d,u]),()=>{v.stop(),P&&P(),u()}},[h,c,d,m,f,O,u,v,s,a]),!h)return x({[i]:s});if(!c)return x({[i]:a});if(k.current){var N=Es([i],d,m);return x({transition:N,[i]:b})}return x({[i]:a})}var dc=["axis"],uc=l.forwardRef((e,t)=>l.createElement(ur,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dc,tooltipPayloadSearcher:At,categoricalChartProps:e,ref:t})),_t={},Bt={},Wt={},sa;function mc(){return sa||(sa=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof Buffer<"u"&&Buffer.isBuffer(r)}e.isBuffer=t})(Wt)),Wt}var Ft={},ia;function fc(){return ia||(ia=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const a=r==null?void 0:r.constructor,s=typeof a=="function"?a.prototype:Object.prototype;return r===s}e.isPrototype=t})(Ft)),Ft}var zt={},oa;function pc(){return oa||(oa=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Os();function r(a){return t.isTypedArray(a)}e.isTypedArray=r})(zt)),zt}var Gt={},Vt={},la;function hc(){return la||(la=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cs();function r(a){const s=t.toFinite(a),i=s%1;return i?s-i:s}e.toInteger=r})(Vt)),Vt}var ca;function xc(){return ca||(ca=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hc();function r(a,s){if(a=t.toInteger(a),a<1||!Number.isSafeInteger(a))return[];const i=new Array(a);for(let o=0;o<a;o++)i[o]=typeof s=="function"?s(o):o;return i}e.times=r})(Gt)),Gt}var da;function vc(){return da||(da=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mc(),r=fc(),a=_a(),s=pc(),i=xc();function o(f){if(f==null)return[];switch(typeof f){case"object":case"function":return a.isArrayLike(f)?m(f):r.isPrototype(f)?d(f):c(f);default:return c(Object(f))}}function c(f){const u=[];for(const p in f)u.push(p);return u}function d(f){return c(f).filter(p=>p!=="constructor")}function m(f){const u=i.times(f.length,h=>`${h}`),p=new Set(u);t.isBuffer(f)&&(p.add("offset"),p.add("parent")),s.isTypedArray(f)&&(p.add("buffer"),p.add("byteLength"),p.add("byteOffset"));const x=c(f).filter(h=>!p.has(h));return Array.isArray(f)?[...u,...x]:[...u.filter(h=>Object.hasOwn(f,h)),...x]}e.keysIn=o})(Bt)),Bt}var qt={},ua;function yc(){return ua||(ua=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ms(),r=Is(),a=Ba(),s=Ds(),i=Ss();function o(d,m){if(d==null)return!0;switch(typeof m){case"symbol":case"number":case"object":{if(Array.isArray(m))return c(d,m);if(typeof m=="number"?m=s.toKey(m):typeof m=="object"&&(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m)),r.isUnsafeProperty(m))return!1;if((d==null?void 0:d[m])===void 0)return!0;try{return delete d[m],!0}catch{return!1}}case"string":{if((d==null?void 0:d[m])===void 0&&a.isDeepKey(m))return c(d,i.toPath(m));if(r.isUnsafeProperty(m))return!1;try{return delete d[m],!0}catch{return!1}}}}function c(d,m){const f=m.length===1?d:t.get(d,m.slice(0,-1)),u=m[m.length-1];if((f==null?void 0:f[u])===void 0)return!0;if(r.isUnsafeProperty(u))return!1;try{return delete f[u],!0}catch{return!1}}e.unset=o})(qt)),qt}var Ut={},ma;function gc(){return ma||(ma=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ls();function r(a){const s=[];for(;a;)s.push(...t.getSymbols(a)),a=Object.getPrototypeOf(a);return s}e.getSymbolsIn=r})(Ut)),Ut}var Ht={},fa;function bc(){return fa||(fa=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_a();function r(a,s=1){const i=[],o=Math.floor(s);if(!t.isArrayLike(a))return i;const c=(d,m)=>{for(let f=0;f<d.length;f++){const u=d[f];m<o&&(Array.isArray(u)||u!=null&&u[Symbol.isConcatSpreadable]||u!==null&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Arguments]")?Array.isArray(u)?c(u,m+1):c(Array.from(u),m+1):i.push(u)}};return c(Array.from(a),0),i}e.flatten=r})(Ht)),Ht}var pa;function jc(){return pa||(pa=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ts(),r=vc(),a=yc(),s=gc(),i=Ba(),o=bc(),c=$s();function d(p,...x){if(p==null)return{};x=o.flatten(x);const h=m(p,x);for(let v=0;v<x.length;v++){let b=x[v];switch(typeof b){case"object":{Array.isArray(b)||(b=Array.from(b));for(let y=0;y<b.length;y++){const k=b[y];a.unset(h,k)}break}case"string":case"symbol":case"number":{a.unset(h,b);break}}}return h}function m(p,x){return x.some(v=>Array.isArray(v)||i.isDeepKey(v))?u(p):f(p)}function f(p){const x={},h=[...r.keysIn(p),...s.getSymbolsIn(p)];for(let v=0;v<h.length;v++){const b=h[v];x[b]=p[b]}return x}function u(p){const x={},h=[...r.keysIn(p),...s.getSymbolsIn(p)];for(let v=0;v<h.length;v++){const b=h[v];x[b]=t.cloneDeepWith(p[b],y=>{if(!c.isPlainObject(y))return y})}return x}e.omit=d})(_t)),_t}var Yt,ha;function Pc(){return ha||(ha=1,Yt=jc().omit),Yt}var wc=Pc();const Nc=tr(wc);var Ac=["width","height","className","style","children","type"];function kc(e,t){if(e==null)return{};var r,a,s=Ec(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ec(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Re.apply(null,arguments)}function xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xa(Object(r),!0).forEach(function(a){Ve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xa(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ve(e,t,r){return(t=Oc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oc(e){var t=Cc(e,"string");return typeof t=="symbol"?t:t+""}function Cc(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vt="value",gn=(e,t)=>{if(!(!e||!t))return Wa(e,t)},Sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"".concat(r,"children[").concat(t,"]")},Ic={chartName:"Treemap",defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],tooltipPayloadSearcher:gn,eventEmitter:void 0},ot=e=>{var{depth:t,node:r,index:a,dataKey:s,nameKey:i,nestedActiveTooltipIndex:o}=e,c=t===0?"":Sc(a,o),{children:d}=r,m=t+1,f=d&&d.length?d.map((p,x)=>ot({depth:m,node:p,index:x,dataKey:s,nameKey:i,nestedActiveTooltipIndex:c})):null,u;return f&&f.length?u=f.reduce((p,x)=>p+x[vt],0):u=Ze(r[s])||r[s]<=0?0:r[s],_(_({},r),{},{children:f,name:we(r,i,""),[vt]:u,depth:t,index:a,tooltipIndex:c})},Dc=e=>({x:e.x,y:e.y,width:e.width,height:e.height}),Mc=(e,t)=>{var r=t<0?0:t;return e.map(a=>{var s=a[vt]*r;return _(_({},a),{},{area:Ze(s)||s<=0?0:s})})},Lc=(e,t,r)=>{var a=t*t,s=e.area*e.area,{min:i,max:o}=e.reduce((c,d)=>({min:Math.min(c.min,d.area),max:Math.max(c.max,d.area)}),{min:1/0,max:0});return s?Math.max(a*o*r/s,s/(a*i*r)):1/0},Tc=(e,t,r,a)=>{var s=t?Math.round(e.area/t):0;(a||s>r.height)&&(s=r.height);for(var i=r.x,o,c=0,d=e.length;c<d;c++)o=e[c],o.x=i,o.y=r.y,o.height=s,o.width=Math.min(s?Math.round(o.area/s):0,r.x+r.width-i),i+=o.width;return o!=null&&(o.width+=r.x+r.width-i),_(_({},r),{},{y:r.y+s,height:r.height-s})},$c=(e,t,r,a)=>{var s=t?Math.round(e.area/t):0;(a||s>r.width)&&(s=r.width);for(var i=r.y,o,c=0,d=e.length;c<d;c++)o=e[c],o.x=r.x,o.y=i,o.width=s,o.height=Math.min(s?Math.round(o.area/s):0,r.y+r.height-i),i+=o.height;return o&&(o.height+=r.y+r.height-i),_(_({},r),{},{x:r.x+s,width:r.width-s})},va=(e,t,r,a)=>t===r.width?Tc(e,t,r,a):$c(e,t,r,a),lt=(e,t)=>{var{children:r}=e;if(r&&r.length){var a=Dc(e),s=[],i=1/0,o,c,d=Math.min(a.width,a.height),m=Mc(r,a.width*a.height/e[vt]),f=m.slice();for(s.area=0;f.length>0;)if(s.push(o=f[0]),s.area+=o.area,c=Lc(s,d,t),c<=i)f.shift(),i=c;else{var u,p;s.area-=(u=(p=s.pop())===null||p===void 0?void 0:p.area)!==null&&u!==void 0?u:0,a=va(s,d,a,!1),d=Math.min(a.width,a.height),s.length=s.area=0,i=1/0}return s.length&&(a=va(s,d,a,!0),s.length=s.area=0),_(_({},e),{},{children:m.map(x=>lt(x,t))})}return e},er={aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",nameKey:"name",type:"flat",isAnimationActive:"auto",isUpdateAnimationActive:"auto",animationBegin:0,animationDuration:1500,animationEasing:"linear"},Rc={isAnimationFinished:!1,formatRoot:null,currentRoot:null,nestIndex:[],prevAspectRatio:er.aspectRatio,prevDataKey:er.dataKey};function Kc(e){var{content:t,nodeProps:r,type:a,colorPanel:s,onMouseEnter:i,onMouseLeave:o,onClick:c}=e;if(l.isValidElement(t))return l.createElement(G,{onMouseEnter:i,onMouseLeave:o,onClick:c},l.cloneElement(t,r));if(typeof t=="function")return l.createElement(G,{onMouseEnter:i,onMouseLeave:o,onClick:c},t(r));var{x:d,y:m,width:f,height:u,index:p}=r,x=null;f>10&&u>10&&r.children&&a==="nest"&&(x=l.createElement(fr,{points:[{x:d+2,y:m+u/2},{x:d+6,y:m+u/2+3},{x:d+2,y:m+u/2+6}]}));var h=null,v=Vs(r.name);f>20&&u>20&&v.width<f&&v.height<u&&(h=l.createElement("text",{x:d+8,y:m+u/2+7,fontSize:14},r.name));var b=s||Us;return l.createElement("g",null,l.createElement(qs,Re({fill:r.depth<2?b[p%b.length]:"rgba(255,255,255,0)",stroke:"#fff"},Nc(r,["children"]),{onMouseEnter:i,onMouseLeave:o,onClick:c,"data-recharts-item-index":r.tooltipIndex})),x,h)}function _c(e){var t=Xe(),r={x:e.nodeProps.x+e.nodeProps.width/2,y:e.nodeProps.y+e.nodeProps.height/2},a=()=>{t(Fa({activeIndex:e.nodeProps.tooltipIndex,activeDataKey:e.dataKey,activeCoordinate:r,activeGraphicalItemId:e.id}))},s=()=>{},i=()=>{t(Hs({activeIndex:e.nodeProps.tooltipIndex,activeDataKey:e.dataKey,activeCoordinate:r,activeGraphicalItemId:e.id}))};return l.createElement(Kc,Re({},e,{onMouseEnter:a,onMouseLeave:s,onClick:i}))}var Bc=l.memo(e=>{var{dataKey:t,nameKey:r,stroke:a,fill:s,currentRoot:i,id:o}=e,c={dataDefinedOnItem:i,positions:void 0,settings:{stroke:a,strokeWidth:void 0,fill:s,dataKey:t,nameKey:r,name:void 0,hide:!1,type:void 0,color:s,unit:"",graphicalItemId:o}};return l.createElement(Pt,{tooltipEntrySettings:c})}),Wc={top:0,right:0,bottom:0,left:0};function Fc(e){var{content:t,nodeProps:r,isLeaf:a,treemapProps:s,onNestClick:i}=e,{id:o,isAnimationActive:c,animationBegin:d,animationDuration:m,animationEasing:f,isUpdateAnimationActive:u,type:p,colorPanel:x,dataKey:h,onAnimationStart:v,onAnimationEnd:b,onMouseEnter:y,onClick:k,onMouseLeave:O}=s,{width:N,height:P,x:g,y:I}=r,E=-g-N,D=0,S=M=>{(a||p==="nest")&&typeof y=="function"&&y(r,M)},A=M=>{(a||p==="nest")&&typeof O=="function"&&O(r,M)},j=()=>{p==="nest"&&i(r),(a||p==="nest")&&typeof k=="function"&&k(r)},w=l.useCallback(()=>{typeof b=="function"&&b()},[b]),C=l.useCallback(()=>{typeof v=="function"&&v()},[v]);return l.createElement(cc,{animationId:"treemap-".concat(r.tooltipIndex),from:"translate(".concat(E,"px, ").concat(D,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:d,easing:f,isActive:c,duration:m,onAnimationStart:C,onAnimationEnd:w},M=>l.createElement(G,{onMouseEnter:S,onMouseLeave:A,onClick:j,style:_(_({},M),{},{transformOrigin:"".concat(g," ").concat(I)})},l.createElement(_c,{id:o,content:t,dataKey:h,nodeProps:_(_({},r),{},{isAnimationActive:c,isUpdateAnimationActive:!u,width:N,height:P,x:g,y:I}),type:p,colorPanel:x})))}class bn extends l.PureComponent{constructor(){super(...arguments),Ve(this,"state",_({},Rc)),Ve(this,"handleClick",t=>{var{onClick:r,type:a}=this.props;if(a==="nest"&&t.children){var{width:s,height:i,dataKey:o,nameKey:c,aspectRatio:d}=this.props,m=ot({depth:0,node:_(_({},t),{},{x:0,y:0,width:s,height:i}),index:0,dataKey:o,nameKey:c,nestedActiveTooltipIndex:t.tooltipIndex}),f=lt(m,d),{nestIndex:u}=this.state;u.push(t),this.setState({formatRoot:f,currentRoot:m,nestIndex:u})}r&&r(t)}),Ve(this,"handleTouchMove",t=>{var r=t.touches[0],a=document.elementFromPoint(r.clientX,r.clientY);if(!(!a||!a.getAttribute||this.state.formatRoot==null)){var s=a.getAttribute("data-recharts-item-index"),i=gn(this.state.formatRoot,s);if(i){var{dataKey:o,dispatch:c}=this.props,d={x:i.x+i.width/2,y:i.y+i.height/2};c(Fa({activeIndex:s,activeDataKey:o,activeCoordinate:d,activeGraphicalItemId:this.props.id}))}}})}static getDerivedStateFromProps(t,r){if(t.data!==r.prevData||t.type!==r.prevType||t.width!==r.prevWidth||t.height!==r.prevHeight||t.dataKey!==r.prevDataKey||t.aspectRatio!==r.prevAspectRatio){var a=ot({depth:0,node:{children:t.data,x:0,y:0,width:t.width,height:t.height},index:0,dataKey:t.dataKey,nameKey:t.nameKey}),s=lt(a,t.aspectRatio);return _(_({},r),{},{formatRoot:s,currentRoot:a,nestIndex:[a],prevAspectRatio:t.aspectRatio,prevData:t.data,prevWidth:t.width,prevHeight:t.height,prevDataKey:t.dataKey,prevType:t.type})}return null}handleNestIndex(t,r){var{nestIndex:a}=this.state,{width:s,height:i,dataKey:o,nameKey:c,aspectRatio:d}=this.props,m=ot({depth:0,node:_(_({},t),{},{x:0,y:0,width:s,height:i}),index:0,dataKey:o,nameKey:c,nestedActiveTooltipIndex:t.tooltipIndex}),f=lt(m,d);a=a.slice(0,r+1),this.setState({formatRoot:f,currentRoot:t,nestIndex:a})}renderNode(t,r){var{content:a,type:s}=this.props,i=_(_(_({},U(this.props)),r),{},{root:t}),o=!r.children||!r.children.length,{currentRoot:c}=this.state,d=((c==null?void 0:c.children)||[]).filter(m=>m.depth===r.depth&&m.name===r.name);return!d.length&&t.depth&&s==="nest"?null:l.createElement(G,{key:"recharts-treemap-node-".concat(i.x,"-").concat(i.y,"-").concat(i.name),className:"recharts-treemap-depth-".concat(r.depth)},l.createElement(Fc,{isLeaf:o,content:a,nodeProps:i,treemapProps:this.props,onNestClick:this.handleClick}),r.children&&r.children.length?r.children.map(m=>this.renderNode(r,m)):null)}renderAllNodes(){var{formatRoot:t}=this.state;return t?this.renderNode(t,t):null}renderNestIndex(){var{nameKey:t,nestIndexContent:r}=this.props,{nestIndex:a}=this.state;return l.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},a.map((s,i)=>{var o=Wa(s,t,"root"),c;return l.isValidElement(r)&&(c=l.cloneElement(r,s,i)),typeof r=="function"?c=r(s,i):c=o,l.createElement("div",{onClick:this.handleNestIndex.bind(this,s,i),key:"nest-index-".concat(zs()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},c)}))}render(){var t=this.props,{width:r,height:a,className:s,style:i,children:o,type:c}=t,d=kc(t,Ac),m=U(d);return l.createElement(l.Fragment,null,l.createElement(Bc,{dataKey:this.props.dataKey,nameKey:this.props.nameKey,stroke:this.props.stroke,fill:this.props.fill,currentRoot:this.state.currentRoot,id:this.props.id}),l.createElement(Gs,Re({},m,{width:r,height:c==="nest"?a-30:a,onTouchMove:this.handleTouchMove}),this.renderAllNodes(),o),c==="nest"&&this.renderNestIndex())}}Ve(bn,"displayName","Treemap");function zc(e){var t=Xe(),r=Ws(),a=Fs();if(!Sr(r)||!Sr(a))return null;var{id:s}=e;return l.createElement(jt,{id:s,type:"treemap"},i=>l.createElement(bn,Re({},e,{id:i,width:r,height:a,dispatch:t})))}function Gc(e){var t,r=se(e,er),{className:a,style:s,width:i,height:o}=r,[c,d]=l.useState(null);return l.createElement(Rs,{preloadedState:{options:Ic},reduxStoreName:(t=r.className)!==null&&t!==void 0?t:"Treemap"},l.createElement(Ks,{margin:Wc}),l.createElement(_s,{dispatchTouchEvents:!1,className:a,style:s,width:i,height:o,responsive:!1,ref:m=>{c==null&&m!=null&&d(m)},onMouseEnter:void 0,onMouseLeave:void 0,onClick:void 0,onMouseMove:void 0,onMouseDown:void 0,onMouseUp:void 0,onContextMenu:void 0,onDoubleClick:void 0,onTouchStart:void 0,onTouchMove:void 0,onTouchEnd:void 0},l.createElement(Bs.Provider,{value:c},l.createElement(zc,r))))}function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ya(Object(r),!0).forEach(function(a){Vc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vc(e,t,r){return(t=qc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qc(e){var t=Uc(e,"string");return typeof t=="symbol"?t:t+""}function Uc(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hc=["axis"],Yc=ga(ga({},Xs),{},{layout:"centric",startAngle:90,endAngle:-270}),Xc=l.forwardRef((e,t)=>{var r=se(e,Yc);return l.createElement(Ys,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hc,tooltipPayloadSearcher:At,categoricalChartProps:r,ref:t})}),Zc=["axis"],Jc=l.forwardRef((e,t)=>l.createElement(ur,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zc,tooltipPayloadSearcher:At,categoricalChartProps:e,ref:t})),Qc=["axis"],ed=l.forwardRef((e,t)=>l.createElement(ur,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qc,tooltipPayloadSearcher:At,categoricalChartProps:e,ref:t}));const tt=["#f43f5e","#f97316","#eab308","#10b981","#14b8a6","#0ea5e9","#6366f1","#ec4899","#84cc16","#8b5cf6"],Xt=({icon:e,size:t=14})=>e?Ke(e)?n.jsx("span",{style:{fontSize:`${t}px`,lineHeight:1},children:e}):n.jsx("img",{src:_e(e),alt:"",style:{width:`${t}px`,height:`${t}px`,borderRadius:"3px"},className:"flex-shrink-0"}):null;function td({data:e,loading:t,currency:r="ARS",dateRange:a,onSliceClick:s}){const[i,o]=l.useState(null),[c,d]=l.useState(65),[m,f]=l.useState(!1),[u,p]=l.useState(!0),x=l.useRef(!1),h=l.useRef(null),v=l.useCallback((w,C)=>o(C),[]),b=l.useCallback(()=>o(null),[]),y=l.useCallback(w=>{w.preventDefault(),x.current=!0;const C=T=>{var H,ge;if(!x.current||!h.current)return;const L=h.current.getBoundingClientRect(),R=(T.clientX||((ge=(H=T.touches)==null?void 0:H[0])==null?void 0:ge.clientX))-L.left,$=Math.round(R/L.width*100);d(Math.max(35,Math.min(75,$)))},M=()=>{x.current=!1,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",M)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",M),document.addEventListener("touchmove",C),document.addEventListener("touchend",M)},[]);if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-32 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Gastos por categora"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin gastos para mostrar"})})})]});const k=e.reduce((w,C)=>w+C.value,0),O=e[0],N=O?O.value/k*100:0,P=e.reduce((w,C,M)=>(w[C.name]={label:C.name,color:tt[M%tt.length],icon:C.icon},w),{}),g=e.map((w,C)=>({...w,fill:tt[C%tt.length]})),I=({active:w,payload:C})=>{if(!w||!(C!=null&&C.length))return null;const M=C[0].payload;return n.jsxs("div",{className:"grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[M.icon&&n.jsx(Xt,{icon:M.icon,size:14}),n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:M.name})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:"Monto"}),n.jsx("span",{className:"font-mono font-medium tabular-nums text-[var(--accent-red)]",children:K(M.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-0.5 border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:"Porcentaje"}),n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:[M.percentage.toFixed(1),"%"]})]})]})},E=6,D=g.length>E,S=m?g:g.slice(0,E),A=g.length-E,j=()=>n.jsxs("div",{className:"flex flex-col gap-0.5",children:[S.map((w,C)=>{const M=g.indexOf(w),T=(w.value/k*100).toFixed(1),L=i===M;return n.jsxs("button",{className:`flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-xs transition-all duration-200 text-left ${L?"bg-[var(--bg-tertiary)] scale-[1.02] shadow-sm":"hover:bg-[var(--bg-tertiary)]"}`,onClick:()=>s==null?void 0:s(w.name),onMouseEnter:()=>o(M),onMouseLeave:()=>o(null),style:{cursor:s?"pointer":"default"},children:[n.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 transition-transform duration-200 ${L?"scale-125":""}`,style:{backgroundColor:w.fill}}),w.icon&&n.jsx(Xt,{icon:w.icon,size:14}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:`block truncate transition-colors duration-200 ${L?"text-[var(--text-primary)] font-medium":"text-[var(--text-primary)]"}`,children:w.name}),n.jsx("span",{className:"block text-[10px] text-[var(--text-muted)] tabular-nums",children:K(w.value,r)})]}),n.jsxs("span",{className:`tabular-nums font-medium flex-shrink-0 transition-colors duration-200 ${L?"text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:[T,"%"]})]},`legend-${M}`)}),D&&n.jsxs("button",{onClick:()=>f(!m),className:"flex items-center justify-center gap-1.5 px-2.5 py-2 rounded-lg text-xs font-medium transition-colors hover:bg-[var(--bg-tertiary)]",style:{color:"var(--accent-primary)"},children:[n.jsx("span",{children:m?"Ver menos":`Ver todas (${A} ms)`}),n.jsx("svg",{className:`w-3.5 h-3.5 transition-transform duration-200 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]});return n.jsx(xe,{delay:.1,children:n.jsxs(B,{children:[n.jsxs(W,{className:"pb-0",children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Gastos por categora",O&&N>0&&n.jsx(Je,{delay:.4,children:n.jsxs(Ee,{variant:"outline",className:"text-red-500 bg-red-500/10 border-none",children:[n.jsx(Oe,{className:"h-3 w-3"}),n.jsxs("span",{children:[N.toFixed(0),"%"]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(J,{className:"flex items-center gap-1",children:O?n.jsxs(n.Fragment,{children:["Mayor gasto: ",O.icon&&n.jsx(Xt,{icon:O.icon,size:13})," ",O.name]}):"Distribucin de gastos"}),(a==null?void 0:a.from)&&(a==null?void 0:a.to)&&n.jsxs("span",{className:"text-[11px] text-[var(--text-muted)]",children:[X(new Date(a.from),"d MMM yyyy",{locale:ee}),"  ",X(new Date(a.to),"d MMM yyyy",{locale:ee})]})]}),n.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:w=>p(w.target.checked),className:"w-3.5 h-3.5 rounded accent-[var(--accent-primary)] cursor-pointer"}),n.jsx("span",{className:"text-[11px] text-[var(--text-muted)]",children:"%"})]})]})]}),n.jsx(F,{className:"flex-1 pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start",ref:h,children:[n.jsx("div",{className:"flex-shrink-0",style:{width:`${c}%`},children:n.jsx(ve,{config:P,className:"mx-auto aspect-square h-[300px] lg:h-[380px]",children:n.jsxs(za,{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"pie-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),n.jsx(ye,{cursor:!1,content:n.jsx(I,{})}),n.jsxs(Ga,{data:g,dataKey:"value",nameKey:"name",innerRadius:75,outerRadius:145,strokeWidth:2,paddingAngle:3,cornerRadius:6,style:{cursor:s?"pointer":"default"},onClick:w=>s==null?void 0:s(w.name),onMouseEnter:v,onMouseLeave:b,activeIndex:i,activeShape:({cx:w,cy:C,innerRadius:M,outerRadius:T,startAngle:L,endAngle:R,fill:$})=>n.jsx(Ua,{cx:w,cy:C,innerRadius:M-2,outerRadius:T+6,startAngle:L,endAngle:R,fill:$,stroke:"var(--bg-secondary)",strokeWidth:2}),children:[g.map((w,C)=>n.jsx(Va,{fill:w.fill,stroke:"var(--bg-secondary)",filter:"url(#pie-glow)"},`cell-${C}`)),n.jsx(qa,{dataKey:"percentage",position:"inside",stroke:"none",fontSize:13,fontWeight:600,fill:u?"white":"transparent",formatter:w=>u&&w>=4?`${w.toFixed(0)}%`:""})]})]})})}),n.jsx("div",{className:"hidden lg:flex items-center justify-center cursor-col-resize select-none flex-shrink-0 group",style:{width:"12px"},onMouseDown:y,onTouchStart:y,children:n.jsx("div",{className:"w-1 h-12 rounded-full transition-colors group-hover:bg-[var(--text-muted)]",style:{backgroundColor:"var(--border-subtle)"}})}),n.jsx("div",{className:"min-w-0 mt-2 lg:mt-0",style:{flex:`0 0 ${100-c-2}%`},children:n.jsx(j,{})})]})})]})})}const rt=["#10b981","#14b8a6","#0ea5e9","#6366f1","#f59e0b","#8b5cf6","#84cc16","#ec4899","#f97316","#22d3ee"],Zt=({icon:e,size:t=14})=>e?Ke(e)?n.jsx("span",{style:{fontSize:`${t}px`,lineHeight:1},children:e}):n.jsx("img",{src:_e(e),alt:"",style:{width:`${t}px`,height:`${t}px`,borderRadius:"3px"},className:"flex-shrink-0"}):null;function rd({data:e,loading:t,currency:r="ARS",dateRange:a}){const[s,i]=l.useState(null),[o,c]=l.useState(65),[d,m]=l.useState(!1),[f,u]=l.useState(!0),p=l.useRef(!1),x=l.useRef(null),h=l.useCallback((j,w)=>i(w),[]),v=l.useCallback(()=>i(null),[]),b=l.useCallback(j=>{j.preventDefault(),p.current=!0;const w=M=>{var $,H;if(!p.current||!x.current)return;const T=x.current.getBoundingClientRect(),L=(M.clientX||((H=($=M.touches)==null?void 0:$[0])==null?void 0:H.clientX))-T.left,R=Math.round(L/T.width*100);c(Math.max(35,Math.min(75,R)))},C=()=>{p.current=!1,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",C)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",C),document.addEventListener("touchmove",w),document.addEventListener("touchend",C)},[]);if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-32 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Ingresos por categora"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin ingresos para mostrar"})})})]});const y=e.reduce((j,w)=>j+w.value,0),k=e[0],O=k?k.value/y*100:0,N=e.reduce((j,w,C)=>(j[w.name]={label:w.name,color:rt[C%rt.length],icon:w.icon},j),{}),P=e.map((j,w)=>({...j,fill:rt[w%rt.length]})),g=({active:j,payload:w})=>{if(!j||!(w!=null&&w.length))return null;const C=w[0].payload;return n.jsxs("div",{className:"grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[C.icon&&n.jsx(Zt,{icon:C.icon,size:14}),n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:C.name})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:"Monto"}),n.jsx("span",{className:"font-mono font-medium tabular-nums text-[var(--accent-green)]",children:K(C.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-0.5 border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:"Porcentaje"}),n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:[C.percentage.toFixed(1),"%"]})]})]})},I=6,E=P.length>I,D=d?P:P.slice(0,I),S=P.length-I,A=()=>n.jsxs("div",{className:"flex flex-col gap-0.5",children:[D.map(j=>{const w=P.indexOf(j),C=(j.value/y*100).toFixed(1),M=s===w;return n.jsxs("div",{className:`flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-xs transition-all duration-200 ${M?"bg-[var(--bg-tertiary)] scale-[1.02] shadow-sm":"hover:bg-[var(--bg-tertiary)]"}`,onMouseEnter:()=>i(w),onMouseLeave:()=>i(null),children:[n.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 transition-transform duration-200 ${M?"scale-125":""}`,style:{backgroundColor:j.fill}}),j.icon&&n.jsx(Zt,{icon:j.icon,size:14}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:`block truncate transition-colors duration-200 ${M?"text-[var(--text-primary)] font-medium":"text-[var(--text-primary)]"}`,children:j.name}),n.jsx("span",{className:"block text-[10px] text-[var(--text-secondary)] tabular-nums",children:K(j.value,r)})]}),n.jsxs("span",{className:`tabular-nums font-medium flex-shrink-0 transition-colors duration-200 ${M?"text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:[C,"%"]})]},`legend-${w}`)}),E&&n.jsxs("button",{onClick:()=>m(!d),className:"flex items-center justify-center gap-1.5 px-2.5 py-2 rounded-lg text-xs font-medium transition-colors hover:bg-[var(--bg-tertiary)]",style:{color:"var(--accent-primary)"},children:[n.jsx("span",{children:d?"Ver menos":`Ver todas (${S} ms)`}),n.jsx("svg",{className:`w-3.5 h-3.5 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]});return n.jsx(xe,{delay:.15,children:n.jsxs(B,{children:[n.jsxs(W,{className:"pb-0",children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Ingresos por categora",k&&O>0&&n.jsx(Je,{delay:.4,children:n.jsxs(Ee,{variant:"outline",className:"text-green-500 bg-green-500/10 border-none",children:[n.jsx(Oe,{className:"h-3 w-3"}),n.jsxs("span",{children:[O.toFixed(0),"%"]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(J,{className:"flex items-center gap-1",children:k?n.jsxs(n.Fragment,{children:["Mayor ingreso: ",k.icon&&n.jsx(Zt,{icon:k.icon,size:13})," ",k.name]}):"Distribucin de ingresos"}),(a==null?void 0:a.from)&&(a==null?void 0:a.to)&&n.jsxs("span",{className:"text-[11px] text-[var(--text-muted)]",children:[X(new Date(a.from),"d MMM yyyy",{locale:ee}),"  ",X(new Date(a.to),"d MMM yyyy",{locale:ee})]})]}),n.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[n.jsx("input",{type:"checkbox",checked:f,onChange:j=>u(j.target.checked),className:"w-3.5 h-3.5 rounded accent-[var(--accent-primary)] cursor-pointer"}),n.jsx("span",{className:"text-[11px] text-[var(--text-muted)]",children:"%"})]})]})]}),n.jsx(F,{className:"flex-1 pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start",ref:x,children:[n.jsx("div",{className:"flex-shrink-0",style:{width:`${o}%`},children:n.jsx(ve,{config:N,className:"mx-auto aspect-square h-[300px] lg:h-[380px]",children:n.jsxs(za,{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"income-pie-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),n.jsx(ye,{cursor:!1,content:n.jsx(g,{})}),n.jsxs(Ga,{data:P,dataKey:"value",nameKey:"name",innerRadius:75,outerRadius:145,strokeWidth:2,paddingAngle:3,cornerRadius:6,onMouseEnter:h,onMouseLeave:v,activeIndex:s,activeShape:({cx:j,cy:w,innerRadius:C,outerRadius:M,startAngle:T,endAngle:L,fill:R})=>n.jsx(Ua,{cx:j,cy:w,innerRadius:C-2,outerRadius:M+6,startAngle:T,endAngle:L,fill:R,stroke:"var(--bg-secondary)",strokeWidth:2}),children:[P.map((j,w)=>n.jsx(Va,{fill:j.fill,stroke:"var(--bg-secondary)",filter:"url(#income-pie-glow)"},`cell-${w}`)),n.jsx(qa,{dataKey:"percentage",position:"inside",stroke:"none",fontSize:13,fontWeight:600,fill:f?"white":"transparent",formatter:j=>f&&j>=4?`${j.toFixed(0)}%`:""})]})]})})}),n.jsx("div",{className:"hidden lg:flex items-center justify-center cursor-col-resize select-none flex-shrink-0 group",style:{width:"12px"},onMouseDown:b,onTouchStart:b,children:n.jsx("div",{className:"w-1 h-12 rounded-full transition-colors group-hover:bg-[var(--text-muted)]",style:{backgroundColor:"var(--border-subtle)"}})}),n.jsx("div",{className:"min-w-0 mt-2 lg:mt-0",style:{flex:`0 0 ${100-o-2}%`},children:n.jsx(A,{})})]})})]})})}const Le=["#f43f5e","#f97316","#eab308","#10b981","#14b8a6","#0ea5e9","#8b5cf6","#ec4899","#6366f1","#84cc16"],ad=({x:e,y:t,width:r,height:a,name:s,value:i,percentage:o,index:c,color:d,currency:m,onClick:f})=>{if(r<4||a<4)return null;const u=r<60||a<40,p=!u&&(r<120||a<60),x=d||Le[c%Le.length];return n.jsxs("g",{onClick:()=>f==null?void 0:f(s),style:{cursor:f?"pointer":"default"},children:[n.jsx("rect",{x:e,y:t,width:r,height:a,rx:4,ry:4,fill:x,stroke:"var(--bg-secondary)",strokeWidth:2,style:{transition:"opacity 0.15s"},className:"hover:opacity-80"}),!u&&n.jsxs(n.Fragment,{children:[n.jsx("text",{x:e+r/2,y:t+(p?a/2-6:a/2-12),textAnchor:"middle",fill:"white",fontSize:p?11:12,fontWeight:600,children:s.length>Math.floor(r/7)?s.substring(0,Math.floor(r/7))+"...":s}),!p&&n.jsx("text",{x:e+r/2,y:t+a/2+4,textAnchor:"middle",fill:"rgba(255,255,255,0.8)",fontSize:11,children:K(i,m)}),n.jsxs("text",{x:e+r/2,y:t+(p?a/2+10:a/2+20),textAnchor:"middle",fill:"rgba(255,255,255,0.6)",fontSize:10,children:[o==null?void 0:o.toFixed(1),"%"]})]})]})};function nd({data:e,currency:t="ARS",onCategoryClick:r}){if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Gastos por categora"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-64 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin gastos para mostrar"})})})]});const a=e.map((o,c)=>({...o,color:Le[c%Le.length]})),s=a.reduce((o,c,d)=>(o[c.name]={label:c.name,color:Le[d%Le.length]},o),{}),i=({active:o,payload:c})=>{var m;if(!o||!(c!=null&&c.length))return null;const d=c[0].payload;return n.jsxs("div",{className:"grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[d.icon&&(Ke(d.icon)?n.jsx("span",{style:{fontSize:"14px",lineHeight:1},children:d.icon}):n.jsx("img",{src:_e(d.icon),alt:"",className:"w-3.5 h-3.5 rounded-sm"})),n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:d.name})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:"Monto"}),n.jsx("span",{className:"font-mono font-medium tabular-nums text-[var(--accent-red)]",children:K(d.value,t)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-0.5 border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:"Porcentaje"}),n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:[(m=d.percentage)==null?void 0:m.toFixed(1),"%"]})]})]})};return n.jsx(xe,{delay:.15,children:n.jsxs(B,{children:[n.jsxs(W,{className:"pb-2",children:[n.jsx(Z,{children:"Gastos por categora"}),n.jsx(J,{children:"Vista treemap"})]}),n.jsx(F,{className:"pb-4",children:n.jsx(ve,{config:s,className:"w-full h-[280px]",children:n.jsx(Gc,{data:a,dataKey:"value",nameKey:"name",content:n.jsx(ad,{currency:t,onClick:r}),children:n.jsx(ye,{cursor:!1,content:n.jsx(i,{})})})})})]})})}const sd={ingresos:{label:"Ingresos",color:"var(--accent-green)"},gastos:{label:"Gastos",color:"var(--accent-red)"}};function id({data:e,loading:t,currency:r="ARS"}){if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-40 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Ingresos vs Gastos"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin movimientos para mostrar"})})})]});const a=e.reduce((f,u)=>f+(u.ingresos||0),0),s=e.reduce((f,u)=>f+(u.gastos||0),0),i=a-s,o=i>=0,c=s>0?(a-s)/s*100:0,d=f=>{const u=Math.round(f*100)/100;return Math.abs(u)<.01?"0":u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:u.toFixed(0)},m=({active:f,payload:u,label:p})=>{var b,y;if(!f||!(u!=null&&u.length))return null;const x=((b=u.find(k=>k.dataKey==="ingresos"))==null?void 0:b.value)||0,h=((y=u.find(k=>k.dataKey==="gastos"))==null?void 0:y.value)||0,v=x-h;return n.jsxs("div",{className:"grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsx("div",{className:"font-medium text-[var(--text-primary)] mb-1",children:p}),u.map((k,O)=>n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:k.color}}),n.jsx("span",{className:"text-[var(--text-muted)]",children:k.name})]}),n.jsx("span",{className:"font-mono font-medium tabular-nums",style:{color:k.color},children:K(k.value)})]},O)),u.length===2&&n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-1 mt-1 border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"text-[var(--text-muted)] font-medium",children:"Balance"}),n.jsx("span",{className:"font-mono font-medium tabular-nums",style:{color:v>=0?"var(--accent-green)":"var(--accent-red)"},children:K(v)})]})]})};return n.jsx(xe,{delay:.2,children:n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Ingresos vs Gastos",c!==0&&n.jsx(Je,{delay:.5,children:n.jsxs(Ee,{variant:"outline",className:`border-none ${o?"text-green-500 bg-green-500/10":"text-red-500 bg-red-500/10"}`,children:[o?n.jsx(Oe,{className:"h-3 w-3"}):n.jsx(mr,{className:"h-3 w-3"}),n.jsxs("span",{children:[Math.abs(c).toFixed(1),"%"]})]})})]}),n.jsxs(J,{children:["Balance total: "," ",n.jsx("span",{className:"font-medium",style:{color:o?"var(--accent-green)":"var(--accent-red)"},children:K(i)})]})]}),n.jsx(F,{children:n.jsx(ve,{config:sd,className:"h-80 w-full",children:n.jsxs(Zs,{data:e,margin:{left:-20,right:12,top:12,bottom:0},children:[n.jsxs("defs",{children:[n.jsx("pattern",{id:"bar-pattern-dots",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:n.jsx("circle",{cx:"2",cy:"2",r:"1",fill:"var(--border-subtle)",opacity:"0.5"})}),n.jsxs("linearGradient",{id:"ingresosGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--accent-green)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--accent-green)",stopOpacity:.6})]}),n.jsxs("linearGradient",{id:"gastosGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--accent-red)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--accent-red)",stopOpacity:.6})]}),n.jsxs("filter",{id:"bar-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"85%",fill:"url(#bar-pattern-dots)"}),n.jsx(Ot,{strokeDasharray:"3 3",vertical:!1,stroke:"var(--border-subtle)",strokeOpacity:.7}),n.jsx(kt,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(Et,{tickFormatter:d,tickLine:!1,axisLine:!1,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(ye,{cursor:{fill:"var(--bg-tertiary)",opacity:.3},content:n.jsx(m,{})}),n.jsx(Qs,{content:n.jsx(ei,{})}),n.jsx(ut,{dataKey:"ingresos",fill:"url(#ingresosGradient)",radius:[6,6,0,0],maxBarSize:40,filter:"url(#bar-glow)"}),n.jsx(ut,{dataKey:"gastos",fill:"url(#gastosGradient)",radius:[6,6,0,0],maxBarSize:40,filter:"url(#bar-glow)"})]})})})]})})}const od={balance:{label:"Balance",color:"#14b8a6"}};function ld({data:e,loading:t,currency:r="ARS"}){var h,v;if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-36 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Evolucin del balance"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-60 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin movimientos para mostrar"})})})]});const a=((h=e[0])==null?void 0:h.balance)||0,s=((v=e[e.length-1])==null?void 0:v.balance)||0,i=Math.abs(a)>1?(s-a)/Math.abs(a)*100:0,o=Math.min(Math.max(i,-999),999),c=o>=0,d=e.map(b=>b.balance),m=Math.min(...d),f=Math.max(...d),u=(f-m)*.1||1e3,p=b=>{const y=Math.round(b*100)/100;return Math.abs(y)<.01?"0":y>=1e6||y<=-1e6?`${(y/1e6).toFixed(1)}M`:y>=1e3||y<=-1e3?`${(y/1e3).toFixed(0)}K`:y.toFixed(0)},x=({active:b,payload:y})=>{if(!b||!(y!=null&&y.length))return null;const k=y[0].value,O=y[0].payload.month;return n.jsxs("div",{className:"grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsx("div",{className:"font-medium text-[var(--text-primary)]",children:O}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:"Balance"}),n.jsx("span",{className:"font-mono font-medium tabular-nums",style:{color:k>=0?"var(--accent-green)":"var(--accent-red)"},children:K(k)})]})]})};return n.jsx(xe,{children:n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Evolucin del balance",o!==0&&n.jsx(Je,{delay:.3,children:n.jsxs(Ee,{variant:"outline",className:`border-none ${c?"text-green-500 bg-green-500/10":"text-red-500 bg-red-500/10"}`,children:[c?n.jsx(Oe,{className:"h-3 w-3"}):n.jsx(mr,{className:"h-3 w-3"}),n.jsxs("span",{children:[Math.abs(o).toFixed(1),"%"]})]})})]}),n.jsx(J,{children:"ltimos meses"})]}),n.jsx(F,{children:n.jsx(ve,{config:od,className:"h-60 w-full",children:n.jsxs(uc,{data:e,margin:{left:-20,right:12,top:12,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"balance-line-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),n.jsx(Ot,{strokeDasharray:"3 3",vertical:!1,stroke:"var(--text-secondary)",strokeOpacity:.2}),n.jsx(kt,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(Et,{tickFormatter:p,tickLine:!1,axisLine:!1,tick:{fill:"var(--text-secondary)",fontSize:11},domain:[m-u,f+u]}),n.jsx(ye,{cursor:!1,content:n.jsx(x,{})}),n.jsx(gr,{y:0,stroke:"var(--text-secondary)",strokeDasharray:"3 3",strokeOpacity:.5}),n.jsx(jr,{type:"monotone",dataKey:"balance",stroke:"#14b8a6",strokeWidth:3,dot:{r:3,fill:"#14b8a6",strokeWidth:0},activeDot:{r:6,fill:"#14b8a6",stroke:"var(--bg-secondary)",strokeWidth:2},filter:"url(#balance-line-glow)"})]})})})]})})}const cd=["Lu","Ma","Mi","Ju","Vi","Sa","Do"],dd=e=>e.replace(/^[\p{Emoji}\p{Emoji_Presentation}\u200d\uFE0F]+\s*/u,"").trim()||e;function ud({movements:e,dateRange:t,currency:r="ARS",categoryIconMap:a={}}){const[s,i]=l.useState(null),[o,c]=l.useState(null),[d,m]=l.useState({x:0,y:0}),{gastosPorDia:f,percentiles:u,weeks:p,monthLabels:x}=l.useMemo(()=>{if(!(t!=null&&t.from)||!(t!=null&&t.to)||!(e!=null&&e.length))return{gastosPorDia:{},percentiles:[0,0,0],weeks:[],monthLabels:[]};const N={};e.filter(L=>L.tipo==="gasto").forEach(L=>{const R=L.fecha,$=r==="ARS"?L.montoPesos||L.monto||0:L.montoDolares||0;N[R]||(N[R]={total:0,count:0,movimientos:[]}),N[R].total+=$,N[R].count+=1,N[R].movimientos.push(L)});const g=Object.values(N).map(L=>L.total).filter(L=>L>0);g.sort((L,R)=>L-R);const I=(L,R)=>{if(L.length===0)return 0;const $=Math.ceil(L.length*R)-1;return L[Math.max(0,$)]},E=I(g,.25),D=I(g,.5),S=I(g,.75),A=Cn(t.from,{weekStartsOn:1}),j=Sn(t.to,{weekStartsOn:1}),w=ri({start:A,end:j}),C=[];for(let L=0;L<w.length;L+=7)C.push(w.slice(L,L+7));const M=[];let T=-1;return C.forEach((L,R)=>{const $=L[0],H=$.getMonth();H!==T&&(M.push({label:X($,"MMM",{locale:ee}),col:R}),T=H)}),{gastosPorDia:N,percentiles:[E,D,S],weeks:C,monthLabels:M}},[e,t,r]),h=N=>{const P=f[N];if(!P||P.total===0)return"var(--bg-tertiary)";const g=P.total;return g<=u[0]?"rgba(244, 63, 94, 0.25)":g<=u[1]?"rgba(244, 63, 94, 0.5)":g<=u[2]?"rgba(244, 63, 94, 0.75)":"rgba(244, 63, 94, 1)"},v=(N,P)=>{var E;i(N);const g=P.currentTarget.getBoundingClientRect(),I=(E=P.currentTarget.closest(".heatmap-container"))==null?void 0:E.getBoundingClientRect();I&&m({x:g.left-I.left+g.width/2,y:g.top-I.top-8})},b=N=>{c(o===N?null:N)},y=o?f[o]:null;if(!(t!=null&&t.from)||!(t!=null&&t.to))return null;const O=`20px repeat(${p.length||1}, 1fr)`;return n.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Mapa de gastos diarios"}),n.jsxs("div",{className:"heatmap-container relative",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:O,gap:"0 2px",marginBottom:"4px"},children:[n.jsx("div",{})," ",p.map((N,P)=>{const g=x.find(I=>I.col===P);return n.jsx("div",{className:"text-[10px] font-medium truncate",style:{color:"var(--text-secondary)"},children:g?g.label.charAt(0).toUpperCase()+g.label.slice(1):""},P)})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:O,gap:"2px"},children:cd.map((N,P)=>n.jsxs(l.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-end pr-0.5",style:{fontSize:"9px",color:"var(--text-secondary)",visibility:P%2===0?"visible":"hidden"},children:N}),p.map((g,I)=>{const E=g[P],D=X(E,"yyyy-MM-dd"),S=E>=t.from&&E<=t.to,A=s===D,j=o===D;return n.jsx("div",{className:"cursor-pointer transition-all duration-150",style:{aspectRatio:"1",borderRadius:"20%",backgroundColor:S?h(D):"transparent",opacity:S?1:.15,outline:j?"2px solid var(--accent-primary)":A?"1px solid var(--text-muted)":"none",outlineOffset:"1px"},onMouseEnter:w=>v(D,w),onMouseLeave:()=>i(null),onClick:()=>b(D)},D)})]},N))}),s&&f[s]&&n.jsxs("div",{className:"absolute z-10 px-2.5 py-1.5 rounded-lg shadow-xl pointer-events-none",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-subtle)",left:`${d.x}px`,top:`${d.y}px`,transform:"translate(-50%, -100%)"},children:[n.jsx("p",{className:"text-xs font-medium capitalize",style:{color:"var(--text-primary)"},children:X(new Date(s+"T12:00:00"),"EEEE d 'de' MMMM",{locale:ee})}),n.jsx("p",{className:"text-xs",style:{color:"var(--accent-red)"},children:K(f[s].total,r)}),n.jsxs("p",{className:"text-[10px]",style:{color:"var(--text-secondary)"},children:[f[s].count," transaccion",f[s].count!==1?"es":""]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3 justify-end",children:[n.jsx("span",{className:"text-[10px]",style:{color:"var(--text-secondary)"},children:"Menos"}),n.jsx("div",{className:"rounded-[3px]",style:{width:"12px",height:"12px",backgroundColor:"var(--bg-tertiary)"}}),n.jsx("div",{className:"rounded-[3px]",style:{width:"12px",height:"12px",backgroundColor:"rgba(244, 63, 94, 0.25)"}}),n.jsx("div",{className:"rounded-[3px]",style:{width:"12px",height:"12px",backgroundColor:"rgba(244, 63, 94, 0.5)"}}),n.jsx("div",{className:"rounded-[3px]",style:{width:"12px",height:"12px",backgroundColor:"rgba(244, 63, 94, 0.75)"}}),n.jsx("div",{className:"rounded-[3px]",style:{width:"12px",height:"12px",backgroundColor:"rgba(244, 63, 94, 1)"}}),n.jsx("span",{className:"text-[10px]",style:{color:"var(--text-secondary)"},children:"Mas"})]})]}),o&&y&&n.jsxs("div",{className:"mt-4 pt-4 space-y-2",style:{borderTop:"1px solid var(--border-subtle)"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium capitalize",style:{color:"var(--text-primary)"},children:X(new Date(o+"T12:00:00"),"EEEE d 'de' MMMM yyyy",{locale:ee})}),n.jsx("button",{onClick:()=>c(null),className:"p-1 rounded-lg transition-colors hover:bg-[var(--bg-tertiary)]",children:n.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"space-y-1",children:y.movimientos.map((N,P)=>{const g=N.categoria||"Sin categoria",I=dd(g),E=a[I]||a[g];return n.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[E&&(Ke(E)?n.jsx("span",{className:"text-sm flex-shrink-0",children:E}):n.jsx("img",{src:_e(E),alt:"",className:"w-4 h-4 rounded-sm flex-shrink-0"})),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",style:{color:"var(--text-primary)"},children:I}),N.nota&&n.jsx("p",{className:"text-[10px] truncate",style:{color:"var(--text-secondary)"},children:N.nota})]})]}),n.jsx("span",{className:"text-xs font-medium ml-2",style:{color:"var(--accent-red)"},children:K(r==="ARS"?N.montoPesos||N.monto||0:N.montoDolares||0,r)})]},N.id||P)})}),n.jsxs("p",{className:"text-[10px] text-right",style:{color:"var(--text-secondary)"},children:["Total: ",K(y.total,r)," (",y.count," transacciones)"]})]})]})}const ie=["#f43f5e","#f97316","#eab308","#10b981","#14b8a6","#0ea5e9","#8b5cf6","#ec4899","#6366f1","#84cc16"],ba=({icon:e,size:t=12})=>e?Ke(e)?n.jsx("span",{style:{fontSize:`${t}px`,lineHeight:1},children:e}):n.jsx("img",{src:_e(e),alt:"",style:{width:`${t}px`,height:`${t}px`,borderRadius:"2px"},className:"flex-shrink-0"}):null,ze=e=>e.replace(/^[\p{Emoji}\p{Emoji_Presentation}\u200d\uFE0F]+\s*/u,"").trim()||e;function md({movements:e,dateRange:t,currency:r="ARS",categoryIconMap:a={}}){const[s,i]=l.useState(new Set),{chartData:o,categorias:c,chartConfig:d,topCategory:m}=l.useMemo(()=>{if(!(t!=null&&t.from)||!(t!=null&&t.to)||!(e!=null&&e.length))return{chartData:[],categorias:[],chartConfig:{},topCategory:null};const h=e.filter(A=>A.tipo==="gasto");if(h.length===0)return{chartData:[],categorias:[],chartConfig:{},topCategory:null};const v={};h.forEach(A=>{const j=ze(A.categoria||"Sin categoria"),w=r==="ARS"?A.montoPesos||A.monto||0:A.montoDolares||0;v[j]=(v[j]||0)+w});const b=Object.entries(v).sort(([,A],[,j])=>j-A),y=b.slice(0,8).map(([A])=>A),k=b.length>8,O=k?[...y,"Otros"]:y,N=b[0]?{name:b[0][0],value:b[0][1]}:null,P=O.reduce((A,j,w)=>(A[j]={label:j,color:ie[w%ie.length],icon:a[j]},A),{}),I=nt({start:t.from,end:t.to}).map(A=>{const j=st(A),w=it(A),C=X(A,"MMM",{locale:ee}),M={month:C.charAt(0).toUpperCase()+C.slice(1)};return O.forEach(T=>{M[T]=0}),h.forEach(T=>{const L=new Date(T.fecha);if(L>=j&&L<=w){const R=ze(T.categoria||"Sin categoria"),$=r==="ARS"?T.montoPesos||T.monto||0:T.montoDolares||0;y.includes(R)?M[R]+=$:k&&(M.Otros+=$)}}),M}),E=A=>O.some(j=>A[j]>0),D=I.findIndex(E);return{chartData:D>1?I.slice(D-1):I,categorias:O,chartConfig:P,topCategory:N}},[e,t,r,a]),f=h=>{i(v=>{const b=new Set(v);return b.has(h)?b.delete(h):b.add(h),b})},u=h=>{const v=Math.round(h*100)/100;return Math.abs(v)<.01?"0":v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e3?`${(v/1e3).toFixed(0)}K`:v.toFixed(0)},p=({active:h,payload:v,label:b})=>{if(!h||!(v!=null&&v.length))return null;const y=v.reduce((O,N)=>O+(N.value||0),0),k=v.filter(O=>O.value>0).sort((O,N)=>N.value-O.value);return n.jsxs("div",{className:"grid min-w-[14rem] items-start gap-1.5 rounded-lg border px-3 py-2 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsx("div",{className:"font-medium text-[var(--text-primary)] mb-1",children:b}),k.map((O,N)=>n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[a[O.name]?n.jsx(ba,{icon:a[O.name],size:12}):n.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:O.color}}),n.jsx("span",{className:"truncate text-[var(--text-muted)]",children:ze(O.name)})]}),n.jsx("span",{className:"font-medium flex-shrink-0 text-[var(--text-primary)]",children:K(O.value,r)})]},N)),n.jsxs("div",{className:"mt-1 pt-1.5 flex items-center justify-between border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"font-medium text-[var(--text-muted)]",children:"Total"}),n.jsx("span",{className:"font-bold text-[var(--accent-red)]",children:K(y,r)})]})]})};if(o.length===0)return null;const x=Object.values(o.reduce((h,v)=>(c.forEach(b=>{s.has(b)||(h[b]=(h[b]||0)+(v[b]||0))}),h),{})).reduce((h,v)=>h+v,0);return n.jsx(xe,{delay:.15,children:n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Composicin de gastos",m&&n.jsx(Je,{delay:.45,children:n.jsxs(Ee,{variant:"outline",className:"text-red-500 bg-red-500/10 border-none",children:[n.jsx(Oe,{className:"h-3 w-3"}),n.jsxs("span",{children:[(m.value/x*100).toFixed(0),"%"]})]})})]}),n.jsx(J,{children:m?`Mayor categora: ${ze(m.name)}`:"Distribucin mensual por categora"})]}),n.jsxs(F,{children:[n.jsx(ve,{config:d,className:"h-[280px] w-full",children:n.jsxs(Jc,{data:o,margin:{left:-20,right:12,top:12,bottom:0},children:[n.jsx("defs",{children:c.map((h,v)=>n.jsxs("linearGradient",{id:`gradient-${h}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ie[v%ie.length],stopOpacity:.8}),n.jsx("stop",{offset:"100%",stopColor:ie[v%ie.length],stopOpacity:.2})]},h))}),n.jsx(Ot,{strokeDasharray:"3 3",vertical:!1,stroke:"var(--text-secondary)",strokeOpacity:.2}),n.jsx(kt,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(Et,{tickFormatter:u,tickLine:!1,axisLine:!1,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(ye,{cursor:{strokeDasharray:"3 3",stroke:"var(--text-secondary)",strokeOpacity:.4},content:n.jsx(p,{})}),c.map((h,v)=>n.jsx(yn,{type:"monotone",dataKey:h,stackId:"1",stroke:ie[v%ie.length],fill:`url(#gradient-${h})`,fillOpacity:s.has(h)?0:1,strokeOpacity:s.has(h)?0:1,strokeWidth:s.has(h)?0:2,hide:s.has(h)},h))]})}),n.jsx("div",{className:"flex flex-wrap gap-1.5 justify-center mt-4",children:c.map((h,v)=>{const b=s.has(h);return n.jsxs("button",{onClick:()=>f(h),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs transition-all",style:{backgroundColor:"var(--bg-tertiary)",opacity:b?.35:1,cursor:"pointer"},children:[n.jsx("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:ie[v%ie.length]}}),a[h]&&n.jsx(ba,{icon:a[h],size:12}),n.jsx("span",{style:{color:"var(--text-primary)"},children:(()=>{const y=ze(h);return y.length>14?y.substring(0,14)+"...":y})()})]},h)})})]})]})})}function at({data:e,color:t="var(--accent-primary)",width:r=80,height:a=30,gradientId:s}){const i=l.useMemo(()=>{if(!e||e.length<2)return null;const c=Math.min(...e),m=Math.max(...e)-c||1,f=2,u=e.map((y,k)=>({x:k/(e.length-1)*r,y:f+(1-(y-c)/m)*(a-f*2)})),p=[];for(let y=0;y<u.length;y++)if(y===0)p.push(`M ${u[y].x},${u[y].y}`);else{const k=u[y-1],O=u[y],N=(k.x+O.x)/2;p.push(`C ${N},${k.y} ${N},${O.y} ${O.x},${O.y}`)}const x=p.join(" "),h=u[u.length-1],v=u[0],b=`${x} L ${h.x},${a} L ${v.x},${a} Z`;return{linePath:x,areaPath:b,lastX:h.x,lastY:h.y}},[e,r,a]);if(!i)return null;const o=s||`sparkline-grad-${Math.random().toString(36).slice(2,8)}`;return n.jsxs("svg",{width:r,height:a,viewBox:`0 0 ${r} ${a}`,className:"flex-shrink-0",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:o,x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:.35}),n.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:.05})]})}),n.jsx("path",{d:i.areaPath,fill:`url(#${o})`}),n.jsx("path",{d:i.linePath,fill:"none",stroke:t,strokeWidth:2,strokeLinecap:"round"}),n.jsx("circle",{cx:i.lastX,cy:i.lastY,r:2.5,fill:t})]})}const je="#f59e0b",Ie="#22d3ee",fd={actual:{label:"Este perodo",color:je},promedio:{label:"Promedio",color:Ie}};function pd({data:e,loading:t,currency:r="ARS",period:a="mes"}){if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-40 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-80 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Comparacin por Categora"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-80 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin datos para comparar"})})})]});const s=e.reduce((f,u)=>f+u.actual,0),i=e.reduce((f,u)=>f+u.promedio,0),o=i>0?(s-i)/i*100:0,c=o>0,d=e.reduce((f,u)=>{const p=Math.abs(u.actual-u.promedio);return p>(f.variance||0)?{...u,variance:p}:f},{}),m=({active:f,payload:u})=>{var b,y;if(!f||!(u!=null&&u.length))return null;const p=u[0].payload.category,x=((b=u.find(k=>k.dataKey==="actual"))==null?void 0:b.value)||0,h=((y=u.find(k=>k.dataKey==="promedio"))==null?void 0:y.value)||0,v=x-h;return n.jsxs("div",{className:"grid min-w-[10rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsx("div",{className:"font-medium text-[var(--text-primary)] mb-1",children:p}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:je}}),n.jsx("span",{className:"text-[var(--text-muted)]",children:"Este perodo"})]}),n.jsx("span",{className:"font-mono font-medium",style:{color:je},children:K(x,r)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:Ie}}),n.jsx("span",{className:"text-[var(--text-muted)]",children:"Promedio"})]}),n.jsx("span",{className:"font-mono font-medium",style:{color:Ie},children:K(h,r)})]}),v!==0&&n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-1 mt-1 border-t border-[var(--border-subtle)]",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:"Diferencia"}),n.jsxs("span",{className:"font-mono font-medium",style:{color:v>0?"var(--accent-red)":"var(--accent-green)"},children:[v>0?"+":"",K(v,r)]})]})]})};return n.jsx(xe,{delay:.2,children:n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Comparacin por Categora",o!==0&&n.jsxs(Ee,{variant:"outline",className:`border-none ${c?"text-red-500 bg-red-500/10":"text-green-500 bg-green-500/10"}`,children:[n.jsx(Oe,{className:"h-3 w-3"}),n.jsxs("span",{children:[Math.abs(o).toFixed(0),"%"]})]})]}),n.jsx(J,{children:d.category?`Mayor variacin: ${d.category}`:`Gastos del ${a} vs promedio`})]}),n.jsxs(F,{children:[n.jsx(ve,{config:fd,className:"h-[300px] w-full",children:n.jsxs(Xc,{data:e,children:[n.jsx("defs",{children:n.jsxs("filter",{id:"radar-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),n.jsx(Ya,{stroke:"var(--text-secondary)",strokeOpacity:.25}),n.jsx(Ja,{dataKey:"category",tick:{fill:"var(--text-primary)",fontSize:11,fontWeight:500}}),n.jsx(Za,{angle:90,tick:{fill:"var(--text-secondary)",fontSize:10},stroke:"var(--text-secondary)",strokeOpacity:.15,tickFormatter:f=>f>=1e3?`${(f/1e3).toFixed(0)}K`:f.toFixed(0)}),n.jsx(ye,{cursor:!1,content:n.jsx(m,{})}),n.jsx(Qt,{name:"Promedio",dataKey:"promedio",stroke:Ie,fill:Ie,fillOpacity:.15,strokeWidth:2,strokeDasharray:"6 3",strokeOpacity:.8}),n.jsx(Qt,{name:"Este perodo",dataKey:"actual",stroke:je,fill:je,fillOpacity:.3,strokeWidth:2.5,strokeOpacity:1,filter:"url(#radar-glow)",dot:{r:3.5,fill:je,strokeWidth:0}})]})}),n.jsxs("div",{className:"flex items-center justify-center gap-8 mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-[3px] rounded-full",style:{backgroundColor:je}}),n.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:"Este perodo"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-[3px] rounded-full opacity-80",style:{backgroundColor:Ie,backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 3px, var(--bg-card) 3px, var(--bg-card) 5px)"}}),n.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:"Promedio histrico"})]})]})]})]})})}const hd={ingresos:{label:"Ingresos",color:"var(--accent-green)"},gastos:{label:"Gastos",color:"var(--accent-red)"},balance:{label:"Balance",color:"#f59e0b"}};function xd({data:e,loading:t,currency:r="ARS"}){if(t)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx("div",{className:"h-4 w-48 skeleton rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 skeleton rounded"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-80 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-primary)] border-t-transparent rounded-full animate-spin"})})})]});if(!e||e.length===0)return n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsx(Z,{children:"Vista Completa Financiera"}),n.jsx(J,{children:"No hay datos disponibles"})]}),n.jsx(F,{children:n.jsx("div",{className:"h-80 flex items-center justify-center text-[var(--text-secondary)]",children:n.jsx("p",{children:"Sin movimientos para mostrar"})})})]});const a=e.map(x=>({...x,balance:x.ingresos-x.gastos})),s=e.reduce((x,h)=>x+(h.ingresos||0),0),i=e.reduce((x,h)=>x+(h.gastos||0),0),o=s-i,c=o>=0,d=a[0],f=a[a.length-1].balance>d.balance,u=x=>{const h=Math.round(x*100)/100;return Math.abs(h)<.01?"0":Math.abs(h)>=1e6?`${(h/1e6).toFixed(1)}M`:Math.abs(h)>=1e3?`${(h/1e3).toFixed(0)}K`:h.toFixed(0)},p=({active:x,payload:h,label:v})=>{var O,N,P;if(!x||!(h!=null&&h.length))return null;const b=((O=h.find(g=>g.dataKey==="ingresos"))==null?void 0:O.value)||0,y=((N=h.find(g=>g.dataKey==="gastos"))==null?void 0:N.value)||0,k=((P=h.find(g=>g.dataKey==="balance"))==null?void 0:P.value)||0;return n.jsxs("div",{className:"grid min-w-[10rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl bg-[var(--bg-tertiary)] border-[var(--border-subtle)]",children:[n.jsx("div",{className:"font-medium text-[var(--text-primary)] mb-1",children:v}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:"var(--accent-green)"}}),n.jsx("span",{className:"text-[var(--text-muted)]",children:"Ingresos"})]}),n.jsx("span",{className:"font-mono font-medium text-[var(--accent-green)]",children:K(b,r)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:"var(--accent-red)"}}),n.jsx("span",{className:"text-[var(--text-muted)]",children:"Gastos"})]}),n.jsx("span",{className:"font-mono font-medium text-[var(--accent-red)]",children:K(y,r)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-1 mt-1 border-t border-[var(--border-subtle)]",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-[2px]",style:{backgroundColor:"#f59e0b"}}),n.jsx("span",{className:"text-[var(--text-muted)] font-medium",children:"Balance"})]}),n.jsx("span",{className:"font-mono font-medium",style:{color:k>=0?"var(--accent-green)":"var(--accent-red)"},children:K(k,r)})]})]})};return n.jsx(xe,{delay:.4,children:n.jsxs(B,{children:[n.jsxs(W,{children:[n.jsxs(Z,{className:"flex items-center gap-2",children:["Vista Completa Financiera",n.jsxs(Ee,{variant:"outline",className:`border-none ${f?"text-green-500 bg-green-500/10":"text-red-500 bg-red-500/10"}`,children:[f?n.jsx(Oe,{className:"h-3 w-3"}):n.jsx(mr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Tendencia ",f?"positiva":"negativa"]})]})]}),n.jsxs(J,{children:["Balance total: "," ",n.jsx("span",{className:"font-medium",style:{color:c?"var(--accent-green)":"var(--accent-red)"},children:K(o,r)})]})]}),n.jsxs(F,{children:[n.jsx(ve,{config:hd,className:"h-80 w-full",children:n.jsxs(ed,{data:a,margin:{left:-20,right:12,top:12,bottom:0},children:[n.jsxs("defs",{children:[n.jsx("pattern",{id:"composed-pattern-dots",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:n.jsx("circle",{cx:"2",cy:"2",r:"1",fill:"var(--border-subtle)",opacity:"0.5"})}),n.jsxs("linearGradient",{id:"composed-ingresosGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--accent-green)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--accent-green)",stopOpacity:.6})]}),n.jsxs("linearGradient",{id:"composed-gastosGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--accent-red)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--accent-red)",stopOpacity:.6})]}),n.jsxs("filter",{id:"composed-bar-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),n.jsxs("filter",{id:"composed-line-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"85%",fill:"url(#composed-pattern-dots)"}),n.jsx(Ot,{strokeDasharray:"3 3",vertical:!1,stroke:"var(--text-secondary)",strokeOpacity:.2}),n.jsx(kt,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(Et,{tickFormatter:u,tickLine:!1,axisLine:!1,tick:{fill:"var(--text-secondary)",fontSize:11}}),n.jsx(ye,{cursor:{fill:"var(--bg-tertiary)",opacity:.3},content:n.jsx(p,{})}),n.jsx(gr,{y:0,stroke:"var(--text-secondary)",strokeDasharray:"3 3",strokeOpacity:.5}),n.jsx(ut,{dataKey:"ingresos",fill:"url(#composed-ingresosGradient)",radius:[6,6,0,0],maxBarSize:32,filter:"url(#composed-bar-glow)"}),n.jsx(ut,{dataKey:"gastos",fill:"url(#composed-gastosGradient)",radius:[6,6,0,0],maxBarSize:32,filter:"url(#composed-bar-glow)"}),n.jsx(jr,{type:"monotone",dataKey:"balance",stroke:"#f59e0b",strokeWidth:2.5,dot:{fill:"#f59e0b",strokeWidth:0,r:4},activeDot:{r:6,fill:"#f59e0b",stroke:"var(--bg-secondary)",strokeWidth:2},filter:"url(#composed-line-glow)"})]})}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"var(--accent-green)"}}),n.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:"Ingresos"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"var(--accent-red)"}}),n.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:"Gastos"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-[3px] rounded-full",style:{backgroundColor:"#f59e0b"}}),n.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:"Balance"})]})]})]})]})})}function vd({isOpen:e,onClose:t,categoryName:r,categoryIcon:a,movements:s,currency:i="ARS",dateRange:o}){const c=l.useRef(null);l.useEffect(()=>{if(!e)return;const u=p=>{p.key==="Escape"&&t()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t]),l.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);const d=l.useMemo(()=>[...s].sort((u,p)=>new Date(p.fecha)-new Date(u.fecha)),[s]),m=l.useMemo(()=>s.reduce((u,p)=>u+(i==="ARS"?p.montoPesos||p.monto||0:p.montoDolares||0),0),[s,i]),f=s.length>0?m/s.length:0;return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-50 transition-opacity duration-300",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:t}),n.jsxs("div",{className:`fixed z-50\r
          bottom-0 left-0 right-0 max-h-[85vh] rounded-t-2xl\r
          lg:bottom-auto lg:left-1/2 lg:top-[25%] lg:-translate-x-1/2 lg:-translate-y-1/4 lg:rounded-2xl lg:max-w-lg lg:w-full lg:max-h-[70vh]`,style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)",boxShadow:"0 -8px 40px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s var(--ease-out-expo)"},ref:c,children:[n.jsx("div",{className:"flex justify-center pt-3 lg:hidden",children:n.jsx("div",{className:"w-10 h-1 rounded-full",style:{backgroundColor:"var(--text-muted)",opacity:.3}})}),n.jsxs("div",{className:"p-4 flex items-center justify-between",style:{borderBottom:"1px solid var(--border-subtle)"},children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--accent-red-dim)"},children:a&&Ke(a)?n.jsx("span",{className:"text-xl",children:a}):a?n.jsx("img",{src:_e(a),alt:"",className:"w-6 h-6 rounded"}):n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"font-semibold text-sm truncate",style:{color:"var(--text-primary)"},children:r}),n.jsx("p",{className:"text-lg font-bold",style:{color:"var(--accent-red)"},children:K(m,i)})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-xl transition-colors hover:bg-[var(--bg-tertiary)]",children:n.jsx("svg",{className:"w-5 h-5",style:{color:"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"overflow-y-auto p-4 space-y-1.5",style:{maxHeight:"calc(70vh - 180px)"},children:d.length===0?n.jsx("p",{className:"text-center py-8 text-sm",style:{color:"var(--text-secondary)"},children:"Sin movimientos en este periodo"}):d.map((u,p)=>{const x=i==="ARS"?u.montoPesos||u.monto||0:u.montoDolares||0;return n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl transition-colors hover:bg-[var(--bg-tertiary)]",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:X(new Date(u.fecha+"T12:00:00"),"dd MMM yyyy",{locale:ee})}),n.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},children:u.cuenta})]}),u.nota&&n.jsx("p",{className:"text-xs truncate mt-0.5",style:{color:"var(--text-muted)"},children:u.nota})]}),n.jsxs("span",{className:"font-semibold text-sm flex-shrink-0",style:{color:"var(--accent-red)"},children:["-",K(x,i)]})]},u.id||p)})}),d.length>0&&n.jsxs("div",{className:"p-4 flex items-center justify-between",style:{borderTop:"1px solid var(--border-subtle)"},children:[n.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[s.length," transaccion",s.length!==1?"es":""]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:["Promedio: ",K(f,i)]})]})]}),n.jsx("style",{children:`
        @keyframes slideUp {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        @media (min-width: 1024px) {
          @keyframes slideUp {
            from { opacity: 0; transform: translate(-50%, -46%) scale(0.95); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
          }
        }
      `})]}):null}function Pd(){const{filteredMovements:e,dateRange:t,currency:r,loading:a,movements:s,categoryIconMap:i}=In(),[o,c]=l.useState("pie"),[d,m]=l.useState(!1),[f,u]=l.useState(null),p=l.useMemo(()=>{if(!t.from||!t.to)return[];const P=e.filter(S=>S.tipo==="gasto"),g={};let I=0,E=0;P.forEach(S=>{const A=S.categoria||"Sin categoria",j=A.replace(/^[\p{Emoji}\p{Emoji_Presentation}\u200d\uFE0F]+\s*/u,"").trim()||A,w=S.montoPesos||S.monto||0,C=S.montoDolares||0;I+=w,E+=C,g[j]||(g[j]={pesos:0,dolares:0,originalName:A}),g[j].pesos+=w,g[j].dolares+=C});const D=r==="ARS"?I:E;return Object.entries(g).map(([S,A])=>{const j=r==="ARS"?A.pesos:A.dolares;return{name:S,value:j,pesos:A.pesos,dolares:A.dolares,percentage:D>0?j/D*100:0,icon:i[S]||i[A.originalName]||null}}).sort((S,A)=>A.value-S.value).slice(0,10)},[e,t,r,i]),x=l.useMemo(()=>{if(!t.from||!t.to)return[];const P=e.filter(S=>S.tipo==="ingreso"),g={};let I=0,E=0;P.forEach(S=>{const A=S.categoria||"Sin categoria",j=A.replace(/^[\p{Emoji}\p{Emoji_Presentation}\u200d\uFE0F]+\s*/u,"").trim()||A,w=S.montoPesos||S.monto||0,C=S.montoDolares||0;I+=w,E+=C,g[j]||(g[j]={pesos:0,dolares:0,originalName:A}),g[j].pesos+=w,g[j].dolares+=C});const D=r==="ARS"?I:E;return Object.entries(g).map(([S,A])=>{const j=r==="ARS"?A.pesos:A.dolares;return{name:S,value:j,percentage:D>0?j/D*100:0,icon:i[S]||i[A.originalName]||null}}).sort((S,A)=>A.value-S.value).slice(0,10)},[e,t,r,i]),h=l.useMemo(()=>{if(!t.from||!t.to||p.length===0)return[];const P=s.filter(E=>E.tipo==="gasto"),g={};return P.forEach(E=>{const D=E.categoria||"Sin categoria",S=D.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim()||D,A=r==="ARS"?E.montoPesos||E.monto||0:E.montoDolares||0;g[S]||(g[S]={total:0,count:0}),g[S].total+=A,g[S].count+=1}),p.slice(0,5).map(E=>{const D=g[E.name],S=D?D.total/Math.max(D.count,1):E.value;return{category:E.name,actual:E.value,promedio:S*.9}})},[p,s,r,t]);l.useMemo(()=>!t.from||!t.to||p.length===0?[]:p.slice(0,6).map(g=>{const I=s.filter(S=>{if(S.tipo!=="gasto")return!1;const A=S.categoria||"Sin categoria";return(A.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim()||A)===g.name}),D=(I.length>0?I.reduce((S,A)=>{const j=r==="ARS"?A.montoPesos||A.monto||0:A.montoDolares||0;return S+j},0)/I.length:g.value)*1.2;return{category:g.name,gastado:g.value,presupuesto:D}}),[p,s,r,t]);const v=l.useMemo(()=>!t.from||!t.to?[]:nt({start:t.from,end:t.to}).map(g=>{const I=st(g),E=it(g),D=X(g,"yyyy-MM"),S=X(g,"MMM",{locale:ee});let A=0,j=0,w=0,C=0;return e.forEach(M=>{const T=new Date(M.fecha);if(T>=I&&T<=E){const L=M.montoPesos||M.monto||0,R=M.montoDolares||0;M.tipo==="ingreso"?(A+=L,w+=R):M.tipo==="gasto"&&(j+=L,C+=R)}}),{month:S.charAt(0).toUpperCase()+S.slice(1),monthKey:D,ingresos:r==="ARS"?A:w,gastos:r==="ARS"?j:C}}).filter(g=>g.ingresos>0||g.gastos>0),[e,t,r]),b=l.useMemo(()=>{if(!t.from||!t.to)return[];const P=[...e].sort((D,S)=>new Date(D.fecha)-new Date(S.fecha));if(P.length===0)return[];const g=new Date(P[0].fecha),I=st(g);return nt({start:I>t.from?I:t.from,end:t.to}).map(D=>{const S=it(D),A=X(D,"MMM",{locale:ee});let j=0,w=0;return P.forEach(C=>{if(new Date(C.fecha)<=S){const T=C.montoPesos||C.monto||0,L=C.montoDolares||0;C.tipo==="ingreso"?(j+=T,w+=L):C.tipo==="gasto"&&(j-=T,w-=L)}}),{month:A.charAt(0).toUpperCase()+A.slice(1),balance:r==="ARS"?j:w}})},[e,t,r]),y=l.useMemo(()=>{if(!t.from||!t.to)return{totalIngresos:0,totalGastos:0,balance:0,savingsRate:0,variaciones:{ingresos:null,gastos:null,balance:null,ahorro:null},sparklines:{ingresos:[],gastos:[],balance:[],ahorro:[]},periodoAnteriorLabel:""};new Date(t.from).setHours(0,0,0,0),new Date(t.to).setHours(23,59,59,999);let I=0,E=0,D=0,S=0;e.forEach(q=>{const re=q.montoPesos||q.monto||0,be=q.montoDolares||0;q.tipo==="ingreso"?(I+=re,D+=be):q.tipo==="gasto"&&(E+=re,S+=be)});const A=r==="ARS"?I:D,j=r==="ARS"?E:S,w=A-j,C=A>0?(A-j)/A*100:0,M=ti(t.to,t.from),T={from:Mr(t.from,M+1),to:Mr(t.from,1)},L=new Date(T.from);L.setHours(0,0,0,0);const R=new Date(T.to);R.setHours(23,59,59,999);let $=0,H=0;s.forEach(q=>{const re=new Date(q.fecha);if(re>=L&&re<=R){const be=r==="ARS"?q.montoPesos||q.monto||0:q.montoDolares||0;q.tipo==="ingreso"?$+=be:q.tipo==="gasto"&&(H+=be)}});const ge=$-H,Qe=$>0?($-H)/$*100:0,Ct=(q,re)=>re===0?null:(q-re)/Math.abs(re)*100,jn={ingresos:Ct(A,$),gastos:Ct(j,H),balance:Ct(w,ge),ahorro:C-Qe},Pn=nt({start:t.from,end:t.to}),Pr=[],wr=[],Nr=[],Ar=[];Pn.forEach(q=>{const re=st(q),be=it(q);let Ce=0,et=0;e.forEach(Se=>{const kr=new Date(Se.fecha);if(kr>=re&&kr<=be){const Er=r==="ARS"?Se.montoPesos||Se.monto||0:Se.montoDolares||0;Se.tipo==="ingreso"?Ce+=Er:Se.tipo==="gasto"&&(et+=Er)}}),Pr.push(Ce),wr.push(et),Nr.push(Ce-et),Ar.push(Ce>0?(Ce-et)/Ce*100:0)});const wn=`${X(T.from,"d MMM",{locale:ee})} - ${X(T.to,"d MMM",{locale:ee})}`;return{totalIngresos:A,totalGastos:j,balance:w,savingsRate:C,variaciones:jn,sparklines:{ingresos:Pr,gastos:wr,balance:Nr,ahorro:Ar},periodoAnteriorLabel:wn}},[e,s,t,r]),k=l.useMemo(()=>f?e.filter(P=>{if(P.tipo!=="gasto")return!1;const g=P.categoria||"Sin categoria";return(g.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim()||g)===f}):[],[e,f]),O=P=>{u(P),m(!0)},N=({value:P,invertColor:g=!1,label:I})=>{if(P==null||!isFinite(P))return null;const E=P>0,S=(g?!E:E)?"var(--accent-green)":"var(--accent-red)",A=E?"":"";return n.jsxs("div",{className:"flex items-center gap-1 mt-1",title:I,children:[n.jsxs("span",{className:"text-[10px] font-semibold",style:{color:S},children:[A," ",Math.abs(P).toFixed(1),"%"]}),n.jsx("span",{className:"text-[9px]",style:{color:"var(--text-muted)"},children:"vs anterior"})]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Estadisticas"}),n.jsx(Js,{})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:[n.jsxs("div",{className:"rounded-2xl p-4 lg:p-5",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Total Ingresos"}),y.sparklines.ingresos.length>=2&&n.jsx(at,{data:y.sparklines.ingresos,color:"var(--accent-green)",gradientId:"spark-ingresos"})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:"var(--accent-green)"},children:a?"...":K(y.totalIngresos,r)}),n.jsx(N,{value:y.variaciones.ingresos,label:`Comparado con ${y.periodoAnteriorLabel}`})]}),n.jsxs("div",{className:"rounded-2xl p-4 lg:p-5",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Total Gastos"}),y.sparklines.gastos.length>=2&&n.jsx(at,{data:y.sparklines.gastos,color:"var(--accent-red)",gradientId:"spark-gastos"})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:"var(--accent-red)"},children:a?"...":K(y.totalGastos,r)}),n.jsx(N,{value:y.variaciones.gastos,invertColor:!0,label:`Comparado con ${y.periodoAnteriorLabel}`})]}),n.jsxs("div",{className:"rounded-2xl p-4 lg:p-5",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Balance"}),y.sparklines.balance.length>=2&&n.jsx(at,{data:y.sparklines.balance,color:y.balance>=0?"var(--accent-primary)":"var(--accent-red)",gradientId:"spark-balance"})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:y.balance>=0?"var(--accent-green)":"var(--accent-red)"},children:a?"...":K(y.balance,r)}),n.jsx(N,{value:y.variaciones.balance,label:`Comparado con ${y.periodoAnteriorLabel}`})]}),n.jsxs("div",{className:"rounded-2xl p-4 lg:p-5",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Tasa de Ahorro"}),y.sparklines.ahorro.length>=2&&n.jsx(at,{data:y.sparklines.ahorro,color:"var(--accent-primary)",gradientId:"spark-ahorro"})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:y.savingsRate>=0?"var(--accent-primary)":"var(--accent-red)"},children:a?"...":`${y.savingsRate.toFixed(1)}%`}),n.jsx(N,{value:y.variaciones.ahorro,label:`Comparado con ${y.periodoAnteriorLabel}`})]})]}),n.jsxs(Ir,{staggerDelay:.1,children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsx(fe,{children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("button",{onClick:()=>c("pie"),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:o==="pie"?"var(--accent-primary)":"var(--bg-tertiary)",color:o==="pie"?"white":"var(--text-secondary)"},children:"Torta"}),n.jsx("button",{onClick:()=>c("treemap"),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:o==="treemap"?"var(--accent-primary)":"var(--bg-tertiary)",color:o==="treemap"?"white":"var(--text-secondary)"},children:"Treemap"})]}),o==="pie"?n.jsx(td,{data:p,loading:a,currency:r,dateRange:t,onSliceClick:O}):n.jsx(nd,{data:p,currency:r,onCategoryClick:O})]})}),n.jsx(fe,{children:n.jsx(rd,{data:x,loading:a,currency:r,dateRange:t})}),n.jsx(fe,{children:n.jsx(id,{data:v,loading:a,currency:r})})]}),n.jsx(fe,{children:n.jsx("div",{className:"mt-6",children:n.jsx(pd,{data:h,loading:a,currency:r,period:"periodo actual"})})}),n.jsx(fe,{children:n.jsx("div",{className:"mt-6",children:n.jsx(xd,{data:v,loading:a,currency:r})})}),n.jsx(fe,{children:n.jsx("div",{className:"mt-6",children:n.jsx(ld,{data:b,loading:a,currency:r})})})]}),n.jsxs(Ir,{staggerDelay:.15,children:[n.jsx(fe,{children:n.jsx("div",{className:"mt-6",children:n.jsx(ud,{movements:e,dateRange:t,currency:r,categoryIconMap:i})})}),n.jsx(fe,{children:n.jsx("div",{className:"mt-6",children:n.jsx(md,{movements:e,dateRange:t,currency:r,categoryIconMap:i})})})]}),n.jsx(vd,{isOpen:d,onClose:()=>{m(!1),u(null)},categoryName:f||"",categoryIcon:f?i[f]:null,movements:k,currency:r,dateRange:t})]})}export{Pd as default};
