import{an as V,r as i,am as Y,s as X,p as H,b as U,j as e,f as d,c as z,e as q}from"./index-BMb4UKgp.js";import{d as J,B as Q,X as Z,Y as _,b as E}from"./BarChart-Cr0WyX91.js";import{be as w,bf as C,bg as F,bh as W,bi as G}from"./PieChart-DFxKIsql.js";import{C as ee}from"./CartesianGrid-BMrTBzx4.js";import{L as se}from"./Legend-Da5CIpTV.js";import"./DateRangePicker-C9XXCEIw.js";const u=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#14b8a6","#ec4899","#6366f1","#84cc16"];function ie(){const{filteredMovements:v,dateRange:j,currency:o,accounts:re,loading:T}=V(),[h,S]=i.useState([]),[g,L]=i.useState([]),[k,$]=i.useState(!1),M=(s,r,t)=>{s.includes(t)?r(s.filter(a=>a!==t)):r([...s,t])},n=i.useMemo(()=>({gastos:v.filter(s=>s.tipo==="gasto"),ingresos:v.filter(s=>s.tipo==="ingreso")}),[v]),R=i.useMemo(()=>{const s=new Set,r=new Set;return v.forEach(t=>{t.tipo==="gasto"?s.add(t.categoria||"Sin categoria"):t.tipo==="ingreso"&&r.add(t.categoria||"Sin categoria")}),{gastos:[...s].sort(),ingresos:[...r].sort()}},[v]),B=i.useMemo(()=>h.length===0?n.gastos:n.gastos.filter(s=>h.includes(s.categoria)),[n.gastos,h]),D=i.useMemo(()=>g.length===0?n.ingresos:n.ingresos.filter(s=>g.includes(s.categoria)),[n.ingresos,g]),x=i.useMemo(()=>{const s=n.ingresos.reduce((l,c)=>l+(o==="ARS"?c.montoPesos||c.monto||0:c.montoDolares||0),0),r=n.gastos.reduce((l,c)=>l+(o==="ARS"?c.montoPesos||c.monto||0:c.montoDolares||0),0),t=s-r,a=s>0?r/s*100:0;return{totalIngresos:s,totalGastos:r,balance:t,ratio:a}},[n,o]),A=i.useMemo(()=>!j.from||!j.to?[]:Y({start:j.from,end:j.to}).map(r=>{const t=X(r),a=H(r),l=U(r,"MMM",{locale:q});let c=0,P=0;return n.ingresos.forEach(m=>{const b=new Date(m.fecha);b>=t&&b<=a&&(c+=o==="ARS"?m.montoPesos||m.monto||0:m.montoDolares||0)}),n.gastos.forEach(m=>{const b=new Date(m.fecha);b>=t&&b<=a&&(P+=o==="ARS"?m.montoPesos||m.monto||0:m.montoDolares||0)}),{month:l.charAt(0).toUpperCase()+l.slice(1),ingresos:c,gastos:P}}),[j,n,o]),p=i.useMemo(()=>{const s={};let r=0;return n.gastos.forEach(t=>{const a=t.categoria||"Sin categoria",l=a.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim()||a,c=o==="ARS"?t.montoPesos||t.monto||0:t.montoDolares||0;r+=c,s[l]||(s[l]=0),s[l]+=c}),Object.entries(s).map(([t,a])=>({name:t,value:a,percentage:r>0?a/r*100:0})).sort((t,a)=>a.value-t.value).slice(0,8)},[n.gastos,o]),N=i.useMemo(()=>{const s={};let r=0;return n.ingresos.forEach(t=>{const a=t.categoria||"Sin categoria",l=a.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim()||a,c=o==="ARS"?t.montoPesos||t.monto||0:t.montoDolares||0;r+=c,s[l]||(s[l]=0),s[l]+=c}),Object.entries(s).map(([t,a])=>({name:t,value:a,percentage:r>0?a/r*100:0})).sort((t,a)=>a.value-t.value).slice(0,8)},[n.ingresos,o]),f=i.useMemo(()=>[...B].sort((s,r)=>new Date(r.fecha)-new Date(s.fecha)),[B]),y=i.useMemo(()=>[...D].sort((s,r)=>new Date(r.fecha)-new Date(s.fecha)),[D]),I=({active:s,payload:r,color:t})=>{var a;if(s&&r&&r.length){const l=r[0].payload;return e.jsxs("div",{className:"px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:l.name}),e.jsx("p",{style:{color:t||"var(--accent-primary)"},children:d(l.value,o)}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[(a=l.percentage)==null?void 0:a.toFixed(1),"%"]})]})}return null},K=({active:s,payload:r,label:t})=>s&&r&&r.length?e.jsxs("div",{className:"px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"font-medium mb-1",style:{color:"var(--text-primary)"},children:t}),r.map((a,l)=>e.jsxs("p",{style:{color:a.color},children:[a.name,": ",d(a.value,o)]},l)),r.length===2&&e.jsxs("p",{className:"mt-1 pt-1 text-sm",style:{borderTop:"1px solid var(--border-subtle)",color:r[0].value-r[1].value>=0?"var(--accent-green)":"var(--accent-red)"},children:["Balance: ",d(r[0].value-r[1].value,o)]})]}):null,O=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s;return T?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-7 w-40 skeleton rounded"}),e.jsx("div",{className:"h-10 w-48 skeleton rounded-lg"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[1,2,3,4].map(s=>e.jsx("div",{className:"rounded-2xl p-4 h-24 skeleton"},s))}),e.jsx("div",{className:"h-64 skeleton rounded-2xl"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Comparador"}),e.jsx(J,{})]}),e.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("button",{onClick:()=>$(!k),className:"w-full p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filtrar por categorias"}),h.length+g.length>0&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:h.length+g.length})]}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${k?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium mb-2 flex items-center gap-1.5",style:{color:"var(--accent-red)"},children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Categorias de gastos"]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto",children:R.gastos.map((s,r)=>{const t=h.includes(s);return e.jsx("button",{onClick:()=>M(h,S,s),className:"px-3 py-2 rounded-full text-xs font-medium transition-colors",style:{backgroundColor:t?"var(--accent-red)":"var(--bg-tertiary)",color:t?"white":"var(--text-secondary)"},children:s&&s.length>20?s.substring(0,20)+"...":s},s||`expense-cat-${r}`)})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium mb-2 flex items-center gap-1.5",style:{color:"var(--accent-green)"},children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Categorias de ingresos"]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto",children:R.ingresos.map((s,r)=>{const t=g.includes(s);return e.jsx("button",{onClick:()=>M(g,L,s),className:"px-3 py-2 rounded-full text-xs font-medium transition-colors",style:{backgroundColor:t?"var(--accent-green)":"var(--bg-tertiary)",color:t?"white":"var(--text-secondary)"},children:s&&s.length>20?s.substring(0,20)+"...":s},s||`income-cat-${r}`)})})]}),h.length+g.length>0&&e.jsx("button",{onClick:()=>{S([]),L([])},className:"text-xs font-medium",style:{color:"var(--accent-primary)"},children:"Limpiar filtros de categorias"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"rounded-2xl p-4 relative overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, transparent 70%)"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(34, 197, 94, 0.15)"},children:e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-green)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),e.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Ingresos"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:"var(--accent-green)"},children:d(x.totalIngresos,o)})]})]}),e.jsxs("div",{className:"rounded-2xl p-4 relative overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, transparent 70%)"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.15)"},children:e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Gastos"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:"var(--accent-red)"},children:d(x.totalGastos,o)})]})]}),e.jsxs("div",{className:"rounded-2xl p-4 relative overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:x.balance>=0?"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, transparent 70%)":"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, transparent 70%)"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:x.balance>=0?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)"},children:x.balance>=0?e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-green)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Balance"})]}),e.jsxs("p",{className:"text-xl font-bold",style:{color:x.balance>=0?"var(--accent-green)":"var(--accent-red)"},children:[x.balance>=0?"+":"",d(x.balance,o)]})]})]}),e.jsxs("div",{className:"rounded-2xl p-4 relative overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(20, 184, 166, 0.1) 0%, transparent 70%)"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(20, 184, 166, 0.15)"},children:e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-purple)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-secondary)"},children:"Ratio"})]}),e.jsxs("p",{className:"text-lg font-bold",style:{color:"var(--accent-purple)"},children:[x.ratio.toFixed(0),"%"]}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"de tus ingresos"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Ingresos vs Gastos"}),A.length>0?e.jsx(w,{width:"100%",height:250,children:e.jsxs(Q,{data:A,margin:{top:10,right:10,left:-10,bottom:0},children:[e.jsx(ee,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",vertical:!1}),e.jsx(Z,{dataKey:"month",tick:{fill:"var(--text-secondary)",fontSize:12},axisLine:{stroke:"var(--border-subtle)"},tickLine:!1}),e.jsx(_,{tickFormatter:O,tick:{fill:"var(--text-secondary)",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(C,{content:e.jsx(K,{}),cursor:{fill:"var(--bg-tertiary)",opacity:.5}}),e.jsx(se,{wrapperStyle:{paddingTop:"10px"},formatter:s=>e.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:s})}),e.jsx(E,{dataKey:"ingresos",name:"Ingresos",fill:"var(--accent-green)",radius:[4,4,0,0],maxBarSize:50}),e.jsx(E,{dataKey:"gastos",name:"Gastos",fill:"var(--accent-red)",radius:[4,4,0,0],maxBarSize:50})]})}):e.jsx("div",{className:"h-[250px] flex items-center justify-center",style:{color:"var(--text-secondary)"},children:"No hay datos disponibles"})]}),e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Gastos por Categoria"}),p.length>0?e.jsx(w,{width:"100%",height:250,children:e.jsxs(F,{children:[e.jsx(W,{data:p,cx:"50%",cy:"45%",innerRadius:45,outerRadius:80,paddingAngle:2,dataKey:"value",nameKey:"name",children:p.map((s,r)=>e.jsx(G,{fill:u[r%u.length],stroke:"transparent"},`cell-${r}`))}),e.jsx(C,{content:e.jsx(I,{color:"var(--accent-red)"})})]})}):e.jsx("div",{className:"h-[250px] flex items-center justify-center",style:{color:"var(--text-secondary)"},children:"No hay gastos en este periodo"}),p.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center mt-2",children:[p.slice(0,4).map((s,r)=>e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:u[r%u.length]}}),e.jsx("span",{style:{color:"var(--text-secondary)"},children:s.name.length>10?s.name.substring(0,10)+"...":s.name})]},`legend-${r}`)),p.length>4&&e.jsxs("div",{className:"px-2 py-1 rounded-lg text-xs",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:["+",p.length-4," mas"]})]})]})]}),N.length>0&&e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Ingresos por Categoria"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(w,{width:"100%",height:200,children:e.jsxs(F,{children:[e.jsx(W,{data:N,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",nameKey:"name",children:N.map((s,r)=>e.jsx(G,{fill:u[(r+3)%u.length],stroke:"transparent"},`cell-income-${r}`))}),e.jsx(C,{content:e.jsx(I,{color:"var(--accent-green)"})})]})})}),e.jsx("div",{className:"md:col-span-3 flex flex-col justify-center gap-2",children:N.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:u[(r+3)%u.length]}}),e.jsx("span",{className:"text-sm truncate",style:{color:"var(--text-primary)"},title:s.name,children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[s.percentage.toFixed(1),"%"]}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--accent-green)"},children:d(s.value,o)})]})]},`income-legend-${r}`))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",style:{color:"var(--text-primary)"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.15)"},children:e.jsx("svg",{className:"w-3 h-3",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),"Gastos",e.jsxs("span",{className:"text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",f.length,")"]})]})}),e.jsx("div",{className:"max-h-72 overflow-y-auto space-y-2 pr-1",children:f.length===0?e.jsx("p",{className:"text-center py-8 text-sm",style:{color:"var(--text-secondary)"},children:"Sin gastos en este periodo"}):f.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl transition-colors hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",style:{color:"var(--text-primary)"},children:s.categoria||"Sin categoria"}),e.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-secondary)"},children:s.cuenta}),s.nota&&e.jsxs("p",{className:"text-xs truncate italic mt-0.5",style:{color:"var(--text-secondary)",opacity:.7},children:['"',s.nota,'"']})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("p",{className:"font-bold",style:{color:"var(--accent-red)"},children:["-",d(o==="ARS"?s.montoPesos||s.monto:s.montoDolares||0,o)]}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:z(s.fecha,"short")})]})]},s.rowIndex||r))}),f.length>0&&e.jsxs("div",{className:"mt-4 pt-4 flex items-center justify-between",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("span",{className:"font-medium",style:{color:"var(--text-secondary)"},children:"Total"}),e.jsx("span",{className:"text-xl font-bold",style:{color:"var(--accent-red)"},children:d(f.reduce((s,r)=>s+(o==="ARS"?r.montoPesos||r.monto||0:r.montoDolares||0),0),o)})]})]}),e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",style:{color:"var(--text-primary)"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(34, 197, 94, 0.15)"},children:e.jsx("svg",{className:"w-3 h-3",style:{color:"var(--accent-green)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),"Ingresos",e.jsxs("span",{className:"text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",y.length,")"]})]})}),e.jsx("div",{className:"max-h-72 overflow-y-auto space-y-2 pr-1",children:y.length===0?e.jsx("p",{className:"text-center py-8 text-sm",style:{color:"var(--text-secondary)"},children:"Sin ingresos en este periodo"}):y.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl transition-colors hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",style:{color:"var(--text-primary)"},children:s.categoria||"Sin categoria"}),e.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-secondary)"},children:s.cuenta}),s.nota&&e.jsxs("p",{className:"text-xs truncate italic mt-0.5",style:{color:"var(--text-secondary)",opacity:.7},children:['"',s.nota,'"']})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("p",{className:"font-bold",style:{color:"var(--accent-green)"},children:["+",d(o==="ARS"?s.montoPesos||s.monto:s.montoDolares||0,o)]}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:z(s.fecha,"short")})]})]},s.rowIndex||r))}),y.length>0&&e.jsxs("div",{className:"mt-4 pt-4 flex items-center justify-between",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("span",{className:"font-medium",style:{color:"var(--text-secondary)"},children:"Total"}),e.jsx("span",{className:"text-xl font-bold",style:{color:"var(--accent-green)"},children:d(y.reduce((s,r)=>s+(o==="ARS"?r.montoPesos||r.monto||0:r.montoDolares||0),0),o)})]})]})]})]})}export{ie as default};
