import{t as P,j as e,f as N,r as x,u as G,i as z,a as H,s as F,e as q,b as R,c as Y,d as Z,g as _,h as ee,k as se,l as te,m as re,L as O,E as ae,n as oe,o as le,p as ne,q as ce}from"./index-EdJAMjxN.js";import{D as K}from"./DateRangePicker-af3Yldoe.js";import{P as ie}from"./PullToRefresh-CnJcW6cT.js";import"./subMonths-CxXASRBE.js";function de(c,v,t){const u=+P(c,t==null?void 0:t.in),[o,p]=[+P(v.start,t==null?void 0:t.in),+P(v.end,t==null?void 0:t.in)].sort((h,r)=>h-r);return u>=o&&u<=p}function me({totalPesos:c,totalDolares:v,totalGeneralPesos:t,totalGeneralDolares:u,tipoCambio:o,currency:p="ARS",ingresosMes:h=0,gastosMes:r=0,ingresosMesDolares:g=0,gastosMesDolares:y=0}){const s=p==="ARS"?t:u,l=p==="ARS"?h:g,b=p==="ARS"?r:y,w=l-Math.abs(b);return e.jsxs("div",{className:"p-3 sm:p-4 rounded-xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Balance total"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded text-[9px] sm:text-[10px] font-medium",style:{backgroundColor:p==="ARS"?"var(--accent-primary-dim)":"var(--accent-green-dim)",color:p==="ARS"?"var(--accent-primary)":"var(--accent-green)"},children:p})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-medium tracking-tight mb-3 sm:mb-4",style:{color:"var(--text-primary)"},children:N(s,p)}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsxs("div",{className:"p-2 sm:p-3 rounded-lg",style:{backgroundColor:"var(--accent-green-dim)"},children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] uppercase tracking-wide mb-0.5 sm:mb-1",style:{color:"var(--text-muted)"},children:"Ingresos"}),e.jsxs("p",{className:"text-xs sm:text-sm font-medium truncate",style:{color:"var(--accent-green)"},children:["+",N(Math.abs(l),p)]})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-lg",style:{backgroundColor:"var(--accent-red-dim)"},children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] uppercase tracking-wide mb-0.5 sm:mb-1",style:{color:"var(--text-muted)"},children:"Gastos"}),e.jsxs("p",{className:"text-xs sm:text-sm font-medium truncate",style:{color:"var(--accent-red)"},children:["-",N(Math.abs(b),p)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1.5 sm:py-2",children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Flujo neto"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium",style:{color:w>=0?"var(--accent-green)":"var(--accent-red)"},children:[w>=0?"+":"",N(w,p)]})]}),o&&e.jsxs("div",{className:"flex items-center justify-between pt-1.5 sm:pt-2 mt-1.5 sm:mt-2",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Tipo de cambio"}),e.jsxs("span",{className:"text-[11px] sm:text-xs font-medium",style:{color:"var(--text-secondary)"},children:[N(o)," / USD"]})]})]})}function xe({accounts:c,loading:v,onAccountClick:t}){const[u,o]=x.useState(!0),p=G();if(v)return e.jsx("div",{className:"card-glass overflow-hidden",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsx("div",{className:"h-4 w-24 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 w-16 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]})});if(!c||c.length===0)return null;const h=r=>{t&&t(r)};return e.jsxs("div",{className:"card-glass overflow-hidden transition-all duration-300",children:[e.jsxs("button",{onClick:()=>o(!u),className:"w-full px-3 py-3 sm:p-4 flex items-center justify-between text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.99]",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-lg sm:rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-4 h-4 sm:w-4.5 sm:h-4.5",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm sm:text-[15px]",style:{color:"var(--text-primary)"},children:"Cuentas"}),e.jsx("span",{className:"ml-1.5 sm:ml-2 text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:c.length})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-[11px] sm:text-xs font-medium hidden sm:inline",style:{color:"var(--text-secondary)"},children:u?"Ocultar":"Ver todas"}),e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-300 ${u?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u&&e.jsxs("div",{className:"animate-scale-in",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("div",{className:"hidden lg:grid lg:grid-cols-2 xl:grid-cols-3 gap-px",style:{backgroundColor:"var(--border-subtle)"},children:c.map((r,g)=>{const y=r.moneda==="Peso",s=y?"#75AADB":"#3CB371",l=!!r.icon,b=l&&z(r.icon);return e.jsxs("button",{onClick:()=>h(r),className:"p-4 flex items-center gap-3 text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] group",style:{backgroundColor:"var(--bg-secondary)",animationDelay:`${g*50}ms`},children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0 transition-transform duration-200 group-hover:scale-110 overflow-hidden",style:{backgroundColor:l&&!b?"transparent":`${s}15`,boxShadow:`0 0 20px ${s}10`},children:l?b?e.jsx("span",{className:"text-xl",children:r.icon}):e.jsx("img",{src:H(r.icon),alt:r.nombre,className:"w-full h-full object-cover rounded-xl"}):e.jsx("span",{className:"text-sm font-bold",style:{color:s},children:y?"$":"US$"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold truncate text-[15px]",style:{color:"var(--text-primary)"},children:r.nombre}),e.jsxs("p",{className:"text-[11px] mt-0.5",style:{color:"var(--text-secondary)"},children:[y?"Pesos":"DÃ³lares",r.tipo&&` Â· ${r.tipo}`]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("p",{className:"font-bold text-[15px]",style:{color:s},children:N(r.balanceActual,y?"ARS":"USD")})})]},r.nombre)})}),e.jsx("div",{className:"lg:hidden overflow-hidden",children:c.map((r,g)=>{const y=r.moneda==="Peso",s=y?"#75AADB":"#3CB371",l=!!r.icon,b=l&&z(r.icon);return e.jsxs("button",{onClick:()=>h(r),className:"w-full px-3 py-2.5 flex items-start gap-2 text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.99] group",style:{borderBottom:g<c.length-1?"1px solid var(--border-subtle)":"none"},children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5 overflow-hidden",style:{backgroundColor:l&&!b?"transparent":`${s}15`},children:l?b?e.jsx("span",{className:"text-lg",children:r.icon}):e.jsx("img",{src:H(r.icon),alt:r.nombre,className:"w-full h-full object-cover rounded-lg"}):e.jsx("span",{className:"text-[11px] font-bold",style:{color:s},children:y?"$":"US$"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-[13px] leading-tight break-words",style:{color:"var(--text-primary)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r.nombre}),e.jsxs("p",{className:"text-[10px] mt-0.5",style:{color:"var(--text-secondary)"},children:[y?"Pesos":"DÃ³lares",r.tipo&&` Â· ${r.tipo}`]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("p",{className:"font-bold text-[13px]",style:{color:s},children:N(r.balanceActual,y?"ARS":"USD")})})]},r.nombre)})}),e.jsx("button",{onClick:()=>p("/cuentas"),className:"w-full py-2.5 sm:p-3.5 text-center text-xs sm:text-sm font-semibold transition-all duration-200 hover:bg-[var(--accent-primary-dim)] active:scale-[0.99]",style:{color:"var(--accent-primary)",borderTop:"1px solid var(--border-subtle)"},children:"Ver detalles de cuentas â†’"})]})]})}function ue({movements:c,loading:v}){var h,r,g,y;const[t,u]=x.useState("ARS"),o=x.useMemo(()=>{if(!c||c.length===0)return null;const s=new Date,l=F(s,{weekStartsOn:1}),b=q(s,{weekStartsOn:1}),w=c.filter(d=>{if(d.tipo!=="gasto")return!1;const m=new Date(d.fecha);return de(m,{start:l,end:b})});if(w.length===0)return{avgDaily:0,avgDailyDolares:0,maxDay:null,topCategory:null,totalWeek:0,totalWeekDolares:0,daysWithExpenses:0};const S=w.reduce((d,m)=>d+(m.montoPesos||m.monto||0),0),M=w.reduce((d,m)=>d+(m.montoDolares||0),0),n=new Set(w.map(d=>R(new Date(d.fecha),"yyyy-MM-dd"))).size,i=S/7,a=M/7,f={};w.forEach(d=>{const m=R(new Date(d.fecha),"yyyy-MM-dd"),E=R(new Date(d.fecha),"EEEE",{locale:Y});f[m]||(f[m]={name:E,amount:0,amountDolares:0,date:m}),f[m].amount+=d.montoPesos||d.monto||0,f[m].amountDolares+=d.montoDolares||0});const D=Object.values(f).sort((d,m)=>m.amount-d.amount)[0]||null,L={};w.forEach(d=>{const m=d.categoria||"Sin categorÃ­a";L[m]||(L[m]={name:m,amount:0,amountDolares:0}),L[m].amount+=d.montoPesos||d.monto||0,L[m].amountDolares+=d.montoDolares||0});const W=Object.values(L).sort((d,m)=>m.amount-d.amount)[0]||null;return{avgDaily:i,avgDailyDolares:a,maxDay:D,topCategory:W,totalWeek:S,totalWeekDolares:M,daysWithExpenses:n}},[c]);if(v)return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg skeleton-shimmer",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 w-24 sm:w-28 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]}),e.jsx("div",{className:"card-glass p-3 sm:p-4",children:e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("div",{className:"h-2.5 sm:h-3 w-12 sm:w-16 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 sm:h-5 w-16 sm:w-20 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]},s))})})]});if(!o||o.totalWeek===0)return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Esta semana"})]}),e.jsxs("div",{className:"card-glass p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 rounded-lg sm:rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Sin gastos esta semana"})]})]});const p=s=>{const l=s==null?void 0:s.match(/^[\p{Emoji}\u200d]+/u);return l?l[0]:"ðŸ“Š"};return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Esta semana"})]}),e.jsxs("div",{className:"inline-flex rounded-lg sm:rounded-xl p-0.5 sm:p-1",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("button",{onClick:()=>u("ARS"),className:"px-2 sm:px-3.5 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[11px] sm:text-xs font-semibold transition-all duration-300 active:scale-95 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="ARS"?"var(--accent-primary)":"transparent",color:t==="ARS"?"white":"var(--text-secondary)",boxShadow:t==="ARS"?"0 4px 12px var(--accent-primary-glow)":"none"},children:[e.jsx("img",{src:"/icons/catalog/ARS.svg",alt:"ARS",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"ARS"]}),e.jsxs("button",{onClick:()=>u("USD"),className:"px-2 sm:px-3.5 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[11px] sm:text-xs font-semibold transition-all duration-300 active:scale-95 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="USD"?"var(--accent-green)":"transparent",color:t==="USD"?"white":"var(--text-secondary)",boxShadow:t==="USD"?"0 4px 12px rgba(0, 217, 154, 0.3)":"none"},children:[e.jsx("img",{src:"/icons/catalog/USD.svg",alt:"USD",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"USD"]})]})]}),e.jsx("div",{className:"card-glass p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(59, 130, 246, 0.15)"},children:e.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",style:{color:"var(--accent-blue)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"Prom/dÃ­a"})]}),e.jsx("p",{className:"text-xs sm:text-base font-bold truncate",style:{color:"var(--accent-blue)"},children:N(t==="ARS"?o.avgDaily:o.avgDailyDolares,t)})]}),e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(255, 92, 114, 0.15)"},children:e.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"DÃ­a pico"})]}),e.jsx("p",{className:"text-xs sm:text-sm font-bold capitalize truncate",style:{color:"var(--accent-red)"},children:((h=o.maxDay)==null?void 0:h.name)||"-"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5 truncate",style:{color:"var(--text-secondary)"},children:o.maxDay?N(t==="ARS"?o.maxDay.amount:o.maxDay.amountDolares,t):"-"})]}),e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center text-[10px] sm:text-xs",style:{backgroundColor:"rgba(20, 184, 166, 0.15)"},children:p((r=o.topCategory)==null?void 0:r.name)}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"Top"})]}),e.jsx("p",{className:"text-xs sm:text-sm font-bold truncate",style:{color:"var(--accent-primary)"},children:((y=(g=o.topCategory)==null?void 0:g.name)==null?void 0:y.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim())||"-"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5 truncate",style:{color:"var(--text-secondary)"},children:o.topCategory?N(t==="ARS"?o.topCategory.amount:o.topCategory.amountDolares,t):"-"})]})]})})]})}function pe({accounts:c=[],categories:v={ingresos:[],gastos:[]},filters:t,onFilterChange:u}){var s,l,b,w,S,M;const[o,p]=x.useState(!1);[...v.ingresos||[],...v.gastos||[]];const h=(n,i)=>{const a=t[n]||[];let f;a.includes(i)?f=a.filter(k=>k!==i):f=[...a,i],u==null||u({...t,[n]:f})},r=(n,i)=>(t[n]||[]).includes(i),g=[((s=t.tipos)==null?void 0:s.length)>0&&((l=t.tipos)==null?void 0:l.length)<3,((b=t.cuentas)==null?void 0:b.length)>0,((w=t.categorias)==null?void 0:w.length)>0].filter(Boolean).length,y=()=>{u==null||u({tipos:[],cuentas:[],categorias:[]})};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>p(!o),className:"flex items-center gap-2 px-3.5 py-2.5 rounded-xl text-sm transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:[e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("span",{className:"font-medium",children:"Filtros"}),g>0&&e.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold",style:{backgroundColor:"var(--accent-primary)",color:"white",boxShadow:"0 2px 8px var(--accent-primary-glow)"},children:g}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&e.jsxs("div",{className:"p-4 rounded-2xl space-y-4 animate-scale-in card-glass",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"Tipo de movimiento"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"ingreso",label:"Ingresos",color:"var(--accent-green)",glow:"rgba(0, 217, 154, 0.3)"},{value:"gasto",label:"Gastos",color:"var(--accent-red)",glow:"rgba(255, 92, 114, 0.3)"},{value:"transferencia",label:"Transferencias",color:"var(--accent-blue)",glow:"rgba(59, 130, 246, 0.3)"}].map(n=>{const i=r("tipos",n.value);return e.jsx("button",{onClick:()=>h("tipos",n.value),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?n.color:"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?`0 4px 16px ${n.glow}`:"none"},children:n.label},n.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"Cuentas"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-28 overflow-y-auto custom-scrollbar",children:c.map(n=>{const i=r("cuentas",n.nombre);return e.jsx("button",{onClick:()=>h("cuentas",n.nombre),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?"var(--accent-primary)":"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?"0 4px 16px var(--accent-primary-glow)":"none"},children:n.nombre},n.nombre)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"CategorÃ­as"}),e.jsxs("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto custom-scrollbar",children:[((S=v.ingresos)==null?void 0:S.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-full text-[10px] font-semibold uppercase tracking-wider",style:{color:"var(--accent-green)"},children:"Ingresos:"}),v.ingresos.map(n=>{const i=r("categorias",n);return e.jsx("button",{onClick:()=>h("categorias",n),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?"var(--accent-green)":"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?"0 4px 16px rgba(0, 217, 154, 0.3)":"none"},children:n},n)})]}),((M=v.gastos)==null?void 0:M.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-full text-[10px] font-semibold uppercase tracking-wider mt-2",style:{color:"var(--accent-red)"},children:"Gastos:"}),v.gastos.map(n=>{const i=r("categorias",n);return e.jsx("button",{onClick:()=>h("categorias",n),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?"var(--accent-red)":"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?"0 4px 16px rgba(255, 92, 114, 0.3)":"none"},children:n},n)})]})]})]}),g>0&&e.jsx("div",{className:"pt-3",style:{borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("button",{onClick:y,className:"text-xs font-semibold flex items-center gap-1.5 transition-all duration-200 hover:opacity-80 active:scale-95",style:{color:"var(--accent-primary)"},children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpiar filtros"]})})]})]})}function he({movements:c,dateRange:v,onDateRangeChange:t,filters:u,onFilterChange:o,accounts:p,categories:h,onMovementClick:r,onMovementDelete:g,loading:y=!1,currency:s="ARS"}){const[l,b]=x.useState(null),w=a=>{switch(a){case"ingreso":return{color:"var(--accent-green)",bgColor:"rgba(0, 217, 154, 0.12)",glowColor:"rgba(0, 217, 154, 0.3)",prefix:"+",icon:"up"};case"gasto":return{color:"var(--accent-red)",bgColor:"rgba(255, 92, 114, 0.12)",glowColor:"rgba(255, 92, 114, 0.3)",prefix:"-",icon:"down"};case"transferencia":return{color:"var(--accent-blue)",bgColor:"rgba(59, 130, 246, 0.12)",glowColor:"rgba(59, 130, 246, 0.3)",prefix:"",icon:"transfer"};default:return{color:"var(--accent-blue)",bgColor:"rgba(59, 130, 246, 0.12)",glowColor:"rgba(59, 130, 246, 0.3)",prefix:"",icon:"down"}}},S=(a,f)=>{a.stopPropagation(),b(f)},M=()=>{l&&(g==null||g(l),b(null))},n=(a,f)=>{const k="w-4 h-4 sm:w-5 sm:h-5";return a==="transferencia"?e.jsx("svg",{className:k,style:{color:f},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}):a==="ingreso"?e.jsx("svg",{className:k,style:{color:f},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):e.jsx("svg",{className:k,style:{color:f},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})},i=()=>e.jsx("div",{className:"card-glass overflow-hidden",children:[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:p-4",style:{borderBottom:a<3?"1px solid var(--border-subtle)":"none"},children:[e.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl skeleton-shimmer",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-2.5",children:[e.jsx("div",{className:"h-3.5 sm:h-4 w-20 sm:w-28 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-2.5 sm:h-3 w-24 sm:w-36 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]}),e.jsxs("div",{className:"text-right space-y-2 sm:space-y-2.5",children:[e.jsx("div",{className:"h-4 sm:h-5 w-16 sm:w-24 skeleton-shimmer rounded-lg ml-auto",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-2.5 sm:h-3 w-12 sm:w-16 skeleton-shimmer rounded-lg ml-auto",style:{backgroundColor:"var(--bg-tertiary)"}})]})]},a))});return e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Movimientos"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{value:v,onChange:t,defaultPreset:"Esta semana"}),(v.from||v.to)&&e.jsx("button",{onClick:()=>t({from:null,to:null}),className:"p-1.5 rounded-lg transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},title:"Limpiar fechas",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsx(pe,{accounts:p,categories:h,filters:u,onFilterChange:o}),y?i():!c||c.length===0?e.jsxs("div",{className:"card-glass p-6 sm:p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-xl sm:rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"font-semibold text-sm sm:text-base mb-0.5 sm:mb-1",style:{color:"var(--text-primary)"},children:"Sin movimientos"}),e.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--text-secondary)"},children:"No hay movimientos en este periodo"})]}):e.jsx("div",{className:"card-glass overflow-hidden",children:c.map((a,f)=>{const k=w(a.tipo);return e.jsxs("div",{className:`group flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:p-4 transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.995] ${f!==c.length-1?"border-b":""}`,style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("button",{onClick:()=>r==null?void 0:r(a),className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0 text-left transition-transform duration-200",style:{backgroundColor:"transparent"},children:[e.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-200 group-hover:scale-110",style:{backgroundColor:k.bgColor,boxShadow:`0 0 0 ${k.glowColor}`},onMouseEnter:D=>D.currentTarget.style.boxShadow=`0 0 20px ${k.glowColor}`,onMouseLeave:D=>D.currentTarget.style.boxShadow=`0 0 0 ${k.glowColor}`,children:n(a.tipo,k.color)}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("p",{className:"font-semibold truncate text-sm sm:text-[15px]",style:{color:"var(--text-primary)"},children:a.tipo==="transferencia"?"Transferencia":a.categoria||""}),a.cuota&&e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded-md sm:rounded-lg text-[9px] sm:text-[10px] font-semibold flex-shrink-0",style:{backgroundColor:"rgba(20, 184, 166, 0.12)",color:"var(--accent-primary)"},children:a.cuota})]}),e.jsx("p",{className:"text-[11px] sm:text-xs truncate mt-0.5",style:{color:"var(--text-secondary)"},children:a.tipo==="transferencia"?`${a.cuentaSaliente} â†’ ${a.cuentaEntrante}`:a.cuenta})]}),e.jsxs("div",{className:"text-right flex-shrink-0 pl-1",children:[e.jsx("p",{className:"font-bold text-sm sm:text-lg",style:{color:k.color},children:a.tipo==="transferencia"?N(s==="ARS"?a.montoSaliente:a.montoSalienteDolares||0,s):`${k.prefix}${N(s==="ARS"?a.montoPesos||a.monto:a.montoDolares||0,s)}`}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5",style:{color:"var(--text-secondary)"},children:Z(a.fecha,"short")})]})]}),e.jsx("button",{onClick:D=>S(D,a),className:"p-2 sm:p-2.5 rounded-lg sm:rounded-xl flex-shrink-0 transition-all duration-200 hover:bg-red-500/15 active:scale-95",style:{color:"var(--text-muted)"},title:"Eliminar",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 transition-colors hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},a.rowIndex||f)})}),c&&c.length>0&&e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-center font-medium",style:{color:"var(--text-secondary)"},children:["Mostrando ",c.length," movimiento",c.length!==1?"s":""]}),l&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md animate-fade-in",onClick:()=>b(null)}),e.jsx("div",{className:"relative w-full max-w-sm rounded-2xl p-6 animate-scale-in card-elevated",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{backgroundColor:"rgba(255, 92, 114, 0.12)",boxShadow:"0 0 30px rgba(255, 92, 114, 0.2)"},children:e.jsx("svg",{className:"w-8 h-8",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e.jsx("h3",{className:"text-lg font-bold font-display mb-2",style:{color:"var(--text-primary)"},children:"Eliminar movimiento"}),e.jsxs("p",{className:"text-sm mb-5",style:{color:"var(--text-secondary)"},children:["Â¿EstÃ¡s seguro de que quieres eliminar ",l.tipo==="transferencia"?"esta":"este"," ",l.tipo,"?",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-base mt-1 inline-block",style:{color:w(l.tipo).color},children:l.tipo==="transferencia"?N(l.montoSaliente):N(l.montoPesos||l.monto)})," - ",l.tipo==="transferencia"?`${l.cuentaSaliente} â†’ ${l.cuentaEntrante}`:l.categoria]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>b(null),className:"flex-1 py-3.5 rounded-xl font-semibold transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:"Cancelar"}),e.jsx("button",{onClick:M,className:"flex-1 py-3.5 rounded-xl font-semibold text-white transition-all duration-200 hover:opacity-90 active:scale-[0.98]",style:{backgroundColor:"var(--accent-red)",boxShadow:"0 4px 20px rgba(255, 92, 114, 0.3)"},children:"Eliminar"})]})]})})]})]})}function fe(){const c=G(),{showError:v}=_(),[t,u]=x.useState("ARS"),[o,p]=x.useState({from:se(new Date),to:ee(new Date)}),[h,r]=x.useState({from:F(new Date,{weekStartsOn:1}),to:q(new Date,{weekStartsOn:1})}),[g,y]=x.useState({tipos:[],cuentas:[],categorias:[]}),[s,l]=x.useState(null),[b,w]=x.useState([]),[S,M]=x.useState([]),[n,i]=x.useState({ingresos:[],gastos:[]}),[a,f]=x.useState(!0),[k,D]=x.useState(!0),[L,V]=x.useState(!0),[W,d]=x.useState(null),[m,E]=x.useState(null),[J,U]=x.useState(!1);x.useEffect(()=>{async function j(){try{const[C,$]=await Promise.all([oe(),le()]);M(C.accounts||[]),i($.categorias||{ingresos:[],gastos:[]})}catch(C){console.error("Error fetching initial data:",C)}finally{V(!1)}}j()},[]);const A=x.useCallback(async()=>{try{f(!0);const j=await te({fromDate:o.from?R(o.from,"yyyy-MM-dd"):null,toDate:o.to?R(o.to,"yyyy-MM-dd"):null});l(j.dashboard),d(null)}catch(j){d(j.message),console.error("Error fetching dashboard:",j)}finally{f(!1)}},[o]);x.useEffect(()=>{A()},[A]);const B=x.useCallback(async()=>{try{D(!0);const j=await re({fromDate:h.from?R(h.from,"yyyy-MM-dd"):null,toDate:h.to?R(h.to,"yyyy-MM-dd"):null,tipos:g.tipos,cuentas:g.cuentas,categorias:g.categorias});w(j.movements||[])}catch(j){console.error("Error fetching movements:",j)}finally{D(!1)}},[h,g]);x.useEffect(()=>{B()},[B]);const I=x.useCallback(async()=>{await Promise.all([A(),B()])},[A,B]),Q=async j=>{try{U(!0),await ce(j),E(null),await Promise.all([A(),B()])}catch(C){console.error("Error updating movement:",C),v("No se pudo guardar el movimiento",C.message)}finally{U(!1)}},T=async j=>{E(null),w(C=>C.filter($=>!($.tipo===j.tipo&&$.rowIndex===j.rowIndex)));try{await ne(j),await A()}catch(C){console.error("Error deleting movement:",C),v("No se pudo eliminar el movimiento",C.message),await B()}},X=j=>{E(null),c("/nuevo",{state:{prefill:j}})};return L&&a?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(O,{size:"lg"})}):W&&!s?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsxs("p",{style:{color:"var(--accent-red)"},children:["Error: ",W]}),e.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Reintentar"})]}):e.jsx(ie,{onRefresh:I,disabled:a&&k,children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-base sm:text-lg font-medium",style:{color:"var(--text-primary)"},children:"Dashboard"}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsxs("div",{className:"inline-flex p-0.5 sm:p-1 rounded-md sm:rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("button",{onClick:()=>u("ARS"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-[11px] sm:text-xs font-medium transition-colors duration-150 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="ARS"?"var(--bg-elevated)":"transparent",color:t==="ARS"?"var(--text-primary)":"var(--text-muted)"},children:[e.jsx("img",{src:"/icons/catalog/ARS.svg",alt:"ARS",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"ARS"]}),e.jsxs("button",{onClick:()=>u("USD"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-[11px] sm:text-xs font-medium transition-colors duration-150 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="USD"?"var(--bg-elevated)":"transparent",color:t==="USD"?"var(--text-primary)":"var(--text-muted)"},children:[e.jsx("img",{src:"/icons/catalog/USD.svg",alt:"USD",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"USD"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{value:o,onChange:p,defaultPreset:"Este mes"}),(o.from||o.to)&&e.jsx("button",{onClick:()=>p({from:null,to:null}),className:"p-1.5 rounded-lg transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},title:"Limpiar fechas",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),a?e.jsx("div",{className:"rounded-xl p-12 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:e.jsx(O,{})}):e.jsx(me,{totalPesos:s==null?void 0:s.totalPesos,totalDolares:s==null?void 0:s.totalDolares,totalGeneralPesos:s==null?void 0:s.totalGeneralPesos,totalGeneralDolares:s==null?void 0:s.totalGeneralDolares,tipoCambio:s==null?void 0:s.tipoCambio,currency:t,ingresosMes:s==null?void 0:s.ingresosMes,gastosMes:s==null?void 0:s.gastosMes,ingresosMesDolares:s==null?void 0:s.ingresosMesDolares,gastosMesDolares:s==null?void 0:s.gastosMesDolares}),e.jsx(xe,{accounts:S,loading:L,onAccountClick:j=>{y(C=>({...C,cuentas:[j.nombre]}))}}),e.jsx(ue,{movements:b,loading:k}),e.jsx(he,{movements:b,dateRange:h,onDateRangeChange:r,filters:g,onFilterChange:y,accounts:S,categories:n,onMovementClick:E,onMovementDelete:T,loading:k,currency:t}),m&&e.jsx(ae,{movement:m,accounts:S,categories:n,onSave:Q,onDelete:T,onDuplicate:X,onClose:()=>E(null),onConvertedToRecurring:I,loading:J})]})})}export{fe as default};
