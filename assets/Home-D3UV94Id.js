import{t as O,j as e,f as C,r as u,u as q,i as z,a as F,s as T,e as H,b as W,c as Z,d as ee,g as se,h as te,k as ae,l as re,m as oe,n as le,L as J,E as ne,o as ce,p as ie,q as de,D as E,v as V,w as me}from"./index-Eh7_dahB.js";import{D as X}from"./DateRangePicker-D_Mrk7B1.js";import{P as xe}from"./PullToRefresh-BhRVTx1O.js";import"./subMonths-Cn0fN_IX.js";function ue(m,b,t){const v=+O(m,t==null?void 0:t.in),[n,f]=[+O(b.start,t==null?void 0:t.in),+O(b.end,t==null?void 0:t.in)].sort((p,a)=>p-a);return v>=n&&v<=f}function pe({totalPesos:m,totalDolares:b,totalGeneralPesos:t,totalGeneralDolares:v,tipoCambio:n,currency:f="ARS",ingresosMes:p=0,gastosMes:a=0,ingresosMesDolares:y=0,gastosMesDolares:j=0}){const s=f==="ARS"?t:v,c=f==="ARS"?p:y,w=f==="ARS"?a:j,N=c-Math.abs(w);return e.jsxs("div",{className:"p-3 sm:p-4 rounded-xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Balance total"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded text-[9px] sm:text-[10px] font-medium",style:{backgroundColor:f==="ARS"?"var(--accent-primary-dim)":"var(--accent-green-dim)",color:f==="ARS"?"var(--accent-primary)":"var(--accent-green)"},children:f})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-medium tracking-tight mb-3 sm:mb-4",style:{color:"var(--text-primary)"},children:C(s,f)}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsxs("div",{className:"p-2 sm:p-3 rounded-lg",style:{backgroundColor:"var(--accent-green-dim)"},children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] uppercase tracking-wide mb-0.5 sm:mb-1",style:{color:"var(--text-muted)"},children:"Ingresos"}),e.jsxs("p",{className:"text-xs sm:text-sm font-medium truncate",style:{color:"var(--accent-green)"},children:["+",C(Math.abs(c),f)]})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-lg",style:{backgroundColor:"var(--accent-red-dim)"},children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] uppercase tracking-wide mb-0.5 sm:mb-1",style:{color:"var(--text-muted)"},children:"Gastos"}),e.jsxs("p",{className:"text-xs sm:text-sm font-medium truncate",style:{color:"var(--accent-red)"},children:["-",C(Math.abs(w),f)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1.5 sm:py-2",children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Flujo neto"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium",style:{color:N>=0?"var(--accent-green)":"var(--accent-red)"},children:[N>=0?"+":"",C(N,f)]})]}),n&&e.jsxs("div",{className:"flex items-center justify-between pt-1.5 sm:pt-2 mt-1.5 sm:mt-2",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("span",{className:"text-[11px] sm:text-xs",style:{color:"var(--text-muted)"},children:"Tipo de cambio"}),e.jsxs("span",{className:"text-[11px] sm:text-xs font-medium",style:{color:"var(--text-secondary)"},children:[C(n)," / USD"]})]})]})}function he({accounts:m,loading:b,onAccountClick:t}){const[v,n]=u.useState(!0),f=q();if(b)return e.jsx("div",{className:"card-glass overflow-hidden",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsx("div",{className:"h-4 w-24 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 w-16 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]})});if(!m||m.length===0)return null;const p=a=>{t&&t(a)};return e.jsxs("div",{className:"card-glass overflow-hidden transition-all duration-300",children:[e.jsxs("button",{onClick:()=>n(!v),className:"w-full px-3 py-3 sm:p-4 flex items-center justify-between text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.99]",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-lg sm:rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-4 h-4 sm:w-4.5 sm:h-4.5",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm sm:text-[15px]",style:{color:"var(--text-primary)"},children:"Cuentas"}),e.jsx("span",{className:"ml-1.5 sm:ml-2 text-[9px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:m.length})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-[11px] sm:text-xs font-medium hidden sm:inline",style:{color:"var(--text-secondary)"},children:v?"Ocultar":"Ver todas"}),e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-300 ${v?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),v&&e.jsxs("div",{className:"animate-scale-in",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("div",{className:"hidden lg:grid lg:grid-cols-2 xl:grid-cols-3 gap-px",style:{backgroundColor:"var(--border-subtle)"},children:m.map((a,y)=>{const j=a.moneda==="Peso",s=j?"#75AADB":"#3CB371",c=!!a.icon,w=c&&z(a.icon);return e.jsxs("button",{onClick:()=>p(a),className:"p-4 flex items-center gap-3 text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] group",style:{backgroundColor:"var(--bg-secondary)",animationDelay:`${y*50}ms`},children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0 transition-transform duration-200 group-hover:scale-110 overflow-hidden",style:{backgroundColor:c&&!w?"transparent":`${s}15`,boxShadow:`0 0 20px ${s}10`},children:c?w?e.jsx("span",{className:"text-xl",children:a.icon}):e.jsx("img",{src:F(a.icon),alt:a.nombre,className:"w-full h-full object-cover rounded-xl"}):e.jsx("span",{className:"text-sm font-bold",style:{color:s},children:j?"$":"US$"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold truncate text-[15px]",style:{color:"var(--text-primary)"},children:a.nombre}),e.jsxs("p",{className:"text-[11px] mt-0.5",style:{color:"var(--text-secondary)"},children:[j?"Pesos":"DÃ³lares",a.tipo&&` Â· ${a.tipo}`]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("p",{className:"font-bold text-[15px]",style:{color:s},children:C(a.balanceActual,j?"ARS":"USD")})})]},a.nombre)})}),e.jsx("div",{className:"lg:hidden overflow-hidden",children:m.map((a,y)=>{const j=a.moneda==="Peso",s=j?"#75AADB":"#3CB371",c=!!a.icon,w=c&&z(a.icon);return e.jsxs("button",{onClick:()=>p(a),className:"w-full px-3 py-2.5 flex items-start gap-2 text-left transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.99] group",style:{borderBottom:y<m.length-1?"1px solid var(--border-subtle)":"none"},children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5 overflow-hidden",style:{backgroundColor:c&&!w?"transparent":`${s}15`},children:c?w?e.jsx("span",{className:"text-lg",children:a.icon}):e.jsx("img",{src:F(a.icon),alt:a.nombre,className:"w-full h-full object-cover rounded-lg"}):e.jsx("span",{className:"text-[11px] font-bold",style:{color:s},children:j?"$":"US$"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-[13px] leading-tight break-words",style:{color:"var(--text-primary)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:a.nombre}),e.jsxs("p",{className:"text-[10px] mt-0.5",style:{color:"var(--text-secondary)"},children:[j?"Pesos":"DÃ³lares",a.tipo&&` Â· ${a.tipo}`]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("p",{className:"font-bold text-[13px]",style:{color:s},children:C(a.balanceActual,j?"ARS":"USD")})})]},a.nombre)})}),e.jsx("button",{onClick:()=>f("/cuentas"),className:"w-full py-2.5 sm:p-3.5 text-center text-xs sm:text-sm font-semibold transition-all duration-200 hover:bg-[var(--accent-primary-dim)] active:scale-[0.99]",style:{color:"var(--accent-primary)",borderTop:"1px solid var(--border-subtle)"},children:"Ver detalles de cuentas â†’"})]})]})}function ge({movements:m,loading:b}){var p,a,y,j;const[t,v]=u.useState("ARS"),n=u.useMemo(()=>{if(!m||m.length===0)return null;const s=new Date,c=T(s,{weekStartsOn:1}),w=H(s,{weekStartsOn:1}),N=m.filter(h=>{if(h.tipo!=="gasto")return!1;const g=new Date(h.fecha);return ue(g,{start:c,end:w})});if(N.length===0)return{avgDaily:0,avgDailyDolares:0,maxDay:null,topCategory:null,totalWeek:0,totalWeekDolares:0,daysWithExpenses:0};const S=N.reduce((h,g)=>h+(g.montoPesos||g.monto||0),0),M=N.reduce((h,g)=>h+(g.montoDolares||0),0),l=new Set(N.map(h=>W(new Date(h.fecha),"yyyy-MM-dd"))).size,x=S/7,r=M/7,i={};N.forEach(h=>{const g=W(new Date(h.fecha),"yyyy-MM-dd"),L=W(new Date(h.fecha),"EEEE",{locale:Z});i[g]||(i[g]={name:L,amount:0,amountDolares:0,date:g}),i[g].amount+=h.montoPesos||h.monto||0,i[g].amountDolares+=h.montoDolares||0});const D=Object.values(i).sort((h,g)=>g.amount-h.amount)[0]||null,A={};N.forEach(h=>{const g=h.categoria||"Sin categorÃ­a";A[g]||(A[g]={name:g,amount:0,amountDolares:0}),A[g].amount+=h.montoPesos||h.monto||0,A[g].amountDolares+=h.montoDolares||0});const $=Object.values(A).sort((h,g)=>g.amount-h.amount)[0]||null;return{avgDaily:x,avgDailyDolares:r,maxDay:D,topCategory:$,totalWeek:S,totalWeekDolares:M,daysWithExpenses:l}},[m]);if(b)return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg skeleton-shimmer",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 w-24 sm:w-28 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]}),e.jsx("div",{className:"card-glass p-3 sm:p-4",children:e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("div",{className:"h-2.5 sm:h-3 w-12 sm:w-16 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-4 sm:h-5 w-16 sm:w-20 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]},s))})})]});if(!n||n.totalWeek===0)return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Esta semana"})]}),e.jsxs("div",{className:"card-glass p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 rounded-lg sm:rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Sin gastos esta semana"})]})]});const f=s=>{const c=s==null?void 0:s.match(/^[\p{Emoji}\u200d]+/u);return c?c[0]:"ðŸ“Š"};return e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Esta semana"})]}),e.jsxs("div",{className:"inline-flex rounded-lg sm:rounded-xl p-0.5 sm:p-1",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("button",{onClick:()=>v("ARS"),className:"px-2 sm:px-3.5 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[11px] sm:text-xs font-semibold transition-all duration-300 active:scale-95 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="ARS"?"var(--accent-primary)":"transparent",color:t==="ARS"?"white":"var(--text-secondary)",boxShadow:t==="ARS"?"0 4px 12px var(--accent-primary-glow)":"none"},children:[e.jsx("img",{src:"/icons/catalog/ARS.svg",alt:"ARS",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"ARS"]}),e.jsxs("button",{onClick:()=>v("USD"),className:"px-2 sm:px-3.5 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[11px] sm:text-xs font-semibold transition-all duration-300 active:scale-95 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="USD"?"var(--accent-green)":"transparent",color:t==="USD"?"white":"var(--text-secondary)",boxShadow:t==="USD"?"0 4px 12px rgba(0, 217, 154, 0.3)":"none"},children:[e.jsx("img",{src:"/icons/catalog/USD.svg",alt:"USD",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"USD"]})]})]}),e.jsx("div",{className:"card-glass p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(59, 130, 246, 0.15)"},children:e.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",style:{color:"var(--accent-blue)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"Prom/dÃ­a"})]}),e.jsx("p",{className:"text-xs sm:text-base font-bold truncate",style:{color:"var(--accent-blue)"},children:C(t==="ARS"?n.avgDaily:n.avgDailyDolares,t)})]}),e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(255, 92, 114, 0.15)"},children:e.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"DÃ­a pico"})]}),e.jsx("p",{className:"text-xs sm:text-sm font-bold capitalize truncate",style:{color:"var(--accent-red)"},children:((p=n.maxDay)==null?void 0:p.name)||"-"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5 truncate",style:{color:"var(--text-secondary)"},children:n.maxDay?C(t==="ARS"?n.maxDay.amount:n.maxDay.amountDolares,t):"-"})]}),e.jsxs("div",{className:"group p-2 sm:p-3 rounded-xl transition-all duration-200 hover:bg-[var(--bg-tertiary)]",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md sm:rounded-lg flex items-center justify-center text-[10px] sm:text-xs",style:{backgroundColor:"rgba(20, 184, 166, 0.15)"},children:f((a=n.topCategory)==null?void 0:a.name)}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-wider font-medium",style:{color:"var(--text-secondary)"},children:"Top"})]}),e.jsx("p",{className:"text-xs sm:text-sm font-bold truncate",style:{color:"var(--accent-primary)"},children:((j=(y=n.topCategory)==null?void 0:y.name)==null?void 0:j.replace(/^[\p{Emoji}\u200d]+\s*/u,"").trim())||"-"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5 truncate",style:{color:"var(--text-secondary)"},children:n.topCategory?C(t==="ARS"?n.topCategory.amount:n.topCategory.amountDolares,t):"-"})]})]})})]})}function ve({accounts:m=[],categories:b={ingresos:[],gastos:[]},filters:t,onFilterChange:v}){var s,c,w,N,S,M;const[n,f]=u.useState(!1);[...b.ingresos||[],...b.gastos||[]];const p=(l,x)=>{const r=t[l]||[];let i;r.includes(x)?i=r.filter(k=>k!==x):i=[...r,x],v==null||v({...t,[l]:i})},a=(l,x)=>(t[l]||[]).includes(x),y=[((s=t.tipos)==null?void 0:s.length)>0&&((c=t.tipos)==null?void 0:c.length)<3,((w=t.cuentas)==null?void 0:w.length)>0,((N=t.categorias)==null?void 0:N.length)>0].filter(Boolean).length,j=()=>{v==null||v({tipos:[],cuentas:[],categorias:[]})};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>f(!n),className:"flex items-center gap-2 px-3.5 py-2.5 rounded-xl text-sm transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:[e.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("span",{className:"font-medium",children:"Filtros"}),y>0&&e.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold",style:{backgroundColor:"var(--accent-primary)",color:"white",boxShadow:"0 2px 8px var(--accent-primary-glow)"},children:y}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&e.jsxs("div",{className:"p-4 rounded-2xl space-y-4 animate-scale-in card-glass",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"Tipo de movimiento"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"ingreso",label:"Ingresos",color:"var(--accent-green)",glow:"rgba(0, 217, 154, 0.3)"},{value:"gasto",label:"Gastos",color:"var(--accent-red)",glow:"rgba(255, 92, 114, 0.3)"},{value:"transferencia",label:"Transferencias",color:"var(--accent-blue)",glow:"rgba(59, 130, 246, 0.3)"}].map(l=>{const x=a("tipos",l.value);return e.jsx("button",{onClick:()=>p("tipos",l.value),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:x?l.color:"var(--bg-secondary)",color:x?"white":"var(--text-secondary)",boxShadow:x?`0 4px 16px ${l.glow}`:"none"},children:l.label},l.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"Cuentas"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-28 overflow-y-auto custom-scrollbar",children:m.map(l=>{const x=a("cuentas",l.nombre);return e.jsx("button",{onClick:()=>p("cuentas",l.nombre),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:x?"var(--accent-primary)":"var(--bg-secondary)",color:x?"white":"var(--text-secondary)",boxShadow:x?"0 4px 16px var(--accent-primary-glow)":"none"},children:l.nombre},l.nombre)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-semibold uppercase tracking-wider mb-2.5",style:{color:"var(--text-secondary)"},children:"CategorÃ­as"}),e.jsxs("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto custom-scrollbar",children:[((S=b.ingresos)==null?void 0:S.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-full text-[10px] font-semibold uppercase tracking-wider",style:{color:"var(--accent-green)"},children:"Ingresos:"}),b.ingresos.map(l=>{const x=typeof l=="string"?l:l.value,r=typeof l=="string"?l:l.label,i=a("categorias",x);return e.jsx("button",{onClick:()=>p("categorias",x),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?"var(--accent-green)":"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?"0 4px 16px rgba(0, 217, 154, 0.3)":"none"},children:r},x)})]}),((M=b.gastos)==null?void 0:M.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-full text-[10px] font-semibold uppercase tracking-wider mt-2",style:{color:"var(--accent-red)"},children:"Gastos:"}),b.gastos.map(l=>{const x=typeof l=="string"?l:l.value,r=typeof l=="string"?l:l.label,i=a("categorias",x);return e.jsx("button",{onClick:()=>p("categorias",x),className:"px-3.5 py-2 rounded-xl text-xs font-semibold transition-all duration-200 active:scale-95",style:{backgroundColor:i?"var(--accent-red)":"var(--bg-secondary)",color:i?"white":"var(--text-secondary)",boxShadow:i?"0 4px 16px rgba(255, 92, 114, 0.3)":"none"},children:r},x)})]})]})]}),y>0&&e.jsx("div",{className:"pt-3",style:{borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("button",{onClick:j,className:"text-xs font-semibold flex items-center gap-1.5 transition-all duration-200 hover:opacity-80 active:scale-95",style:{color:"var(--accent-primary)"},children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpiar filtros"]})})]})]})}function ye({movements:m,dateRange:b,onDateRangeChange:t,filters:v,onFilterChange:n,accounts:f,categories:p,onMovementClick:a,onMovementDelete:y,loading:j=!1,currency:s="ARS"}){const[c,w]=u.useState(null),N=r=>{switch(r){case"ingreso":return{color:"var(--accent-green)",bgColor:"rgba(0, 217, 154, 0.12)",glowColor:"rgba(0, 217, 154, 0.3)",prefix:"+",icon:"up"};case"gasto":return{color:"var(--accent-red)",bgColor:"rgba(255, 92, 114, 0.12)",glowColor:"rgba(255, 92, 114, 0.3)",prefix:"-",icon:"down"};case"transferencia":return{color:"var(--accent-blue)",bgColor:"rgba(59, 130, 246, 0.12)",glowColor:"rgba(59, 130, 246, 0.3)",prefix:"",icon:"transfer"};default:return{color:"var(--accent-blue)",bgColor:"rgba(59, 130, 246, 0.12)",glowColor:"rgba(59, 130, 246, 0.3)",prefix:"",icon:"down"}}},S=(r,i)=>{r.stopPropagation(),w(i)},M=()=>{c&&(y==null||y(c),w(null))},l=(r,i)=>{const k="w-4 h-4 sm:w-5 sm:h-5";return r==="transferencia"?e.jsx("svg",{className:k,style:{color:i},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}):r==="ingreso"?e.jsx("svg",{className:k,style:{color:i},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):e.jsx("svg",{className:k,style:{color:i},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})},x=()=>e.jsx("div",{className:"card-glass overflow-hidden",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:p-4",style:{borderBottom:r<3?"1px solid var(--border-subtle)":"none"},children:[e.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl skeleton-shimmer",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-2.5",children:[e.jsx("div",{className:"h-3.5 sm:h-4 w-20 sm:w-28 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-2.5 sm:h-3 w-24 sm:w-36 skeleton-shimmer rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"}})]}),e.jsxs("div",{className:"text-right space-y-2 sm:space-y-2.5",children:[e.jsx("div",{className:"h-4 sm:h-5 w-16 sm:w-24 skeleton-shimmer rounded-lg ml-auto",style:{backgroundColor:"var(--bg-tertiary)"}}),e.jsx("div",{className:"h-2.5 sm:h-3 w-12 sm:w-16 skeleton-shimmer rounded-lg ml-auto",style:{backgroundColor:"var(--bg-tertiary)"}})]})]},r))});return e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--accent-primary-dim)"},children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-sm sm:text-[15px] font-semibold",style:{color:"var(--text-primary)"},children:"Movimientos"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{value:b,onChange:t,defaultPreset:"Esta semana"}),(b.from||b.to)&&e.jsx("button",{onClick:()=>t({from:null,to:null}),className:"p-1.5 rounded-lg transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},title:"Limpiar fechas",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsx(ve,{accounts:f,categories:p,filters:v,onFilterChange:n}),j?x():!m||m.length===0?e.jsxs("div",{className:"card-glass p-6 sm:p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-xl sm:rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"font-semibold text-sm sm:text-base mb-0.5 sm:mb-1",style:{color:"var(--text-primary)"},children:"Sin movimientos"}),e.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--text-secondary)"},children:"No hay movimientos en este periodo"})]}):e.jsx("div",{className:"card-glass overflow-hidden",children:m.map((r,i)=>{const k=N(r.tipo);return e.jsxs("div",{className:`group flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:p-4 transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.995] ${i!==m.length-1?"border-b":""}`,style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("button",{onClick:()=>a==null?void 0:a(r),className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0 text-left transition-transform duration-200",style:{backgroundColor:"transparent"},children:[e.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-200 group-hover:scale-110",style:{backgroundColor:k.bgColor,boxShadow:`0 0 0 ${k.glowColor}`},onMouseEnter:D=>D.currentTarget.style.boxShadow=`0 0 20px ${k.glowColor}`,onMouseLeave:D=>D.currentTarget.style.boxShadow=`0 0 0 ${k.glowColor}`,children:l(r.tipo,k.color)}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("p",{className:"font-semibold truncate text-sm sm:text-[15px]",style:{color:"var(--text-primary)"},children:r.tipo==="transferencia"?"Transferencia":r.categoria||""}),r.cuota&&e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded-md sm:rounded-lg text-[9px] sm:text-[10px] font-semibold flex-shrink-0",style:{backgroundColor:"rgba(20, 184, 166, 0.12)",color:"var(--accent-primary)"},children:r.cuota})]}),e.jsx("p",{className:"text-[11px] sm:text-xs truncate mt-0.5",style:{color:"var(--text-secondary)"},children:r.tipo==="transferencia"?`${r.cuentaSaliente} â†’ ${r.cuentaEntrante}`:r.cuenta})]}),e.jsxs("div",{className:"text-right flex-shrink-0 pl-1",children:[e.jsx("p",{className:"font-bold text-sm sm:text-lg",style:{color:k.color},children:r.tipo==="transferencia"?C(s==="ARS"?r.montoSaliente:r.montoSalienteDolares||0,s):`${k.prefix}${C(s==="ARS"?r.montoPesos||r.monto:r.montoDolares||0,s)}`}),e.jsx("p",{className:"text-[10px] sm:text-[11px] mt-0.5",style:{color:"var(--text-secondary)"},children:ee(r.fecha,"short")})]})]}),e.jsx("button",{onClick:D=>S(D,r),className:"p-2 sm:p-2.5 rounded-lg sm:rounded-xl flex-shrink-0 transition-all duration-200 hover:bg-red-500/15 active:scale-95",style:{color:"var(--text-muted)"},title:"Eliminar",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 transition-colors hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},r.rowIndex||i)})}),m&&m.length>0&&e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-center font-medium",style:{color:"var(--text-secondary)"},children:["Mostrando ",m.length," movimiento",m.length!==1?"s":""]}),c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md animate-fade-in",onClick:()=>w(null)}),e.jsx("div",{className:"relative w-full max-w-sm rounded-2xl p-6 animate-scale-in card-elevated",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{backgroundColor:"rgba(255, 92, 114, 0.12)",boxShadow:"0 0 30px rgba(255, 92, 114, 0.2)"},children:e.jsx("svg",{className:"w-8 h-8",style:{color:"var(--accent-red)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e.jsx("h3",{className:"text-lg font-bold font-display mb-2",style:{color:"var(--text-primary)"},children:"Eliminar movimiento"}),e.jsxs("p",{className:"text-sm mb-5",style:{color:"var(--text-secondary)"},children:["Â¿EstÃ¡s seguro de que quieres eliminar ",c.tipo==="transferencia"?"esta":"este"," ",c.tipo,"?",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-base mt-1 inline-block",style:{color:N(c.tipo).color},children:c.tipo==="transferencia"?C(c.montoSaliente):C(c.montoPesos||c.monto)})," - ",c.tipo==="transferencia"?`${c.cuentaSaliente} â†’ ${c.cuentaEntrante}`:c.categoria]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3.5 rounded-xl font-semibold transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:"Cancelar"}),e.jsx("button",{onClick:M,className:"flex-1 py-3.5 rounded-xl font-semibold text-white transition-all duration-200 hover:opacity-90 active:scale-[0.98]",style:{backgroundColor:"var(--accent-red)",boxShadow:"0 4px 20px rgba(255, 92, 114, 0.3)"},children:"Eliminar"})]})]})})]})]})}function Ne(){const m=q(),{showError:b}=se(),[t,v]=u.useState("ARS"),[n,f]=u.useState({from:ae(new Date),to:te(new Date)}),[p,a]=u.useState(()=>{try{const o=localStorage.getItem("cashe_home_movement_dates");if(o){const d=JSON.parse(o);return{from:d.from?new Date(d.from):T(new Date,{weekStartsOn:1}),to:d.to?new Date(d.to):H(new Date,{weekStartsOn:1})}}}catch(o){console.warn("Error loading saved date range:",o)}return{from:T(new Date,{weekStartsOn:1}),to:H(new Date,{weekStartsOn:1})}});u.useEffect(()=>{var o,d;try{localStorage.setItem("cashe_home_movement_dates",JSON.stringify({from:((o=p.from)==null?void 0:o.toISOString())||null,to:((d=p.to)==null?void 0:d.toISOString())||null}))}catch(P){console.warn("Error saving date range:",P)}},[p]);const[y,j]=u.useState(()=>{try{const o=localStorage.getItem("cashe_home_filters");if(o){const d=JSON.parse(o);return{tipos:d.tipos||[],cuentas:d.cuentas||[],categorias:d.categorias||[]}}}catch(o){console.warn("Error loading saved filters:",o)}return{tipos:[],cuentas:[],categorias:[]}});u.useEffect(()=>{try{localStorage.setItem("cashe_home_filters",JSON.stringify(y))}catch(o){console.warn("Error saving filters:",o)}},[y]);const[s,c]=u.useState(null),[w,N]=u.useState([]),[S,M]=u.useState([]),[l,x]=u.useState({ingresos:[],gastos:[]}),[r,i]=u.useState(!0),[k,D]=u.useState(!0),[A,U]=u.useState(!0),[$,h]=u.useState(null),[g,L]=u.useState(null),[K,_]=u.useState(!1);u.useEffect(()=>{async function o(){try{const[d,P]=await Promise.all([ce(),ie()]);M(d.accounts||[]),x(P.categorias||{ingresos:[],gastos:[]})}catch(d){console.error("Error fetching initial data:",d)}finally{U(!1)}}o()},[]);const R=u.useCallback(async()=>{try{i(!0);const o=await re({fromDate:n.from?W(n.from,"yyyy-MM-dd"):null,toDate:n.to?W(n.to,"yyyy-MM-dd"):null});c(o.dashboard),h(null)}catch(o){h(o.message),console.error("Error fetching dashboard:",o)}finally{i(!1)}},[n]);u.useEffect(()=>{R()},[R]);const B=u.useCallback(async()=>{try{D(!0);const o=await oe({fromDate:p.from?W(p.from,"yyyy-MM-dd"):null,toDate:p.to?W(p.to,"yyyy-MM-dd"):null,tipos:y.tipos,cuentas:y.cuentas,categorias:y.categorias});N(o.movements||[])}catch(o){console.error("Error fetching movements:",o)}finally{D(!1)}},[p,y]);u.useEffect(()=>{B()},[B]);const I=u.useCallback(async()=>{await Promise.all([R(),B()])},[R,B]);le(E.ALL_DATA_CHANGED,I);const Q=async o=>{try{_(!0),await me(o),L(null);const d=o.tipo==="ingreso"?E.INCOMES_CHANGED:o.tipo==="gasto"?E.EXPENSES_CHANGED:E.TRANSFERS_CHANGED;V(d),V(E.ACCOUNTS_CHANGED),await Promise.all([R(),B()])}catch(d){console.error("Error updating movement:",d),b("No se pudo guardar el movimiento",d.message)}finally{_(!1)}},G=async o=>{L(null),N(d=>d.filter(P=>!(P.tipo===o.tipo&&P.rowIndex===o.rowIndex)));try{await de(o);const d=o.tipo==="ingreso"?E.INCOMES_CHANGED:o.tipo==="gasto"?E.EXPENSES_CHANGED:E.TRANSFERS_CHANGED;V(d),V(E.ACCOUNTS_CHANGED),await Promise.all([R(),B()])}catch(d){console.error("Error deleting movement:",d),b("No se pudo eliminar el movimiento",d.message),await B()}},Y=o=>{L(null),m("/nuevo",{state:{prefill:o}})};return A&&r?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(J,{size:"lg"})}):$&&!s?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsxs("p",{style:{color:"var(--accent-red)"},children:["Error: ",$]}),e.jsx("button",{onClick:R,className:"px-4 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Reintentar"})]}):e.jsx(xe,{onRefresh:I,disabled:r&&k,children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-base sm:text-lg font-medium",style:{color:"var(--text-primary)"},children:"Dashboard"}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsxs("div",{className:"inline-flex p-0.5 sm:p-1 rounded-md sm:rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("button",{onClick:()=>v("ARS"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-[11px] sm:text-xs font-medium transition-colors duration-150 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="ARS"?"var(--bg-elevated)":"transparent",color:t==="ARS"?"var(--text-primary)":"var(--text-muted)"},children:[e.jsx("img",{src:"/icons/catalog/ARS.svg",alt:"ARS",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"ARS"]}),e.jsxs("button",{onClick:()=>v("USD"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-[11px] sm:text-xs font-medium transition-colors duration-150 flex items-center gap-1 sm:gap-1.5",style:{backgroundColor:t==="USD"?"var(--bg-elevated)":"transparent",color:t==="USD"?"var(--text-primary)":"var(--text-muted)"},children:[e.jsx("img",{src:"/icons/catalog/USD.svg",alt:"USD",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded-sm"}),"USD"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{value:n,onChange:f,defaultPreset:"Este mes"}),(n.from||n.to)&&e.jsx("button",{onClick:()=>f({from:null,to:null}),className:"p-1.5 rounded-lg transition-colors hover:opacity-80",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},title:"Limpiar fechas",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),r?e.jsx("div",{className:"rounded-xl p-12 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)"},children:e.jsx(J,{})}):e.jsx(pe,{totalPesos:s==null?void 0:s.totalPesos,totalDolares:s==null?void 0:s.totalDolares,totalGeneralPesos:s==null?void 0:s.totalGeneralPesos,totalGeneralDolares:s==null?void 0:s.totalGeneralDolares,tipoCambio:s==null?void 0:s.tipoCambio,currency:t,ingresosMes:s==null?void 0:s.ingresosMes,gastosMes:s==null?void 0:s.gastosMes,ingresosMesDolares:s==null?void 0:s.ingresosMesDolares,gastosMesDolares:s==null?void 0:s.gastosMesDolares}),e.jsx(he,{accounts:S,loading:A,onAccountClick:o=>{j(d=>({...d,cuentas:[o.nombre]}))}}),e.jsx(ge,{movements:w,loading:k}),e.jsx(ye,{movements:w,dateRange:p,onDateRangeChange:a,filters:y,onFilterChange:j,accounts:S,categories:l,onMovementClick:L,onMovementDelete:G,loading:k,currency:t}),g&&e.jsx(ne,{movement:g,accounts:S,categories:l,onSave:Q,onDelete:G,onDuplicate:Y,onClose:()=>L(null),onConvertedToRecurring:I,loading:K})]})})}export{Ne as default};
