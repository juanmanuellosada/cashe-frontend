import{aY as I,aZ as oe,s as C,a_ as H,t as R,a$ as G,b0 as J,b1 as q,g as le,r as y,b as u,k as V,h as F,e as O,b2 as Y,ai as Z,j as e,L as ce,c as w,f as b,b3 as ie,b4 as de}from"./index-k7BheE9E.js";import{s as me}from"./subMonths-iIdC1yWY.js";function xe(s){return I(s,Date.now())}function ue(s,t,a){const[n,l]=oe(a==null?void 0:a.in,s,t);return+C(n,a)==+C(l,a)}function A(s,t){return H(I(s,s),xe(s))}function _(s,t){const a=()=>I(t==null?void 0:t.in,NaN),l=fe(s);let h;if(l.date){const x=ve(l.date,2);h=ge(x.restDateString,x.year)}if(!h||isNaN(+h))return a();const M=+h;let g=0,j;if(l.time&&(g=je(l.time),isNaN(g)))return a();if(l.timezone){if(j=be(l.timezone),isNaN(j))return a()}else{const x=new Date(M+g),D=R(0,t==null?void 0:t.in);return D.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),D.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),D}return R(M+g+j,t==null?void 0:t.in)}const $={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},he=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fe(s){const t={},a=s.split($.dateTimeDelimiter);let n;if(a.length>2)return t;if(/:/.test(a[0])?n=a[0]:(t.date=a[0],n=a[1],$.timeZoneDelimiter.test(t.date)&&(t.date=s.split($.timeZoneDelimiter)[0],n=s.substr(t.date.length,s.length))),n){const l=$.timezone.exec(n);l?(t.time=n.replace(l[1],""),t.timezone=l[1]):t.time=n}return t}function ve(s,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=s.match(a);if(!n)return{year:NaN,restDateString:""};const l=n[1]?parseInt(n[1]):null,h=n[2]?parseInt(n[2]):null;return{year:h===null?l:h*100,restDateString:s.slice((n[1]||n[2]).length)}}function ge(s,t){if(t===null)return new Date(NaN);const a=s.match(he);if(!a)return new Date(NaN);const n=!!a[4],l=T(a[1]),h=T(a[2])-1,M=T(a[3]),g=T(a[4]),j=T(a[5])-1;if(n)return Me(t,g,j)?ke(t,g,j):new Date(NaN);{const x=new Date(0);return!we(t,h,M)||!Ce(t,l)?new Date(NaN):(x.setUTCFullYear(t,h,Math.max(l,M)),x)}}function T(s){return s?parseInt(s):1}function je(s){const t=s.match(pe);if(!t)return NaN;const a=B(t[1]),n=B(t[2]),l=B(t[3]);return De(a,n,l)?a*G+n*J+l*1e3:NaN}function B(s){return s&&parseFloat(s.replace(",","."))||0}function be(s){if(s==="Z")return 0;const t=s.match(ye);if(!t)return 0;const a=t[1]==="+"?-1:1,n=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return Se(n,l)?a*(n*G+l*J):NaN}function ke(s,t,a){const n=new Date(0);n.setUTCFullYear(s,0,4);const l=n.getUTCDay()||7,h=(t-1)*7+a+1-l;return n.setUTCDate(n.getUTCDate()+h),n}const Ne=[31,null,31,30,31,30,31,31,30,31,30,31];function K(s){return s%400===0||s%4===0&&s%100!==0}function we(s,t,a){return t>=0&&t<=11&&a>=1&&a<=(Ne[t]||(K(s)?29:28))}function Ce(s,t){return t>=1&&t<=(K(s)?366:365)}function Me(s,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function De(s,t,a){return s===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&s>=0&&s<25}function Se(s,t){return t>=0&&t<=59}function Le(s,t,a){return q(s,-1,a)}function We(){const{showError:s}=le(),[t,a]=y.useState(new Date),[n,l]=y.useState(new Date),[h,M]=y.useState([]),[g,j]=y.useState(!0),[x,D]=y.useState("all"),[p,U]=y.useState("month");y.useEffect(()=>{(async()=>{try{j(!0);let o,d;if(p==="month"){const N=V(t),m=F(t);o=C(N,{weekStartsOn:1}),d=O(m,{weekStartsOn:1})}else o=C(t,{weekStartsOn:1}),d=O(t,{weekStartsOn:1});const c=u(o,"yyyy-MM-dd"),i=u(d,"yyyy-MM-dd"),v=await ie(c,i);M(v||[])}catch(o){console.error("Error fetching calendar events:",o),s("Error","No se pudieron cargar los eventos del calendario")}finally{j(!1)}})()},[t,p]);const S=y.useMemo(()=>{const r=Array.isArray(h)?h:[];return x==="all"?r:r.filter(o=>o.type===x)},[h,x]),L=y.useMemo(()=>{const r={};return S.forEach(o=>{r[o.date]||(r[o.date]=[]),r[o.date].push(o)}),r},[S]),E=y.useMemo(()=>{const r=u(n,"yyyy-MM-dd");return L[r]||[]},[n,L]),P=r=>{const o=L[r]||[];let d=0,c=0;return o.forEach(i=>{i.type==="income"?d+=i.amount:i.type==="expense"&&(c+=i.amount)}),{income:d,expense:c}},Q=y.useMemo(()=>{const r=V(t),o=F(t),d=C(r,{weekStartsOn:1}),c=O(o,{weekStartsOn:1}),i=[];let v=d;for(;v<=c;)i.push(v),v=Y(v,1);return i},[t]),X=y.useMemo(()=>{const r=C(t,{weekStartsOn:1}),o=[];for(let d=0;d<7;d++)o.push(Y(r,d));return o},[t]),ee=()=>{a(p==="month"?me(t,1):Le(t))},te=()=>{a(p==="month"?de(t,1):q(t,1))},re=()=>{a(new Date),l(new Date)},k=r=>{switch(r){case"income":return"var(--accent-green)";case"expense":return"var(--accent-red)";case"transfer":return"var(--accent-blue)";default:return"var(--text-muted)"}},z=(r,o=!1)=>{if(o)switch(r){case"income":return"color-mix(in srgb, var(--accent-green) 10%, transparent)";case"expense":return"color-mix(in srgb, var(--accent-red) 10%, transparent)";case"transfer":return"color-mix(in srgb, var(--accent-blue) 10%, transparent)";default:return"var(--bg-tertiary)"}switch(r){case"income":return"var(--accent-green-dim)";case"expense":return"var(--accent-red-dim)";case"transfer":return"var(--accent-blue-dim)";default:return"var(--bg-tertiary)"}},se=[{id:"all",label:"Todos"},{id:"expense",label:"Gastos",color:"var(--accent-red)"},{id:"income",label:"Ingresos",color:"var(--accent-green)"},{id:"transfer",label:"Transferencias",color:"var(--accent-blue)"}],ae=["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],ne=()=>{if(p==="month")return u(t,"MMMM yyyy",{locale:w});{const r=C(t,{weekStartsOn:1}),o=O(t,{weekStartsOn:1}),d=u(r,"MMM",{locale:w}),c=u(o,"MMM",{locale:w});return d===c?`${u(r,"d")} - ${u(o,"d")} ${u(o,"MMMM yyyy",{locale:w})}`:`${u(r,"d MMM",{locale:w})} - ${u(o,"d MMM yyyy",{locale:w})}`}},W=y.useMemo(()=>{let r;if(p==="month")r=S.filter(c=>Z(_(c.date),t));else{const c=C(t,{weekStartsOn:1});r=S.filter(i=>ue(_(i.date),c,{weekStartsOn:1}))}const o=r.filter(c=>c.type==="income").reduce((c,i)=>c+i.amount,0),d=r.filter(c=>c.type==="expense").reduce((c,i)=>c+i.amount,0);return{income:o,expense:d,balance:o-d}},[S,t,p]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Calendario"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Visualiza todos tus movimientos"})]}),e.jsxs("div",{className:"flex items-center gap-2 self-start",children:[e.jsxs("div",{className:"flex p-1 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("button",{onClick:()=>U("month"),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${p==="month"?"shadow-sm":""}`,style:{backgroundColor:p==="month"?"var(--bg-primary)":"transparent",color:p==="month"?"var(--text-primary)":"var(--text-muted)"},children:"Mes"}),e.jsx("button",{onClick:()=>U("week"),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${p==="week"?"shadow-sm":""}`,style:{backgroundColor:p==="week"?"var(--bg-primary)":"transparent",color:p==="week"?"var(--text-primary)":"var(--text-muted)"},children:"Semana"})]}),e.jsx("button",{onClick:re,className:"px-4 py-2 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Hoy"})]})]}),e.jsx("div",{className:"flex gap-1 p-1 rounded-xl overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:se.map(r=>e.jsx("button",{onClick:()=>D(r.id),className:`
              px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0
              ${x===r.id?"shadow-sm":"hover:opacity-80"}
            `,style:{backgroundColor:x===r.id?"var(--bg-primary)":"transparent",color:x===r.id?r.color||"var(--text-primary)":"var(--text-muted)"},children:r.label},r.id))}),e.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid var(--border-subtle)"},children:[e.jsx("button",{onClick:ee,className:"p-2 rounded-lg transition-colors hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-secondary)"},children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-lg font-semibold capitalize",style:{color:"var(--text-primary)"},children:ne()}),e.jsx("button",{onClick:te,className:"p-2 rounded-lg transition-colors hover:bg-[var(--bg-tertiary)]",style:{color:"var(--text-secondary)"},children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-px",style:{backgroundColor:"var(--border-subtle)"},children:ae.map(r=>e.jsx("div",{className:"px-2 py-2 text-center text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-muted)"},children:r},r))}),g?e.jsx("div",{className:"flex items-center justify-center py-20",style:{backgroundColor:"var(--bg-secondary)"},children:e.jsx(ce,{})}):p==="month"?e.jsx("div",{className:"grid grid-cols-7 gap-px",style:{backgroundColor:"var(--border-subtle)"},children:Q.map((r,o)=>{const d=u(r,"yyyy-MM-dd"),c=L[d]||[],i=P(d),v=Z(r,t),N=H(r,n),m=A(r);return e.jsxs("button",{onClick:()=>l(r),className:`
                    relative min-h-[80px] p-1.5 text-left transition-all
                    ${v?"":"opacity-40"}
                    ${N?"ring-2 ring-inset":""}
                  `,style:{backgroundColor:N?"var(--bg-tertiary)":"var(--bg-secondary)",ringColor:"var(--accent-primary)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`
                        w-6 h-6 flex items-center justify-center text-xs font-medium rounded-full
                        ${m?"text-white":""}
                      `,style:{backgroundColor:m?"var(--accent-primary)":"transparent",color:m?"white":"var(--text-primary)"},children:u(r,"d")}),c.length>0&&e.jsx("span",{className:"text-[10px] px-1 rounded",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},children:c.length})]}),e.jsxs("div",{className:"space-y-0.5",children:[c.slice(0,3).map(f=>e.jsxs("div",{className:`flex items-center gap-1 px-1 py-0.5 rounded text-[10px] truncate ${f.isScheduled?"border border-dashed":""}`,style:{backgroundColor:z(f.type,f.isScheduled),color:k(f.type),borderColor:f.isScheduled?k(f.type):"transparent",opacity:f.isScheduled?.8:1},children:[f.isRecurring&&e.jsx("svg",{className:"w-2 h-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.isFuture&&e.jsx("svg",{className:"w-2 h-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.isScheduled&&e.jsx("svg",{className:"w-2 h-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"truncate",children:f.name})]},f.id)),c.length>3&&e.jsxs("div",{className:"text-[10px] px-1",style:{color:"var(--text-muted)"},children:["+",c.length-3," más"]})]}),(i.income>0||i.expense>0)&&e.jsxs("div",{className:"hidden sm:flex absolute bottom-1 right-1 gap-1 text-[9px]",children:[i.income>0&&e.jsxs("span",{style:{color:"var(--accent-green)"},children:["+",b(i.income,"Peso")]}),i.expense>0&&e.jsxs("span",{style:{color:"var(--accent-red)"},children:["-",b(i.expense,"Peso")]})]})]},o)})}):e.jsx("div",{className:"grid grid-cols-7 gap-px",style:{backgroundColor:"var(--border-subtle)"},children:X.map((r,o)=>{const d=u(r,"yyyy-MM-dd"),c=L[d]||[],i=P(d),v=H(r,n),N=A(r);return e.jsxs("button",{onClick:()=>l(r),className:`
                    relative min-h-[200px] p-2 text-left transition-all flex flex-col
                    ${v?"ring-2 ring-inset":""}
                  `,style:{backgroundColor:v?"var(--bg-tertiary)":"var(--bg-secondary)",ringColor:"var(--accent-primary)"},children:[e.jsxs("div",{className:"flex flex-col items-center mb-2 pb-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsx("span",{className:`
                        w-8 h-8 flex items-center justify-center text-sm font-bold rounded-full mb-1
                        ${N?"text-white":""}
                      `,style:{backgroundColor:N?"var(--accent-primary)":"transparent",color:N?"white":"var(--text-primary)"},children:u(r,"d")}),e.jsx("span",{className:"text-[10px] capitalize",style:{color:"var(--text-muted)"},children:u(r,"EEE",{locale:w})})]}),e.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto",children:[c.map(m=>e.jsx("div",{className:`flex items-center gap-1 px-1.5 py-1 rounded text-[11px] ${m.isScheduled?"border border-dashed":""}`,style:{backgroundColor:z(m.type,m.isScheduled),color:k(m.type),borderColor:m.isScheduled?k(m.type):"transparent",opacity:m.isScheduled?.8:1},children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[m.isRecurring&&e.jsx("svg",{className:"w-2.5 h-2.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),m.isFuture&&e.jsx("svg",{className:"w-2.5 h-2.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.isScheduled&&e.jsx("svg",{className:"w-2.5 h-2.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"truncate font-medium",children:m.name})]}),e.jsxs("div",{className:"text-[10px] opacity-80",children:[m.type==="expense"?"-":m.type==="income"?"+":"",b(m.amount,"Peso")]})]})},m.id)),c.length===0&&e.jsx("div",{className:"text-[10px] text-center py-2",style:{color:"var(--text-muted)"},children:"Sin eventos"})]}),(i.income>0||i.expense>0)&&e.jsxs("div",{className:"mt-2 pt-2 border-t text-[10px] space-y-0.5",style:{borderColor:"var(--border-subtle)"},children:[i.income>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"var(--text-muted)"},children:"Ingresos"}),e.jsxs("span",{style:{color:"var(--accent-green)"},children:["+",b(i.income,"Peso")]})]}),i.expense>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"var(--text-muted)"},children:"Gastos"}),e.jsxs("span",{style:{color:"var(--accent-red)"},children:["-",b(i.expense,"Peso")]})]})]})]},o)})})]}),e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold capitalize",style:{color:"var(--text-primary)"},children:u(n,"EEEE d 'de' MMMM",{locale:w})}),E.length>0&&e.jsxs("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:[E.length," evento",E.length!==1?"s":""]})]}),E.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-muted)"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"No hay movimientos para este día"})]}):e.jsx("div",{className:"space-y-2",children:E.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:z(r.type)},children:[r.type==="income"&&e.jsx("svg",{className:"w-5 h-5",style:{color:k(r.type)},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.type==="expense"&&e.jsx("svg",{className:"w-5 h-5",style:{color:k(r.type)},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),r.type==="transfer"&&e.jsx("svg",{className:"w-5 h-5",style:{color:k(r.type)},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-sm truncate",style:{color:"var(--text-primary)"},children:r.name}),r.isRecurring&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] flex-shrink-0",style:{backgroundColor:"var(--accent-purple-dim)",color:"var(--accent-purple)"},children:"Recurrente"}),r.isFuture&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] flex-shrink-0",style:{backgroundColor:"var(--accent-yellow-dim)",color:"var(--accent-yellow)"},children:"Futuro"}),r.eventType==="recurring_scheduled"&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] flex-shrink-0",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-muted)"},children:"Próximo"}),r.isScheduled&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] flex-shrink-0 border border-dashed",style:{backgroundColor:"var(--accent-orange-dim)",color:"var(--accent-orange)",borderColor:"var(--accent-orange)"},children:"Por aprobar"})]}),r.account&&e.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:r.account})]})]}),e.jsxs("span",{className:"font-semibold text-sm whitespace-nowrap ml-3",style:{color:k(r.type)},children:[r.type==="expense"?"-":r.type==="income"?"+":"",b(r.amount,"Peso")]})]},r.id))})]}),e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsx("h4",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Leyenda"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--accent-green)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Ingreso"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--accent-red)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Gasto"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--accent-blue)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Transferencia"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3",style:{color:"var(--accent-purple)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Recurrente"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded border border-dashed",style:{borderColor:"var(--accent-orange)",backgroundColor:"var(--accent-orange-dim)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Por aprobar"})]})]})]}),!g&&e.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("h4",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:["Resumen ",p==="month"?"del mes":"de la semana"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-muted)"},children:"Ingresos"}),e.jsx("p",{className:"font-bold",style:{color:"var(--accent-green)"},children:b(W.income,"Peso")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-muted)"},children:"Gastos"}),e.jsx("p",{className:"font-bold",style:{color:"var(--accent-red)"},children:b(W.expense,"Peso")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-muted)"},children:"Balance"}),e.jsx("p",{className:"font-bold",style:{color:W.balance>=0?"var(--accent-green)":"var(--accent-red)"},children:b(W.balance,"Peso")})]})]})]})]})}export{We as default};
