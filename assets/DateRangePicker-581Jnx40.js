import{ag as k,r as n,e as j,s as D,h as i,k as c,j as t,ah as M,c as S,b as y}from"./index-CKWgcbuo.js";function f(o,a,d){return k(o,-a,d)}const b=[{label:"Esta semana",getValue:()=>({from:D(new Date,{weekStartsOn:1}),to:j(new Date,{weekStartsOn:1})})},{label:"Este mes",getValue:()=>({from:c(new Date),to:i(new Date)})},{label:"Mes anterior",getValue:()=>({from:c(f(new Date,1)),to:i(f(new Date,1))})},{label:"Ultimos 3 meses",getValue:()=>({from:c(f(new Date,2)),to:i(new Date)})}];function N({value:o,onChange:a,presets:d=b,defaultPreset:v="Este mes"}){var p;const[u,l]=n.useState(!1),[r,m]=n.useState(o||((p=b.find(e=>e.label===v))==null?void 0:p.getValue())||{from:c(new Date),to:i(new Date)}),x=n.useRef(null);n.useEffect(()=>{o&&m(o)},[o]);const h=e=>{e!=null&&e.from&&(m(e),e.to&&(a==null||a(e)))},g=e=>{const s=e.getValue();m(s),a==null||a(s),l(!1)},w=()=>r!=null&&r.from?r!=null&&r.to?`${y(r.from,"dd-MM-yyyy")} - ${y(r.to,"dd-MM-yyyy")}`:y(r.from,"dd-MM-yyyy"):"Seleccionar fechas";return n.useEffect(()=>{const e=s=>{x.current&&!x.current.contains(s.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),t.jsxs("div",{ref:x,className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>l(!u),className:"px-3 py-2 rounded-xl text-sm flex items-center gap-2 transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[t.jsx("svg",{className:"w-4 h-4",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("span",{className:"font-medium text-xs",children:w()}),t.jsx("svg",{className:`w-3.5 h-3.5 transition-transform duration-300 ${u?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&t.jsxs("div",{className:"absolute z-50 mt-2 rounded-2xl shadow-2xl p-4 right-0 animate-scale-in",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)",minWidth:"290px",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 0 40px rgba(139, 124, 255, 0.1)"},children:[t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.map(e=>t.jsx("button",{onClick:()=>g(e),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 hover:bg-[var(--accent-primary-dim)] hover:text-[var(--accent-primary)] active:scale-95",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:e.label},e.label))}),t.jsx(M,{mode:"range",selected:r,onSelect:h,locale:S,weekStartsOn:1,showOutsideDays:!0,numberOfMonths:1,formatters:{formatWeekdayName:e=>["Do","Lu","Ma","Mi","Ju","Vi","Sa"][e.getDay()]},classNames:{months:"flex flex-col",month:"space-y-3",month_caption:"flex justify-center relative items-center h-10 mb-2",caption_label:"text-sm font-bold font-display",nav:"flex items-center",button_previous:"absolute left-0 h-8 w-8 bg-transparent p-0 inline-flex items-center justify-center rounded-xl hover:bg-[var(--bg-tertiary)] transition-colors",button_next:"absolute right-0 h-8 w-8 bg-transparent p-0 inline-flex items-center justify-center rounded-xl hover:bg-[var(--bg-tertiary)] transition-colors",month_grid:"w-full border-collapse",weekdays:"flex w-full",weekday:"w-9 h-9 font-semibold text-[10px] uppercase tracking-wider flex items-center justify-center",week:"flex w-full",day:"w-9 h-9 text-center text-sm p-0",day_button:"w-full h-full rounded-xl hover:bg-[var(--accent-primary)] hover:bg-opacity-20 flex items-center justify-center cursor-pointer transition-all duration-200 font-medium",selected:"bg-[var(--accent-primary)] text-white hover:bg-[var(--accent-primary)]",range_start:"rounded-xl bg-[var(--accent-primary)] text-white",range_end:"rounded-xl bg-[var(--accent-primary)] text-white",range_middle:"bg-[var(--accent-primary)] bg-opacity-15 rounded-none",today:"font-bold ring-2 ring-[var(--accent-primary)] ring-opacity-50",outside:"opacity-30",disabled:"opacity-20 cursor-not-allowed"},styles:{caption_label:{color:"var(--text-primary)"},weekday:{color:"var(--text-secondary)"},day_button:{color:"var(--text-primary)"},button_previous:{color:"var(--text-primary)"},button_next:{color:"var(--text-primary)"}}}),t.jsx("div",{className:"flex justify-end mt-4 pt-3",style:{borderTop:"1px solid var(--border-subtle)"},children:t.jsx("button",{onClick:()=>l(!1),className:"px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 hover:opacity-90 active:scale-[0.98]",style:{background:"linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%)",color:"white",boxShadow:"0 4px 16px var(--accent-primary-glow)"},children:"Aplicar"})})]})]})}export{N as D,f as s};
