import{r as l,j as r,v as j,t as M,o as c,s as m,aq as _,e as N,b as n,an as p}from"./index-Bs2UX6zf.js";const y=[{label:"Esta semana",getValue:()=>({from:M(new Date,{weekStartsOn:1}),to:j(new Date,{weekStartsOn:1})})},{label:"Este mes",getValue:()=>({from:m(new Date),to:c(new Date)})},{label:"Mes anterior",getValue:()=>({from:m(p(new Date,1)),to:c(p(new Date,1))})},{label:"Ultimos 3 meses",getValue:()=>({from:m(p(new Date,2)),to:c(new Date)})}],h=o=>o?o instanceof Date?o:new Date(o):null;function S({value:o,onChange:s,presets:v=y,defaultPreset:g="Este mes"}){const[d,i]=l.useState(!1),u=l.useRef(null),f=e=>{var t;return e?{from:h(e.from),to:h(e.to)}:((t=y.find(b=>b.label===g))==null?void 0:t.getValue())||{from:m(new Date),to:c(new Date)}},[a,x]=l.useState(()=>f(o));l.useEffect(()=>{o&&x(f(o))},[o]);const w=e=>{e!=null&&e.from&&(x(e),e.to&&(s==null||s(e)))},k=e=>{const t=e.getValue();x(t),s==null||s(t),i(!1)},D=()=>{if(!(a!=null&&a.from))return"Fechas";const e=a.from instanceof Date?a.from:new Date(a.from),t=a.to?a.to instanceof Date?a.to:new Date(a.to):null;return t?e.getMonth()===t.getMonth()?`${n(e,"d")}-${n(t,"d")}/${n(t,"M")}`:`${n(e,"d/M")}-${n(t,"d/M")}`:n(e,"d/M")};return l.useEffect(()=>{const e=t=>{u.current&&!u.current.contains(t.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.jsxs("div",{ref:u,className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>i(!d),className:"px-2.5 sm:px-3 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-sm flex items-center gap-1.5 transition-all duration-200 hover:bg-[var(--bg-tertiary)] active:scale-[0.98]",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:[r.jsx("svg",{className:"w-4 h-4 flex-shrink-0",style:{color:"var(--accent-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.75,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("span",{className:"font-medium text-xs",children:D()}),r.jsx("svg",{className:`w-3.5 h-3.5 transition-transform duration-300 flex-shrink-0 ${d?"rotate-180":""}`,style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&r.jsxs("div",{className:"absolute z-50 mt-2 rounded-xl min-[400px]:rounded-2xl shadow-2xl p-3 sm:p-4 right-0 sm:right-0 left-auto animate-scale-in max-w-[calc(100vw-32px)] sm:max-w-none",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-subtle)",minWidth:"min(290px, calc(100vw - 32px))",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 0 40px rgba(139, 124, 255, 0.1)"},children:[r.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:v.map(e=>r.jsx("button",{onClick:()=>k(e),className:"px-2.5 sm:px-3 py-1.5 sm:py-1.5 rounded-md min-[400px]:rounded-lg text-xs font-semibold transition-all duration-200 hover:bg-[var(--accent-primary-dim)] hover:text-[var(--accent-primary)] active:scale-95",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:e.label},e.label))}),r.jsx(_,{mode:"range",selected:a,onSelect:w,locale:N,weekStartsOn:1,showOutsideDays:!0,numberOfMonths:1,formatters:{formatWeekdayName:e=>["Do","Lu","Ma","Mi","Ju","Vi","Sa"][e.getDay()]},classNames:{months:"flex flex-col",month:"space-y-2 sm:space-y-3",month_caption:"flex justify-center relative items-center h-8 sm:h-10 mb-1 sm:mb-2",caption_label:"text-xs sm:text-sm font-bold font-display",nav:"flex items-center",button_previous:"absolute left-0 h-7 w-7 sm:h-8 sm:w-8 bg-transparent p-0 inline-flex items-center justify-center rounded-xl hover:bg-[var(--bg-tertiary)] transition-colors",button_next:"absolute right-0 h-7 w-7 sm:h-8 sm:w-8 bg-transparent p-0 inline-flex items-center justify-center rounded-xl hover:bg-[var(--bg-tertiary)] transition-colors",month_grid:"w-full border-collapse",weekdays:"flex w-full",weekday:"w-8 h-8 sm:w-9 sm:h-9 font-semibold text-[9px] sm:text-[10px] uppercase tracking-wider flex items-center justify-center",week:"flex w-full",day:"w-8 h-8 sm:w-9 sm:h-9 text-center text-xs sm:text-sm p-0",day_button:"w-full h-full rounded-lg sm:rounded-xl hover:bg-[var(--accent-primary)] hover:bg-opacity-20 flex items-center justify-center cursor-pointer transition-all duration-200 font-medium",selected:"bg-[var(--accent-primary)] text-white hover:bg-[var(--accent-primary)]",range_start:"rounded-lg sm:rounded-xl bg-[var(--accent-primary)] text-white",range_end:"rounded-lg sm:rounded-xl bg-[var(--accent-primary)] text-white",range_middle:"bg-[var(--accent-primary)] bg-opacity-15 rounded-none",today:"font-bold ring-2 ring-[var(--accent-primary)] ring-opacity-50",outside:"opacity-30",disabled:"opacity-20 cursor-not-allowed"},styles:{caption_label:{color:"var(--text-primary)"},weekday:{color:"var(--text-secondary)"},day_button:{color:"var(--text-primary)"},button_previous:{color:"var(--text-primary)"},button_next:{color:"var(--text-primary)"}}}),r.jsx("div",{className:"flex justify-end mt-3 sm:mt-4 pt-2 sm:pt-3",style:{borderTop:"1px solid var(--border-subtle)"},children:r.jsx("button",{onClick:()=>i(!1),className:"px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg min-[400px]:rounded-xl text-sm font-semibold transition-all duration-200 hover:opacity-90 active:scale-[0.98]",style:{background:"linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%)",color:"white",boxShadow:"0 4px 16px var(--accent-primary-glow)"},children:"Aplicar"})})]})]})}export{S as D};
